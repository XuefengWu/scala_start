provide('/account/templates_t1_core.js',function(exports){if(!twttr.isMockview){var __hogan_opts = {sectionTags:[{o: '_i', c: 'i'}], disableLambda:true}; twttr.provide('twttr.templates',{ "tweet_user_name": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("user",c,p,1),c,p,0,9,403,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<span class='tweet-user-name'>\n  <a class='tweet-screen-name user-profile-link js-action-profile-name' data-user-id='");t.b(t.v(t.f("id",c,p,0)));t.b("' href='");t.b(t.v(t.f("profile_path",c,p,0)));t.b("' title='");t.b(t.v(t.f("name",c,p,0)));t.b("'>");t.b(t.v(t.f("screen_name",c,p,0)));t.b("</a>\n  <span class='tweet-full-name'>");t.b(t.v(t.f("name",c,p,0)));t.b("</span>\n");if(t.s(t.f("show_follow_action",c,p,1),c,p,0,269,371,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("is_current_user",c,p,1),c,p,1,0,0,"")){t.b("    <span class=\"tweet-user-follow\">\n    </span>\n");};});c.pop();}t.b("</span>\n");});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"more_button": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"stream-item\">\n  <div class=\"more-button-container\">\n    <a class=\"more-button btn\">更多</a>\n  </div>\n</div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"stream\">\n  \n  <div class=\"js-stream-items stream-items\" id=\"stream-items-id\"></div>\n</div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_loading": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"stream-loading\">\n  <div class=\"stream-end-inner\">\n    <span class=\"spinner\" title=\"正在载入...\"></span>\n  </div>\n</div>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"activity_modal": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div id='activity-modal' style='display: none'>\n  <div class='left-pointer'></div>\n  <a class='dismiss' title=\"隐藏\">&times;</a>\n  <p class='header'><span class='new'>新功能!</span> 动态和 @");t.b(t.v(t.f("current_user_screen_name",c,p,0)));t.b("</p>\n  <p class='desc'>\n      在<strong>动态</strong>页面查看你所关注用户的收藏、关注、转推及更多内容。\n  </p>\n  <p class='extra-blurb desc'>\n    在 <strong>@");t.b(t.v(t.f("current_user_screen_name",c,p,0)));t.b("</strong> 查看提及你的推文、被转推的推文以及更多内容。\n  </p>\n</div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_timestamp_nolink": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<span class=\"_timestamp js-tweet-timestamp\" title=\"");t.b(t.v(t.f("explicit_timestamp",c,p,0)));t.b("\" data-time=\"");t.b(t.v(t.f("actual_timestamp",c,p,0)));t.b("\" data-long-form=\"true\">");t.b(t.v(t.f("full_timestamp",c,p,0)));if(!t.s(t.f("full_timestamp",c,p,1),c,p,1,0,0,"")){t.b("&nbsp;");};t.b("</span>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_manager": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"stream-manager js-stream-manager-container\"");if(t.s(t.f("page_name_underscore",c,p,1),c,p,0,80,125,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" id=\"");t.b(t.v(t.f("page_name_underscore",c,p,0)));t.b("-stream-manager\"");});c.pop();}t.b(">\n");if(t.s(t.f("tweets",c,p,1),c,p,0,165,711,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <div class=\"stream-title\"></div>\n    <div class=\"stream-container\">\n      <div class=\"stream ");if(t.s(t.f("page_name_underscore",c,p,1),c,p,0,288,319,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("page_name_underscore",c,p,0)));t.b("-stream");});c.pop();}t.b("\">\n        \n        <div class=\"js-stream-items stream-items\" id=\"stream-items-id\">");t.b(t.t(t.f("tweets",c,p,0)));t.b("</div>\n");if(t.s(t.f("show_empty_home",c,p,1),c,p,0,474,538,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <div class=\"component\">");t.b(t.rp("empty_home0",c,p,""));t.b("</div>\n");});c.pop();}if(t.s(t.f("include_stream_footer",c,p,1),c,p,0,593,657,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <div class=\"component\">");t.b(t.rp("stream_end1",c,p,""));t.b("</div>\n");});c.pop();}t.b("\n" + i);t.b("      </div>\n    </div>\n");});c.pop();}if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,749,898,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("tweets",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("profile_page",c,p,1),c,p,0,789,862,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("can_view",c,p,1),c,p,1,0,0,"")){t.b(t.rp("stream2",c,p,"          "));};});c.pop();}};});c.pop();}t.b("</div>\n");return t.fl(); }, partials: {"empty_home0": {name:"empty_home"},"stream_end1": {name:"stream_end"},"stream2": {name:"stream"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"bg_img_css": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n" + i);t.b("<style id=\"user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b("-bg-img\" class=\"js-user-style-bg-img\">\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" {\n");if(t.s(t.f("is_vit_layout",c,p,1),c,p,0,135,173,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      background-color: #3c8fc9;\n");});c.pop();}if(!t.s(t.f("is_vit_layout",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("profile_use_background_image",c,p,1),c,p,0,254,412,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("profile_background_image_url",c,p,1),c,p,0,296,372,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          background-image: url(");t.b(t.v(t.f("profile_background_image_url",c,p,0)));t.b(");\n");});c.pop();}});c.pop();}};t.b("  }\n</style>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_dogear": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"tweet-dogear\"></div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_activity": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<span class='stream-activity-line'><i></i>");t.b(t.t(t.f("sentence",c,p,0)));t.b("</span>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"details_pane_container": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div id=\"details-pane-outer\">\n  <div class=\"details-pane-shell\">\n    <div class=\"details-pane\">\n      ");t.b(t.t(t.f("pane",c,p,0)));t.b("\n" + i);t.b("    </div>\n  </div>\n</div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_source": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<span>通过 ");t.b(t.t(t.f("source",c,p,0)));t.b("</span>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_contributor": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("contributor",c,p,1),c,p,0,16,169,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("  <span class=\"tweet-contributors\">由 <a href=\"");t.b(t.v(t.f("profile_path",c,p,0)));t.b("\" class=\"user-profile-link\" data-screen-name=\"");t.b(t.v(t.f("screen_name",c,p,0)));t.b("\">");t.b(t.v(t.f("screen_name",c,p,0)));t.b("</a></span>\n");});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"home_page": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"main-content\">\n");if(t.s(t.f("render_page_content",c,p,1),c,p,0,53,3275,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <div class=\"page-header home-header\">\n      <div id=\"main-tweet-box\">\n");t.b(t.rp("posting_tweet_box0",c,p,"        "));t.b("      </div>\n      <ul class=\"stream-tabs\">\n        <li class=\"stream-tab stream-tab-home ");if(t.s(t.f("active_tab_home",c,p,1),c,p,0,269,275,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n          <a class=\"tab-text\" title='你关注的所有内容\n      ' href=\"");t.b(t.v(t.f("index_path",c,p,0)));t.b("\">时间轴</a>\n        </li>\n\n");if(t.s(t.f("decider_activity_read",c,p,1),c,p,0,431,1010,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("decider_activity_dark_read",c,p,1),c,p,0,473,970,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("            <li class=\"stream-tab stream-tab-your_activity ");if(t.s(t.f("active_tab_your_activity",c,p,1),c,p,0,562,568,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n              <a class=\"tab-text\" title='@");t.b(t.v(t.f("current_user_screen_name",c,p,0)));t.b("' href=\"");t.b(t.v(t.f("your_activity_path",c,p,0)));t.b("\">@");t.b(t.v(t.f("current_user_screen_name",c,p,0)));t.b("</a>\n            </li>\n            <li class=\"stream-tab stream-tab-activity ");if(t.s(t.f("active_tab_activity",c,p,1),c,p,0,832,838,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n              <a class=\"tab-text\" title='动态' href=\"");t.b(t.v(t.f("activity_path",c,p,0)));t.b("\">动态</a>\n            </li>\n");});c.pop();}});c.pop();}t.b("\n" + i);if(!t.s(t.f("decider_activity_read",c,p,1),c,p,1,0,0,"")){t.b("          <li class=\"stream-tab stream-tab-mentions ");if(t.s(t.f("active_tab_mentions",c,p,1),c,p,0,1149,1155,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n            <a class=\"tab-text\" title='提及' href=\"");t.b(t.v(t.f("mentions_path",c,p,0)));t.b("\">@Mentions</a>\n          </li>\n          <li class=\"stream-tab stream-tab-retweets dropdown-link ");if(t.s(t.f("active_tab_retweets",c,p,1),c,p,0,1370,1376,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n            <a class=\"tab-text\" href=\"#\">转推<i></i></a>\n          </li>\n");};t.b("\n" + i);t.b("        <li class=\"stream-tab stream-tab-searches dropdown-link ");if(t.s(t.f("active_tab_searches",c,p,1),c,p,0,1598,1604,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n          <a class=\"tab-text\" href=\"#\">搜索<i></i></a>\n        </li>\n\n        <li class=\"stream-tab stream-tab-lists dropdown-link ");if(t.s(t.f("active_tab_lists",c,p,1),c,p,0,1781,1787,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n          <a class=\"tab-text\" href=\"#\">列表<i></i></a>\n        </li>\n");if(t.s(t.f("decider_network_discovery",c,p,1),c,p,0,1916,2162,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <li class=\"stream-tab stream-tab-discovery activity-subtabs ");if(t.s(t.f("active_tab_network_discovery",c,p,1),c,p,0,2020,2026,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n            <a class=\"tab-text\" title='发现' href=\"");t.b(t.v(t.f("discovery_path",c,p,0)));t.b("\">发现</a>\n          </li>\n");});c.pop();}t.b("      </ul>\n    </div>\n");if(t.s(t.f("decider_activity_read",c,p,1),c,p,0,2246,3039,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("decider_activity_dark_read",c,p,1),c,p,0,2284,3003,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("activity_subtabs",c,p,1),c,p,0,2314,2975,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <ul class=\"stream-subtabs stream-subtabs-activity ");if(t.s(t.f("active_tab_activity",c,p,1),c,p,0,2399,2405,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n            <li class=\"stream-tab stream-subtab-your_activity ");if(t.s(t.f("active_subtab_your_activity",c,p,1),c,p,0,2526,2532,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n              <a class=\"tab-text\" href=\"");t.b(t.v(t.f("your_activity_path",c,p,0)));t.b("\">关于你\n      </a>\n            </li>\n            <li class=\"stream-tab stream-tab-separator\">&middot;</li>\n            <li class=\"stream-tab stream-subtab-activity ");if(t.s(t.f("active_subtab_activity",c,p,1),c,p,0,2818,2824,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("active");});c.pop();}t.b("\">\n              <a class=\"tab-text\" href=\"");t.b(t.v(t.f("activity_path",c,p,0)));t.b("\">你通过某人关注的\n      </a>\n            </li>\n          </ul>\n");});c.pop();}});c.pop();}});c.pop();}t.b(t.rp("stream_manager1",c,p,"    "));t.b("    ");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,3118,3248,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<script>twttr.tweetsVisibleTime = new Date();if (window.ttft) window.ttft.serverRendered('home');twttr.keynoteTTFTPing();</script>");});c.pop();}t.b("\n" + i);});c.pop();}t.b("</div>\n<div class=\"dashboard\">\n");if(t.s(t.f("render_page_content",c,p,1),c,p,0,3357,3430,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("current_user",c,p,1),c,p,0,3379,3410,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("home_dashboard2",c,p,"      "));});c.pop();}});c.pop();}t.b("</div>\n\n");t.b(t.rp("details_pane_container3",c,p,""));return t.fl(); }, partials: {"posting_tweet_box0": {name:"posting_tweet_box"},"stream_manager1": {name:"stream_manager"},"home_dashboard2": {name:"home_dashboard"},"details_pane_container3": {name:"details_pane_container"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_details_dropdown": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"tweet-details-dropdown js-tweet-details-dropdown\">\n  <div class=\"tweet-details-fixer\">\n    <div class=\"tweet-details\">\n      <div class=\"tweet-media-container js-tweet-media-container\"></div>\n      <div class=\"loading-media js-media-loading-indicator\">正在读取媒体内容...</div>\n      <div class=\"machine-translated-tweet js-machine-translated-tweet\"></div>\n      ");if(t.s(t.f("has_retweet_count",c,p,1),c,p,0,389,446,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"social-proof js-tweet-stats-container\"></div>");});c.pop();}t.b("\n" + i);t.b("      ");if(t.s(t.f("show_geo_icon",c,p,1),c,p,0,493,528,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div class=\"geo js-tiny-geo\"></div>");});c.pop();}t.b("\n" + i);t.b("      <div class=\"via\">\n        <span class=\"tweet-source\">");t.b(t.v(t.f("explicit_timestamp",c,p,0)));t.b("</span>\n");t.b(t.rp("tweet_source0",c,p,"        "));t.b("        <span class=\"tweet-source\">&middot;</span>\n        <a href=\"");t.b(t.v(t.f("permalink_path",c,p,0)));t.b("\" class=\"tweet-source js-permalink\" ");if(t.s(t.f("impression_cookie",c,p,1),c,p,0,806,840,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("data-send-impression-cookie=\"true\"");});c.pop();}t.b(">详细信息</a>\n      </div>\n    </div>\n  </div>\n</div>");return t.fl(); }, partials: {"tweet_source0": {name:"tweet_source"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"message_drawer": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"message ");if(!t.s(t.f("rendering_on_server",c,p,1),c,p,1,0,0,"")){t.b(t.v(t.f("type",c,p,0)));};t.b("\">\n  <div class=\"message-inside\">\n    <span class=\"message-text\">");t.b(t.t(t.f("text",c,p,0)));t.b("</span\n    >");if(t.s(t.f("close_button",c,p,1),c,p,0,180,219,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<a class=\"dismiss\" href=\"#\">&times;</a>");});c.pop();}t.b("\n" + i);t.b("  </div>\n</div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_labels": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("is_top_tweet",c,p,1),c,p,0,17,210,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <span class=\"tweet-context icon-link\"><i class=\"badge-tweet badge-tweet-top\"></i>");if(t.s(t.f("retweet_count",c,p,1),c,p,0,121,144,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("被转推 ");t.b(t.v(t.f("retweet_count",c,p,0)));t.b(" 次");});c.pop();}if(!t.s(t.f("retweet_count",c,p,1),c,p,1,0,0,"")){t.b("热门推文");};t.b("</span>\n");});c.pop();}t.b("\n" + i);if(t.s(t.f("is_sponsored",c,p,1),c,p,0,246,904,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("  <a href=\"");if(t.s(t.f("retweeting_status",c,p,1),c,p,0,280,314,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("user",c,p,1),c,p,0,289,305,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("profile_path",c,p,0)));});c.pop();}});c.pop();}if(!t.s(t.f("retweeting_status",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("user",c,p,1),c,p,0,367,383,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("profile_path",c,p,0)));});c.pop();}};t.b("\" class=\"icon-link promoted-arrow tweet-context user-profile-link js-action-profile-promoted\" data-user-id=\"");if(t.s(t.f("user",c,p,1),c,p,0,531,537,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("id",c,p,0)));});c.pop();}t.b("\" title=\"");t.b(t.v(t.f("disclosure_text",c,p,0)));t.b("\"><span><i class=\"badge-tweet badge-tweet-");t.b(t.v(t.f("disclosure_type",c,p,0)));t.b("\"></i><b>由 ");t.b(t.v(t.f("advertiser_name",c,p,0)));t.b(" 推荐</b></span></a>\n\n");if(t.s(t.f("in_home_page",c,p,1),c,p,0,704,886,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("rendering_on_server",c,p,1),c,p,1,0,0,"")){t.b("      <a class=\"icon-link tweet-feedback dismiss-action js-action-dismiss\"><i></i><b>忽略</b></a>\n");};t.b("    ");t.b(t.t(t.f("social_context",c,p,0)));t.b("\n" + i);});c.pop();}});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_tweet_withheld": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"tweet original-tweet js-stream-tweet js-actionable-tweet js-profile-popup-actionable js-original-tweet ");if(t.s(t.f("hidden_by_activity",c,p,1),c,p,0,138,161,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" sub-stream-item-hidden");});c.pop();}if(t.s(t.f("embedded_by_activity",c,p,1),c,p,0,209,227,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" js-activity-tweet");});c.pop();}t.b(" ");t.b(t.rp("common_tweet_classes0",c,p,""));t.b("\" ");t.b(t.rp("tweet_data1",c,p,""));t.b(">\n  <i class=\"dogear\"></i>\n  <div class=\"content\">\n    <div class=\"stream-item-header\">\n      <a class=\"account-group\">\n        <strong class=\"fullname\">Tweet withheld</strong>\n      </a>\n");t.b(t.rp("tweet_timestamp2",c,p,"      "));t.b("    </div>\n    <p class=\"js-tweet-text\">");t.b(t.t(t.f("linkified_text",c,p,0)));t.b("</p>\n    <div class=\"stream-item-footer\">\n");t.b(t.rp("tweet_context3",c,p,"      "));t.b("    </div>\n");t.b(t.rp("stream_tweet_expansion4",c,p,"    "));t.b("  </div>\n</div>\n");return t.fl(); }, partials: {"common_tweet_classes0": {name:"common_tweet_classes"},"tweet_data1": {name:"tweet_data"},"tweet_timestamp2": {name:"tweet_timestamp"},"tweet_context3": {name:"tweet_context"},"stream_tweet_expansion4": {name:"stream_tweet_expansion"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_user_image_48": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("user",c,p,1),c,p,0,9,156,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<img height=\"48\" width=\"48\" src='");t.b(t.v(t.f("profile_image_url",c,p,0)));t.b("' alt='");t.b(t.v(t.f("name",c,p,0)));t.b("' class='user-profile-link js-action-profile-avatar' data-user-id='");t.b(t.v(t.f("id",c,p,0)));t.b("'/>\n");});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_tweet": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n");t.b("\n" + i);if(!t.s(t.f("render_withheld",c,p,1),c,p,1,0,0,"")){t.b("\n" + i);t.b("  \n");if(t.s(t.f("is_current_user_withheld",c,p,1),c,p,0,58,87,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("withheld_message0",c,p,"    "));});c.pop();}t.b("\n" + i);t.b("  <div class=\"tweet original-tweet js-stream-tweet js-actionable-tweet js-hover js-profile-popup-actionable js-original-tweet ");if(t.s(t.f("hidden_by_activity",c,p,1),c,p,0,267,290,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" sub-stream-item-hidden");});c.pop();}if(t.s(t.f("embedded_by_activity",c,p,1),c,p,0,338,356,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" js-activity-tweet");});c.pop();}t.b(" ");t.b(t.rp("common_tweet_classes1",c,p,""));t.b("\" ");t.b(t.rp("tweet_data2",c,p,""));t.b(">\n\n    \n    <i class=\"dogear\"></i>\n\n    \n    <div class=\"content\">\n\n      \n      <div class=\"stream-item-header\">\n");t.b(t.rp("tweet_timestamp3",c,p,"        "));t.b(t.rp("tweet_user_block4",c,p,"        "));t.b("      </div>\n\n      \n");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,648,972,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("        <p class=\"js-tweet-text");if(t.s(t.f("is_rtl_tweet",c,p,1),c,p,0,697,712,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" tweet-text-rtl");});c.pop();}t.b("\">\n");if(t.s(t.f("entity_linkified_text",c,p,1),c,p,0,768,819,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("            ");t.b(t.t(t.f("entity_linkified_text",c,p,0)));t.b("\n" + i);});c.pop();}if(!t.s(t.f("entity_linkified_text",c,p,1),c,p,1,0,0,"")){t.b("            ");t.b(t.t(t.f("linkified_text",c,p,0)));t.b("\n" + i);};t.b("        </p>\n");});c.pop();}if(!t.s(t.f("rendering_on_server",c,p,1),c,p,1,0,0,"")){t.b("        <p class=\"js-tweet-text\">");t.b(t.t(t.f("linkified_text",c,p,0)));t.b("</p>\n");};t.b("\n" + i);t.b("      \n      <div class=\"stream-item-footer\">\n        \n");t.b(t.rp("tweet_context5",c,p,"        "));t.b("\n" + i);t.b("        \n        <a class=\"details with-icn js-details\" href=\"#\">\n          <span class=\"details-icon js-icon-container\"");if(t.s(t.f("place_name",c,p,1),c,p,0,1336,1368,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-placename=\"");t.b(t.v(t.f("place_name",c,p,0)));t.b("\"");});c.pop();}t.b(">\n");if(t.s(t.f("is_reply",c,p,1),c,p,0,1410,1461,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("              <i class=\"sm-chat\"></i>\n");});c.pop();}if(t.s(t.f("has_embedded_photo",c,p,1),c,p,0,1510,1562,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("              <i class=\"sm-image\"></i>\n");});c.pop();}if(t.s(t.f("has_strong_geo",c,p,1),c,p,0,1617,1667,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("              <i class=\"sm-geo\"></i>\n");});c.pop();}t.b("          </span>\n          <b>\n            <span class=\"expand-stream-item js-view-details\">\n");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,1819,1874,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("                ");t.b(t.v(t.f("expand_callout_text",c,p,0)));t.b("\n" + i);});c.pop();}if(!t.s(t.f("rendering_on_server",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("is_reply",c,p,1),c,p,0,1967,2007,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("                  查看对话\n");});c.pop();}if(!t.s(t.f("is_reply",c,p,1),c,p,1,0,0,"")){t.b("                  <span class=\"expand-action-wrapper\">\n                    展开\n                  </span>\n");};};t.b("            </span>\n            <span class=\"collapse-stream-item js-hide-details\">\n");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,2346,2403,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("                ");t.b(t.v(t.f("collapse_callout_text",c,p,0)));t.b("\n" + i);});c.pop();}if(!t.s(t.f("rendering_on_server",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("is_reply",c,p,1),c,p,0,2496,2536,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("                  隐藏对话\n");});c.pop();}if(!t.s(t.f("is_reply",c,p,1),c,p,1,0,0,"")){t.b("                  <span class=\"collapse-action-wrapper\">\n                    收起\n                  </span>\n");};};t.b("            </span>\n          </b>\n        </a>\n\n        \n");t.b(t.rp("tweet_actions6",c,p,"        "));t.b("      </div>\n\n      \n");t.b(t.rp("stream_tweet_expansion7",c,p,"      "));t.b("\n" + i);t.b("    </div>\n  </div>\n\n");};t.b("\n" + i);if(t.s(t.f("render_withheld",c,p,1),c,p,0,2959,2989,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("stream_tweet_withheld8",c,p,"  "));});c.pop();}return t.fl(); }, partials: {"withheld_message0": {name:"withheld_message"},"common_tweet_classes1": {name:"common_tweet_classes"},"tweet_data2": {name:"tweet_data"},"tweet_timestamp3": {name:"tweet_timestamp"},"tweet_user_block4": {name:"tweet_user_block"},"tweet_context5": {name:"tweet_context"},"tweet_actions6": {name:"tweet_actions"},"stream_tweet_expansion7": {name:"stream_tweet_expansion"},"stream_tweet_withheld8": {name:"stream_tweet_withheld"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_item": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"js-stream-item stream-item ");t.b(t.v(t.f("item_class",c,p,0)));t.b("\" data-item-id=\"");t.b(t.v(t.f("item_id",c,p,0)));t.b("\" data-item-type=\"");t.b(t.v(t.f("item_type",c,p,0)));t.b("\"");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,136,179,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" id=\"stream-item-");t.b(t.v(t.f("item_type",c,p,0)));t.b("-");t.b(t.v(t.f("item_id",c,p,0)));t.b("\"");});c.pop();}t.b(">\n  ");t.b(t.t(t.f("item_html",c,p,0)));t.b("\n" + i);t.b("</div>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"user_css_p1": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n" + i);t.b("<style id=\"user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b("\">\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" {\n");if(t.s(t.f("profile_use_background_image",c,p,1),c,p,0,114,301,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      background-position: left 40px;\n      background-attachment: fixed;\n");if(!t.s(t.f("profile_background_tile",c,p,1),c,p,1,0,0,"")){t.b("        background-repeat: no-repeat;\n");};});c.pop();}if(t.s(t.f("profile_background_color",c,p,1),c,p,0,368,428,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      background-color: #");t.b(t.v(t.f("profile_background_color",c,p,0)));t.b(";\n");});c.pop();}if(t.s(t.f("profile_text_color",c,p,1),c,p,0,485,528,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_text_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" a,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" ul.stream-tabs li,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .component .promo strong,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .message-thread-preview:hover .message-count,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .list-membership-container li.create-a-list {\n");if(t.s(t.f("profile_link_color",c,p,1),c,p,0,894,937,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover .tweet-screen-name,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover .tweet-timestamp,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover .tweet-geo-text,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover .user-profile-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" span.user-stat-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" a.title-link:hover,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" a.user-stats-count:hover span.user-stats-stat,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item:hover a.user-screen-name,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item:hover .user-meta a,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .user-detailed-list-item:hover a.user-screen-name,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .tweet-activity:hover a.latest-tweet-timestamp,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover a.icon-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover a.icon-link b,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover .tweet-feedback,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .promoted-tweet:hover .social-context a,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard ul.trends li a:hover span.icon-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-sentence .dashboard-activity-item-entity,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-sentence .dashboard-activity-item-entity .user,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-sentence .dashboard-activity-item-count,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-link:hover .dashboard-activity-item-sentence,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-link:hover .dashboard-activity-item-sentence span.user,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .onebox-user-screen-name:hover {\n");if(t.s(t.f("profile_link_color",c,p,1),c,p,0,2773,2827,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(" !important;\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item:hover .tweet-screen-name {\n    color: #333 !important;\n  }\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item:hover .tweet-timestamp {\n    color: #999 !important;\n  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .hovered-stream-item,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" #new-tweets-bar,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" #new-tweets-bar:active {\n");if(t.s(t.f("rgba_tweet_background_color",c,p,1),c,p,0,3343,3405,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      background-color: ");t.b(t.v(t.f("rgba_tweet_background_color",c,p,0)));t.b(";\n");});c.pop();}if(t.s(t.f("rgba_tweet_border_color",c,p,1),c,p,0,3470,3524,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      border-color: ");t.b(t.v(t.f("rgba_tweet_border_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item:hover {\n    border-top-color: transparent;\n    border-bottom-color: #EBEBEB;\n  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" #new-tweets-bar:hover {\n");if(t.s(t.f("rgba_newtweets_background_color",c,p,1),c,p,0,3795,3861,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      background-color: ");t.b(t.v(t.f("rgba_newtweets_background_color",c,p,0)));t.b(";\n");});c.pop();}if(t.s(t.f("rgba_newtweets_border_color",c,p,1),c,p,0,3934,3992,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      border-color: ");t.b(t.v(t.f("rgba_newtweets_border_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .user-screen-name,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .profile-screenname,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .title-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" div.latest-tweet .latest-tweet-timestamp,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" div.truncated-tweet .latest-tweet-timestamp,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" a.user-stats-count span.user-stats-stat,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .welcome-steps li .active a strong,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-sentence span.user {\n");if(t.s(t.f("profile_text_color",c,p,1),c,p,0,4625,4668,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_text_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .user-full-name,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" span.trend-location,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .your-activity h3,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .trends-inner h3,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-rec-inner h3,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .latest-tweet,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .truncated-tweet,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .latest-tweet a.latest-tweet-timestamp,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .truncated-tweet a.latest-tweet-timestamp,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .user-meta,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .user-meta a,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .user-meta a s,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .social-context div,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .dot,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .component .promo,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .component .promo a.definition,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .dismiss,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item .ellip,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .facets-media-not-displayed .not-displayed-text,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .copyright,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item a.icon-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard ul.trends li a span.icon-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard-activity-item-sentence {\n");if(t.s(t.f("rgba_text_color",c,p,1),c,p,0,6333,6372,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: ");t.b(t.v(t.f("rgba_text_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" #page-container,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .user-sidebar-color,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expando-container .dashboard {\n");if(t.s(t.f("profile_sidebar_fill_color",c,p,1),c,p,0,6605,6668,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      \n      background: #");t.b(t.v(t.f("profile_sidebar_fill_color",c,p,0)));t.b(";\n");});c.pop();}if(t.s(t.f("rgba_sidebar_color",c,p,1),c,p,0,6727,6781,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      \n      background: ");t.b(t.v(t.f("rgba_sidebar_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .activity:hover .stream-item-activity-network .activity-supplement .activity-item-tweet .activity-item-tweet-content,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .hovered-stream-item .stream-item-activity-network .activity-supplement .activity-item-tweet .activity-item-tweet-content,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .stream-item-activity-network .activity-supplement .activity-item-tweet .activity-item-tweet-content  {\n");if(t.s(t.f("rgba_tweet_border_color",c,p,1),c,p,0,7300,7365,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      border-color: ");t.b(t.v(t.f("rgba_tweet_border_color",c,p,0)));t.b(" !important;\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item:hover a.twitter-atreply:hover,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item.open a.twitter-atreply,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item.colorful-links a.twitter-atreply,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item:hover a.twitter-hashtag:hover,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item.open a.twitter-hashtag,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item.colorful-links a.twitter-hashtag,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item:hover a.twitter-timeline-link:hover,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item.open a.twitter-timeline-link,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .expanding-stream-item.colorful-links a.twitter-timeline-link {\n");if(t.s(t.f("profile_link_color",c,p,1),c,p,0,8225,8279,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(" !important;\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" s,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .pretty-link s {\n");if(t.s(t.f("profile_pretty_link_color",c,p,1),c,p,0,8430,8480,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_pretty_link_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard s,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .pretty-link s,\n  body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .dashboard .user-small-list-item:hover .user-meta a s {\n");if(t.s(t.f("profile_pretty_link_sidebar_color",c,p,1),c,p,0,8757,8815,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      color: #");t.b(t.v(t.f("profile_pretty_link_sidebar_color",c,p,0)));t.b(";\n");});c.pop();}t.b("  }\n\n");t.b(t.rp("pill_css0",c,p,"  "));t.b("</style>");return t.fl(); }, partials: {"pill_css0": {name:"pill_css"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"new_tweets_bar": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"stream-item\">\n  <div class=\"new-tweets-bar js-new-tweets-bar\" data-item-count=\"");t.b(t.v(t.f("count",c,p,0)));t.b("\">\n    \n");if(t.s(t.f("tweets_count_phrase",c,p,1),c,p,0,136,171,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      ");t.b(t.v(t.f("tweets_count_phrase",c,p,0)));t.b("\n" + i);});c.pop();}if(!t.s(t.f("tweets_count_phrase",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("is_tweet",c,p,1),c,p,0,244,306,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("        ");if(t.s(t.f("count_other",c,p,1),c,p,0,269,283,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("count",c,p,0)));t.b(" 条新推文");});c.pop();}t.b("\n" + i);});c.pop();}if(!t.s(t.f("is_tweet",c,p,1),c,p,1,0,0,"")){t.b("        ");if(t.s(t.f("count_one",c,p,1),c,p,0,362,387,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("count",c,p,0)));t.b(" new Interaction");});c.pop();}if(t.s(t.f("count_other",c,p,1),c,p,0,417,443,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("count",c,p,0)));t.b(" new Interactions");});c.pop();}t.b("\n" + i);};};t.b("  </div>\n</div>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_user_with_activity": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("user",c,p,1),c,p,0,9,284,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("  <span class='tweet-user-name'>\n    <a class='tweet-screen-name user-profile-link js-action-profile-name' data-user-id='");t.b(t.v(t.f("id",c,p,0)));t.b("' href='");t.b(t.v(t.f("profile_path",c,p,0)));t.b("' title='");t.b(t.v(t.f("name",c,p,0)));t.b("'>");t.b(t.v(t.f("screen_name",c,p,0)));t.b("</a>\n    <span class='tweet-full-name'>");t.b(t.v(t.f("connector",c,p,0)));t.b(" ");t.b(t.t(t.f("title_object",c,p,0)));t.b("</span>\n  </span>\n");});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_timestamp": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<small class=\"time\">\n    <a href=\"");t.b(t.v(t.f("permalink_path",c,p,0)));t.b("\" class=\"tweet-timestamp js-permalink\" title=\"");t.b(t.v(t.f("explicit_timestamp",c,p,0)));t.b("\" ");if(t.s(t.f("impression_cookie",c,p,1),c,p,0,144,171,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("data-send-impression-cookie");});c.pop();}t.b("><span class=\"_timestamp js-short-timestamp ");if(t.s(t.f("is_relative_timestamp",c,p,1),c,p,0,263,284,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("js-relative-timestamp");});c.pop();}t.b("\" data-time=\"");t.b(t.v(t.f("actual_timestamp",c,p,0)));t.b("\" data-long-form=\"true\">");t.b(t.v(t.f("short_timestamp",c,p,0)));t.b("</span></a>\n</small>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"user_link": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<a class=\"pretty-link js-user-profile-link\" href=\"");t.b(t.v(t.f("profile_path",c,p,0)));t.b("\" data-user-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"><b>");t.b(t.v(t.f("name",c,p,0)));t.b("</b></a>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"posting_tweet_box": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<form method=\"post\" action=\"/status/update\">\n  <div class=\"tweet-box condensed\">\n    <div class=\"tweet-box-title\">\n      <h2>有什么新鲜事?</h2>\n    </div>\n    <div class=\"text-area\">\n      <div class=\"text-area-editor twttr-editor\">\n        <textarea class=\"twitter-anywhere-tweet-box-editor\" name=\"status\" style=\"width: 482px; height: 36px;\"></textarea>\n      </div>\n    </div>\n  </div>\n</form>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_actions": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b(" <ul class=\"tweet-actions js-actions\">\n  <li class=\"action-reply-container\">\n    <a class=\"with-icn js-action-reply\" data-modal=\"tweet-reply\" href=\"#\" title=\"回复\">\n      \n      <i class=\"sm-reply\"></i>\n      <b>回复</b>\n    </a>\n  </li>\n");if(t.s(t.f("allowed_to_retweet",c,p,1),c,p,0,259,543,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <li class=\"action-rt-container\">\n      <a class=\"with-icn js-toggle-rt\" data-modal=\"tweet-retweet\" href=\"#\">\n        <i class=\"sm-rt\"></i>\n        \n        <b><span class=\"undo-retweet\" title=\"撤销转推\">已转推</span><span class=\"retweet\" title=\"转推\">转推</span></b>\n      </a>\n    </li>\n");});c.pop();}t.b("  <li class=\"action-del-container\">\n    <a class=\"with-icn js-action-del\" href=\"#\" title=\"删除\">\n      <i class=\"sm-trash\"></i>\n      <b>删除</b>\n    </a>\n  </li>\n  <li class=\"action-fav-container\">\n    <a class=\"with-icn js-toggle-fav\" href=\"#\">\n      <i class=\"sm-fav\"></i>\n      \n      <b><span class=\"unfavorite\" title=\"撤销收藏\">已收藏</span><span class=\"favorite\" title=\"收藏\">收藏</span></b>\n    </a>\n  </li>\n</ul>");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_text": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"tweet-text js-tweet-text\">");t.b(t.t(t.f("linkified_text",c,p,0)));t.b("</div>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"pill_css": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n" + i);t.b(".profile-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" a {\n");if(t.s(t.f("profile_link_color",c,p,1),c,p,0,61,111,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(" !important;\n");});c.pop();}t.b("}\n\na:hover .geo-pin, body.user-style-");t.b(t.v(t.f("screen_name",c,p,0)));t.b(" .stream-item:hover .geo-pin {\n  background-color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(";\n}");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_meta": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class='tweet-meta'>\n  <span class='icons'>\n");if(t.s(t.f("is_sponsored",c,p,1),c,p,0,69,199,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("retweet_count",c,p,1),c,p,0,94,176,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("        <span class='retweet-icon'></span> <em>");t.b(t.v(t.f("retweet_count_text",c,p,0)));t.b("</em>\n");});c.pop();}});c.pop();}t.b("\n" + i);if(!t.s(t.f("decider_activity_read",c,p,1),c,p,1,0,0,"")){if(!t.s(t.f("is_sponsored",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("was_retweeted",c,p,1),c,p,0,299,473,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("retweeting_status",c,p,1),c,p,0,332,442,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("            <span class='retweet-icon'></span> ");if(t.s(t.f("user",c,p,1),c,p,0,389,422,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<em>由 ");t.b(t.v(t.f("screen_name",c,p,0)));t.b("\n" + i);t.b("      </em>");});c.pop();}t.b("\n" + i);});c.pop();}});c.pop();}};};t.b("\n" + i);t.b("    <div class=\"extra-icons\">\n");if(!t.s(t.f("can_expand",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("is_reply",c,p,1),c,p,0,621,695,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <span class='reply-icon icon js-reply-notice'>@</span>\n");});c.pop();}t.b("        <span class=\"inlinemedia-icons js-icon-container\"></span>\n        ");if(t.s(t.f("show_geo_icon",c,p,1),c,p,0,801,830,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<span class=\"geo-pin\"></span>");});c.pop();}t.b("\n" + i);};if(t.s(t.f("can_expand",c,p,1),c,p,0,892,928,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("tweet_timestamp0",c,p,"        "));});c.pop();}t.b("    </div>\n  </span>\n</div>\n\n");if(t.s(t.f("can_expand",c,p,1),c,p,0,988,1010,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("tweet_actions1",c,p,"  "));});c.pop();}return t.fl(); }, partials: {"tweet_timestamp0": {name:"tweet_timestamp"},"tweet_actions1": {name:"tweet_actions"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"message_notification": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("message",c,p,1),c,p,0,12,424,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<div data-sender-id='");t.b(t.v(t.f("sender_screen_name",c,p,0)));t.b("' data-message-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\" class='notification'>\n  <a class='dismiss' href='#'>&times;</a>\n  <h1>来自 ");t.b(t.t(t.f("sender_screen_name",c,p,0)));t.b(" 的新信息</h1>\n  <div class='message-text'>");t.b(t.t(t.f("text",c,p,0)));t.b("</div>\n  <div class=\"message-notification-reply-box\">\n    <div class=\"message-notification-reply-editor\"></div>\n    <div class=\"message-notification-reply-button button\">发送</div>\n  </div>\n</div>\n");});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"details_pane": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"inner-pane\">\n  <div class='pane-toolbar pane-built-in'>\n");if(t.s(t.f("popable",c,p,1),c,p,0,84,180,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      <a class='pane-back toolbar-control' href='#'><span>&larr;</span> ");t.b(t.v(t.f("back_label",c,p,0)));t.b("</a>\n");});c.pop();}if(t.s(t.f("closable",c,p,1),c,p,0,210,296,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      <a class='pane-close toolbar-control' href='#'>关闭 <span>&times;</span></a>\n");});c.pop();}t.b("    <br style='clear: both' />\n  </div>\n  <div class=\"pane-components\">\n    <div class=\"pane-components-inner\">\n    </div>\n  </div>\n</div>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"withheld_message": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"withheld-message\">");t.b(t.v(t.f("text",c,p,0)));t.b("  <a href=\"");t.b(t.v(t.f("withheld_help_path",c,p,0)));t.b("\" target=\"_blank\">了解更多</a></div>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_header": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"header-inner\">\n  <h2>\n    <span class=\"content-header-buttons js-header-button-container\"></span>\n    \n    \n    <span class=\"js-stream-title\">");t.b(t.v(t.f("stream_title",c,p,0)));t.b("</span>&nbsp;<small class=\"view-toggler js-view-toggler\"></small>\n  </h2>\n  ");if(t.s(t.f("header_help",c,p,1),c,p,0,262,319,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("<p class=\"js-header-help subheader\">");t.b(t.t(t.f("header_help",c,p,0)));t.b("</p>");});c.pop();}t.b("\n" + i);t.b("</div>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"dashboard": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"dashboard\">\n");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,50,80,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("mini_home_profile0",c,p,"    "));});c.pop();}t.b("</div>\n");return t.fl(); }, partials: {"mini_home_profile0": {name:"mini_home_profile"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_context": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n");t.b("\n");t.b("\n");t.b("\n" + i);t.b("<div class=\"context\">\n");if(t.s(t.f("is_sponsored",c,p,1),c,p,0,45,1321,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <span class=\"metadata with-icn js-disclosure\" title=\"");t.b(t.v(t.f("disclosure_text",c,p,0)));t.b("\">\n");if(t.s(t.f("was_retweeted",c,p,1),c,p,0,149,438,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("retweeting_status",c,p,1),c,p,0,180,409,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <i class=\"");t.b(t.v(t.f("promoted_badge_class",c,p,0)));t.b("\"></i><a href=\"");if(t.s(t.f("user",c,p,1),c,p,0,249,265,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("profile_path",c,p,0)));});c.pop();}t.b("\" class=\"js-action-profile-promoted js-user-profile-link\" data-user-id=\"");if(t.s(t.f("user",c,p,1),c,p,0,355,361,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("id",c,p,0)));});c.pop();}t.b("\">由 ");t.b(t.v(t.f("advertiser_name",c,p,0)));t.b(" 推荐</a>\n");});c.pop();}});c.pop();}if(!t.s(t.f("was_retweeted",c,p,1),c,p,1,0,0,"")){t.b("        <i class=\"");t.b(t.v(t.f("promoted_badge_class",c,p,0)));t.b("\"></i><a href=\"");if(t.s(t.f("user",c,p,1),c,p,0,548,564,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("profile_path",c,p,0)));});c.pop();}t.b("\" class=\"js-action-profile-promoted js-user-profile-link\" data-user-id=\"");if(t.s(t.f("user",c,p,1),c,p,0,654,660,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.v(t.f("id",c,p,0)));});c.pop();}t.b("\">由 ");t.b(t.v(t.f("advertiser_name",c,p,0)));t.b(" 推荐</a>\n");};t.b("    </span>\n");if(t.s(t.f("in_home_page",c,p,1),c,p,0,758,1301,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("rendering_on_server",c,p,1),c,p,1,0,0,"")){t.b("        <a class=\"dismiss-promoted js-action-dismiss with-icn\" href=\"#\"><i class=\"close\"></i><b>");if(!t.s(t.f("abtest_dismiss_text_180_any_bucket",c,p,1),c,p,1,0,0,"")){t.b("忽略");};if(t.s(t.f("abtest_dismiss_text_180_dismiss_tweet",c,p,1),c,p,0,1008,1012,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("忽略推文");});c.pop();}if(t.s(t.f("abtest_dismiss_text_180_remove_tweet",c,p,1),c,p,0,1095,1099,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("移除推文");});c.pop();}if(t.s(t.f("abtest_dismiss_text_180_not_interested",c,p,1),c,p,0,1183,1187,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("不感兴趣");});c.pop();}t.b("</b></a>\n");};t.b("      ");t.b(t.t(t.f("social_context",c,p,0)));t.b("\n" + i);});c.pop();}});c.pop();}if(t.s(t.f("is_top_tweet",c,p,1),c,p,0,1358,1541,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    <span class=\"metadata with-icn\">\n      <i class=\"badge-top\"></i>");if(t.s(t.f("retweet_count",c,p,1),c,p,0,1445,1468,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("被转推 ");t.b(t.v(t.f("retweet_count",c,p,0)));t.b(" 次");});c.pop();}if(!t.s(t.f("retweet_count",c,p,1),c,p,1,0,0,"")){t.b("热门推文");};t.b("\n" + i);t.b("    </span>\n");});c.pop();}if(!t.s(t.f("is_sponsored",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("was_retweeted",c,p,1),c,p,0,1601,1886,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("retweeting_status",c,p,1),c,p,0,1630,1859,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("user",c,p,1),c,p,0,1648,1843,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("          <span class=\"with-icn\"><i class=\"badge-retweeted\"></i>由 <a class=\"pretty-link js-user-profile-link\" href=\"");t.b(t.v(t.f("profile_path",c,p,0)));t.b("\" data-user-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"><b>");t.b(t.v(t.f("name",c,p,0)));t.b("</b></a> 转推</span>\n");});c.pop();}});c.pop();}});c.pop();}};t.b("</div>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_user_block": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("user",c,p,1),c,p,0,9,508,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("  <a class=\"account-group js-account-group js-action-profile js-user-profile-link\" href=\"");t.b(t.v(t.f("profile_path",c,p,0)));t.b("\" data-user-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\">\n    <img class=\"avatar js-action-profile-avatar\" src=\"");t.b(t.v(t.f("profile_image_url",c,p,0)));t.b("\" alt=\"");t.b(t.v(t.f("name",c,p,0)));t.b("\">\n    <strong class=\"fullname js-action-profile-name show-popup-with-id\">");t.b(t.v(t.f("name",c,p,0)));t.b("</strong>\n    <span>&rlm;</span>\n    <span class=\"username js-action-profile-name\"><s>@</s><b>");t.b(t.v(t.f("screen_name",c,p,0)));t.b("</b></span>\n");if(t.s(t.f("protected",c,p,1),c,p,0,451,486,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("      <i class=\"sm-lock\"></i>\n");});c.pop();}t.b("  </a>\n");});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"common_tweet_classes": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n" + i);if(t.s(t.f("is_sponsored",c,p,1),c,p,0,18,33,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" promoted-tweet");});c.pop();}if(t.s(t.f("is_my_tweet",c,p,1),c,p,0,66,75,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" my-tweet");});c.pop();}if(t.s(t.f("favorited",c,p,1),c,p,0,105,115,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" favorited");});c.pop();}if(t.s(t.f("is_retweeted_by_current_user",c,p,1),c,p,0,162,172,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" retweeted");});c.pop();}if(t.s(t.f("preexpanded",c,p,1),c,p,0,221,234,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" opened-tweet");});c.pop();}t.b("\n" + i);if(t.s(t.f("can_delete_user_tweets",c,p,1),c,p,0,278,288,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("can-delete");});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"stream_tweet_expansion": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"expanded-content js-tweet-details-dropdown\">\n");if(!t.s(t.f("on_permalink",c,p,1),c,p,1,0,0,"")){if(t.s(t.f("preexpanded",c,p,1),c,p,0,97,115,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("tweet_details0",c,p,""));});c.pop();}};t.b("</div>");return t.fl(); }, partials: {"tweet_details0": {name:"tweet_details"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"user_css_t1": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n" + i);t.b("<style id=\"user-style-");t.b(t.v(t.f("style_namespace",c,p,0)));t.b("\" class=\"js-user-style\">\n\n\n\n\n\n\n\n\n\na,\n\n\n\n.btn-link,\n\n\n\n\n  \n  \n\n.pretty-link");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" s,\n.pretty-link");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" b,\n/* Account Group */\n.metadata a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n\n.account-group");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .fullname,\n\n.stats a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n.stats a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" strong,\n\n.profile-modal-header .fullname a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n.profile-modal-header .username a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n\n.story-article");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .metadata,\n\n.find-friends-sources li");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .source,\n\n\n\n\n\n.stream-item a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .fullname,\n\n.stream-item .view-all-supplements");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n\n.tweet .time a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n.tweet-actions a,\n.tweet .details.with-icn b,\n\n.stream-item");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .original-tweet .expand-action-wrapper,\n.opened-tweet.original-tweet  .expand-action-wrapper,\n\n.stream-item");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .original-tweet .details b,\n.stream-item.open .original-tweet .details b,\n\n.simple-tweet");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .details b,\n.simple-tweet.open .details b,\n.simple-tweet");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .details .expand-action-wrapper,\n.simple-tweet.open .details .collapse-action-wrapper,\n.simple-tweet");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .details .simple-details-link,\n\n.client-and-actions a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n\n.dismiss-promoted");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" b,\n\n.tweet .context .pretty-link");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" s,\n.tweet .context .pretty-link");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" b,\n\n.list .username a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n.list-membership-container .create-a-list,\n.list-membership-container .create-a-list");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n\n\n\n.story-header");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .view-tweets,\n.card .list-details a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n.card .card-body");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .attribution,\n.new-tweets-bar,\n.onebox .soccer ul.ticker a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(",\n\n\n\n.discover-item-actions a,\n\n\n\n.remove-background-btn,\n\n\n\n.stream-item-activity-me .latest-tweet .tweet-row a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" {\n");if(t.s(t.f("profile_link_color",c,p,1),c,p,0,1809,1848,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(";\n");});c.pop();}if(!t.s(t.f("profile_link_color",c,p,1),c,p,1,0,0,"")){t.b("    color: #0084B4;\n");};t.b("}\n\n\n\n\n\ns,\n.pretty-link");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" s,\n.stream-item-activity-me .latest-tweet .tweet-row a");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" s {\n");if(t.s(t.f("profile_pretty_link_color",c,p,1),c,p,0,2088,2134,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    color: #");t.b(t.v(t.f("profile_pretty_link_color",c,p,0)));t.b(";\n");});c.pop();}if(!t.s(t.f("profile_pretty_link_color",c,p,1),c,p,1,0,0,"")){t.b("    color: #66B5D2;\n");};t.b("}\n\n\n\n\n\n.tweet .sm-reply,\n.tweet .sm-rt,\n.tweet .sm-fav,\n.tweet .sm-image,\n.tweet .sm-video,\n.tweet .sm-audio,\n.tweet .sm-geo,\n.tweet .sm-in,\n.tweet .sm-trash,\n.tweet .sm-page,\n.tweet .sm-embed,\n.tweet .sm-chat,\n\n.sm-top-tweet,\n\n\n.discover-item .js-action-card-search");t.b(t.v(t.f("colon_hover",c,p,0)));t.b(" .sm-search {\n");if(t.s(t.f("profile_link_color",c,p,1),c,p,0,2571,2621,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    background-color: #");t.b(t.v(t.f("profile_link_color",c,p,0)));t.b(";\n");});c.pop();}if(!t.s(t.f("profile_link_color",c,p,1),c,p,1,0,0,"")){t.b("    background-color: #6684B4;\n");};t.b("}\n\nbody {\n");if(t.s(t.f("profile_use_background_image",c,p,1),c,p,0,2773,3073,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    background-position: ");if(t.s(t.f("center_background",c,p,1),c,p,0,2821,2827,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("center");});c.pop();}if(!t.s(t.f("center_background",c,p,1),c,p,1,0,0,"")){t.b("left");};t.b(" 40px;\n    background-attachment: fixed;\n    background-repeat: repeat;\n");if(!t.s(t.f("profile_background_tile",c,p,1),c,p,1,0,0,"")){t.b("      background-repeat: no-repeat;\n");};});c.pop();}if(t.s(t.f("profile_background_color",c,p,1),c,p,0,3138,3194,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("    background-color: #");t.b(t.v(t.f("profile_background_color",c,p,0)));t.b(";\n");});c.pop();}if(!t.s(t.f("profile_background_color",c,p,1),c,p,1,0,0,"")){t.b("    background-color: #c0deed;\n");};t.b("}\n</style>\n");return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"page": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b(t.rp("dashboard0",c,p,""));t.b(t.rp("content1",c,p,""));return t.fl(); }, partials: {"dashboard0": {name:"dashboard"},"content1": {name:"content"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"content": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\"content-main js-content-main breakable\">\n  <div id=\"js-promptbird-below-black-bar-hook\"></div>\n  <div id=\"js-empty-timeline-recommendations-module-hook\"></div>\n  <div class=\"content-header js-stream-header\">\n");t.b(t.rp("stream_header0",c,p,"    "));t.b("  </div>\n  <div class=\"stream js-stream-manager-container\">\n");if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,332,472,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("stream_manager1",c,p,"      "));t.b("      <script>if (window.ttft) window.ttft.serverRendered('");t.b(t.v(t.f("page_name",c,p,0)));t.b("');twttr.keynoteTTFTPing();</script>\n");});c.pop();}t.b("  </div>\n</div>\n");return t.fl(); }, partials: {"stream_header0": {name:"stream_header"},"stream_manager1": {name:"stream_manager"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_data": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");t.b("\n" + i);t.b("data-tweet-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"\n");t.b(t.t(t.f("tweet_impression_id",c,p,0)));t.b("\n" + i);t.b("data-item-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"\n");if(t.s(t.f("current_user_retweet",c,p,1),c,p,0,97,125,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-my-retweet-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("was_retweeted",c,p,1),c,p,0,169,238,"{{ }}")){t.rs(c,p,function(c,p,t){if(t.s(t.f("retweeting_status",c,p,1),c,p,0,191,216,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-retweet-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"");});c.pop();}});c.pop();}t.b("\n" + i);if(t.s(t.f("user",c,p,1),c,p,0,266,323,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-screen-name=\"");t.b(t.v(t.f("screen_name",c,p,0)));t.b("\" data-user-id=\"");t.b(t.v(t.f("id",c,p,0)));t.b("\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("protected",c,p,1),c,p,0,347,369,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-protected=\"true\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("is_sponsored",c,p,1),c,p,0,401,422,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-promoted=\"true\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("show_geo_icon",c,p,1),c,p,0,458,474,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-geo=\"true\"");});c.pop();}t.b("\n" + i);t.b("data-is-reply-to=\"");t.b(t.v(t.f("is_reply",c,p,0)));t.b("\"\n");if(t.s(t.f("status_data",c,p,1),c,p,0,541,571,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-status=\"");t.b(t.v(t.f("status_data",c,p,0)));t.b("\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("rendering_on_server",c,p,1),c,p,0,612,745,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("preexpanded",c,p,1),c,p,1,0,0,"")){t.b("data-expanded-footer=\"");if(t.s(t.f("escape_html_for_attribute",c,p,1),c,p,0,680,698,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(t.rp("tweet_details0",c,p,""));});c.pop();}t.b("\"");};});c.pop();}t.b("\n" + i);if(t.s(t.f("impression_cookie",c,p,1),c,p,0,792,839,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-impression-cookie=\"");t.b(t.v(t.f("impression_cookie",c,p,0)));t.b("\"");});c.pop();}t.b("\n" + i);if(t.s(t.f("possibly_sensitive",c,p,1),c,p,0,885,916,"{{ }}")){t.rs(c,p,function(c,p,t){t.b(" data-possibly-sensitive=\"true\"");});c.pop();}return t.fl(); }, partials: {"tweet_details0": {name:"tweet_details"}}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts),"tweet_geo_text": new Mustache.TwitterTemplate({main: function (c,p,i) { var t=this;t.b(i=i||"");if(t.s(t.f("has_geo",c,p,1),c,p,0,12,257,"{{ }}")){t.rs(c,p,function(c,p,t){if(!t.s(t.f("show_geo_map",c,p,1),c,p,1,0,0,"")){t.b("    <div>\n      <a class=\"js-tweet-geo-text tweet-geo-text\" href=\"");t.b(t.v(t.f("place_path",c,p,0)));t.b("\">\n        ");if(t.s(t.f("place_name",c,p,1),c,p,0,139,156,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("来自 ");t.b(t.v(t.f("place_name",c,p,0)));});c.pop();}if(!t.s(t.f("place_name",c,p,1),c,p,1,0,0,"")){t.b("view location");};t.b("\n" + i);t.b("      </a>\n    </div>\n");};});c.pop();}return t.fl(); }, partials: {}, subs: {  } }, "", Mustache.twitterHogan, __hogan_opts) })}exports();});provide("$lib/jquery-1.7.1.js",function(a){/*!
 * jQuery JavaScript Library v1.7.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Mon Nov 21 21:11:03 2011 -0500
 */(function(a,b){function c(a){var b=M[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}function d(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(P,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:L.isNumeric(d)?parseFloat(d):O.test(d)?L.parseJSON(d):d}catch(f){}L.data(a,c,d)}else d=b}return d}function e(a){for(var b in a){if(b==="data"&&L.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function f(a,b,c){var d=b+"defer",e=b+"queue",f=b+"mark",g=L._data(a,d);g&&(c==="queue"||!L._data(a,e))&&(c==="mark"||!L._data(a,f))&&setTimeout(function(){!L._data(a,e)&&!L._data(a,f)&&(L.removeData(a,d,!0),g.fire())},0)}function g(){return!1}function i(){return!0}function j(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function k(a,b,c){b=b||0;if(L.isFunction(b))return L.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return L.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=L.grep(a,function(a){return a.nodeType===1});if(ob.test(b))return L.filter(b,d,!c);b=L.filter(b,d)}return L.grep(a,function(a,d){return L.inArray(a,b)>=0===c})}function l(a){var b=sb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function m(a,b){return L.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a,b){if(b.nodeType!==1||!L.hasData(a))return;var c,d,e,f=L._data(a),g=L._data(b,f),i=f.events;if(i){delete g.handle,g.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)L.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}g.data&&(g.data=L.extend({},g.data))}function o(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(L.expando)}function p(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function q(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function r(a){var b=(a.nodeName||"").toLowerCase();b==="input"?q(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&L.grep(a.getElementsByTagName("input"),q)}function s(a){var b=I.createElement("div");return Gb.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function t(a,b){b.src?L.ajax({url:b.src,async:!1,dataType:"script"}):L.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Eb,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function u(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?Ob:Pb,f=0,g=e.length;if(d>0){if(c!=="border")for(;f<g;f++)c||(d-=parseFloat(L.css(a,"padding"+e[f]))||0),c==="margin"?d+=parseFloat(L.css(a,c+e[f]))||0:d-=parseFloat(L.css(a,"border"+e[f]+"Width"))||0;return d+"px"}d=Qb(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;f<g;f++)d+=parseFloat(L.css(a,"padding"+e[f]))||0,c!=="padding"&&(d+=parseFloat(L.css(a,"border"+e[f]+"Width"))||0),c==="margin"&&(d+=parseFloat(L.css(a,c+e[f]))||0);return d+"px"}function v(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(L.isFunction(c)){var d=b.toLowerCase().split(dc),e=0,f=d.length,g,i,j;for(;e<f;e++)g=d[e],j=/^\+/.test(g),j&&(g=g.substr(1)||"*"),i=a[g]=a[g]||[],i[j?"unshift":"push"](c)}}}function w(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var i=a[f],j=0,k=i?i.length:0,l=a===hc,m;for(;j<k&&(l||!m);j++)m=i[j](c,d,e),typeof m=="string"&&(!l||g[m]?m=b:(c.dataTypes.unshift(m),m=w(a,c,d,e,m,g)));return(l||!m)&&!g["*"]&&(m=w(a,c,d,e,"*",g)),m}function x(a,c){var d,e,f=L.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&L.extend(!0,a,e)}function y(a,b,c,d){if(L.isArray(b))L.each(b,function(b,e){c||Ub.test(a)?d(a,e):y(a+"["+(typeof e=="object"||L.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)y(a+"["+e+"]",b[e],c,d);else d(a,b)}function z(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,i,j,k,l;for(j in g)j in d&&(c[g[j]]=d[j]);while(f[0]==="*")f.shift(),i===b&&(i=a.mimeType||c.getResponseHeader("content-type"));if(i)for(j in e)if(e[j]&&e[j].test(i)){f.unshift(j);break}if(f[0]in d)k=f[0];else{for(j in d){if(!f[0]||a.converters[j+" "+f[0]]){k=j;break}l||(l=j)}k=k||l}if(k)return k!==f[0]&&f.unshift(k),d[k]}function A(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},f,g,i=d.length,j,k=d[0],l,m,n,o,p;for(f=1;f<i;f++){if(f===1)for(g in a.converters)typeof g=="string"&&(e[g.toLowerCase()]=a.converters[g]);l=k,k=d[f];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&L.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function B(){try{return new a.XMLHttpRequest}catch(b){}}function C(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function D(){return setTimeout(E,0),zc=L.now()}function E(){zc=b}function F(a,b){var c={};return L.each(yc.concat.apply([],yc.slice(0,b)),function(){c[this]=a}),c}function G(a){if(!sc[a]){var b=I.body,c=L("<"+a+">").appendTo(b),d=c.css("display");c.remove();if(d==="none"||d===""){tc||(tc=I.createElement("iframe"),tc.frameBorder=tc.width=tc.height=0),b.appendChild(tc);if(!uc||!tc.createElement)uc=(tc.contentWindow||tc.contentDocument).document,uc.write((I.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),uc.close();c=uc.createElement(a),uc.body.appendChild(c),d=L.css(c,"display"),b.removeChild(tc)}sc[a]=d}return sc[a]}function H(a){return L.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var I=a.document,J=a.navigator,K=a.location,L=function(){function c(){if(d.isReady)return;try{I.documentElement.doScroll("left")}catch(a){setTimeout(c,1);return}d.ready()}var d=function(a,b){return new d.fn.init(a,b,g)},e=a.jQuery,f=a.$,g,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=J.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,K={};return d.fn=d.prototype={constructor:d,init:function(a,c,e){var f,g,j,k;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!c&&I.body)return this.context=I,this[0]=I.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?f=[null,a,null]:f=i.exec(a);if(f&&(f[1]||!c)){if(f[1])return c=c instanceof d?c[0]:c,k=c?c.ownerDocument||c:I,j=m.exec(a),j?d.isPlainObject(c)?(a=[I.createElement(j[1])],d.fn.attr.call(a,c,!0)):a=[k.createElement(j[1])]:(j=d.buildFragment([f[1]],[k]),a=(j.cacheable?d.clone(j.fragment):j.fragment).childNodes),d.merge(this,a);g=I.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return e.find(a);this.length=1,this[0]=g}return this.context=I,this.selector=a,this}return!c||c.jquery?(c||e).find(a):this.constructor(c).find(a)}return d.isFunction(a)?e.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),d.makeArray(a,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var e=this.constructor();return d.isArray(a)?E.apply(e,a):d.merge(e,a),e.prevObject=this,e.context=this.context,b==="find"?e.selector=this.selector+(this.selector?" ":"")+c:b&&(e.selector=this.selector+"."+b+"("+c+")"),e},each:function(a,b){return d.each(this,a,b)},ready:function(a){return d.bindReady(),A.add(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},d.fn.init.prototype=d.fn,d.extend=d.fn.extend=function(){var a,c,e,f,g,i,j=arguments[0]||{},k=1,l=arguments.length,m=!1;typeof j=="boolean"&&(m=j,j=arguments[1]||{},k=2),typeof j!="object"&&!d.isFunction(j)&&(j={}),l===k&&(j=this,--k);for(;k<l;k++)if((a=arguments[k])!=null)for(c in a){e=j[c],f=a[c];if(j===f)continue;m&&f&&(d.isPlainObject(f)||(g=d.isArray(f)))?(g?(g=!1,i=e&&d.isArray(e)?e:[]):i=e&&d.isPlainObject(e)?e:{},j[c]=d.extend(m,i,f)):f!==b&&(j[c]=f)}return j},d.extend({noConflict:function(b){return a.$===d&&(a.$=f),b&&a.jQuery===d&&(a.jQuery=e),d},isReady:!1,readyWait:1,holdReady:function(a){a?d.readyWait++:d.ready(!0)},ready:function(a){if(a===!0&&!--d.readyWait||a!==!0&&!d.isReady){if(!I.body)return setTimeout(d.ready,1);d.isReady=!0;if(a!==!0&&--d.readyWait>0)return;A.fireWith(I,[d]),d.fn.trigger&&d(I).trigger("ready").off("ready")}},bindReady:function(){if(A)return;A=d.Callbacks("once memory");if(I.readyState==="complete")return setTimeout(d.ready,1);if(I.addEventListener)I.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",d.ready,!1);else if(I.attachEvent){I.attachEvent("onreadystatechange",B),a.attachEvent("onload",d.ready);var b=!1;try{b=a.frameElement==null}catch(e){}I.documentElement.doScroll&&b&&c()}},isFunction:function(a){return d.type(a)==="function"},isArray:Array.isArray||function(a){return d.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):K[C.call(a)]||"object"},isPlainObject:function(a){if(!a||d.type(a)!=="object"||a.nodeType||d.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var e;for(e in a);return e===b||D.call(a,e)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=d.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();d.error("Invalid JSON: "+b)},parseXML:function(c){var e,f;try{a.DOMParser?(f=new DOMParser,e=f.parseFromString(c,"text/xml")):(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(c))}catch(g){e=b}return(!e||!e.documentElement||e.getElementsByTagName("parsererror").length)&&d.error("Invalid XML: "+c),e},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,e){var f,g=0,i=a.length,j=i===b||d.isFunction(a);if(e){if(j){for(f in a)if(c.apply(a[f],e)===!1)break}else for(;g<i;)if(c.apply(a[g++],e)===!1)break}else if(j){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<i;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":a.toString().replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var e=d.type(a);a.length==null||e==="string"||e==="function"||e==="regexp"||d.isWindow(a)?E.call(c,a):d.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,e){var f,g,i=[],j=0,k=a.length,l=a instanceof d||k!==b&&typeof k=="number"&&(k>0&&a[0]&&a[k-1]||k===0||d.isArray(a));if(l)for(;j<k;j++)f=c(a[j],j,e),f!=null&&(i[i.length]=f);else for(g in a)f=c(a[g],g,e),f!=null&&(i[i.length]=f);return i.concat.apply([],i)},guid:1,proxy:function(a,c){if(typeof c=="string"){var e=a[c];c=a,a=e}if(!d.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||d.guid++,g},access:function(a,c,e,f,g,i){var j=a.length;if(typeof c=="object"){for(var k in c)d.access(a,k,c[k],f,g,e);return a}if(e!==b){f=!i&&f&&d.isFunction(e);for(var l=0;l<j;l++)g(a[l],c,f?e.call(a[l],l,g(a[l],c)):e,i);return a}return j?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}d.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,e){return e&&e instanceof d&&!(e instanceof a)&&(e=a(e)),d.fn.init.call(this,c,e,b)},a.fn.init.prototype=a.fn;var b=a(I);return a},browser:{}}),d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){K["[object "+b+"]"]=b.toLowerCase()}),z=d.uaMatch(y),z.browser&&(d.browser[z.browser]=!0,d.browser.version=z.version),d.browser.webkit&&(d.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),g=d(I),I.addEventListener?B=function(){I.removeEventListener("DOMContentLoaded",B,!1),d.ready()}:I.attachEvent&&(B=function(){I.readyState==="complete"&&(I.detachEvent("onreadystatechange",B),d.ready())}),d}(),M={};L.Callbacks=function(a){a=a?M[a]||c(a):{};var d=[],e=[],f,g,i,j,k,l=function(b){var c,e,f,g,i;for(c=0,e=b.length;c<e;c++)f=b[c],g=L.type(f),g==="array"?l(f):g==="function"&&(!a.unique||!n.has(f))&&d.push(f)},m=function(b,c){c=c||[],f=!a.memory||[b,c],g=!0,k=i||0,i=0,j=d.length;for(;d&&k<j;k++)if(d[k].apply(b,c)===!1&&a.stopOnFalse){f=!0;break}g=!1,d&&(a.once?f===!0?n.disable():d=[]:e&&e.length&&(f=e.shift(),n.fireWith(f[0],f[1])))},n={add:function(){if(d){var a=d.length;l(arguments),g?j=d.length:f&&f!==!0&&(i=a,m(f[0],f[1]))}return this},remove:function(){if(d){var b=arguments,c=0,e=b.length;for(;c<e;c++)for(var f=0;f<d.length;f++)if(b[c]===d[f]){g&&f<=j&&(j--,f<=k&&k--),d.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(d){var b=0,c=d.length;for(;b<c;b++)if(a===d[b])return!0}return!1},empty:function(){return d=[],this},disable:function(){return d=e=f=b,this},disabled:function(){return!d},lock:function(){return e=b,(!f||f===!0)&&n.disable(),this},locked:function(){return!e},fireWith:function(b,c){return e&&(g?a.once||e.push([b,c]):(!a.once||!f)&&m(b,c)),this},fire:function(){return n.fireWith(this,arguments),this},fired:function(){return!!f}};return n};var N=[].slice;L.extend({Deferred:function(a){var b=L.Callbacks("once memory"),c=L.Callbacks("once memory"),d=L.Callbacks("memory"),e="pending",f={resolve:b,reject:c,notify:d},g={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return i.done(a).fail(b).progress(c),this},always:function(){return i.done.apply(i,arguments).fail.apply(i,arguments),this},pipe:function(a,b,c){return L.Deferred(function(d){L.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],f;L.isFunction(c)?i[a](function(){f=c.apply(this,arguments),f&&L.isFunction(f.promise)?f.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[f])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=g;else for(var b in g)a[b]=g[b];return a}},i=g.promise({}),j;for(j in f)i[j]=f[j].fire,i[j+"With"]=f[j].fireWith;return i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i),i},when:function(a){function b(a){return function(b){d[a]=arguments.length>1?N.call(arguments,0):b,--i||k.resolveWith(k,d)}}function c(a){return function(b){g[a]=arguments.length>1?N.call(arguments,0):b,k.notifyWith(l,g)}}var d=N.call(arguments,0),e=0,f=d.length,g=new Array(f),i=f,j=f,k=f<=1&&a&&L.isFunction(a.promise)?a:L.Deferred(),l=k.promise();if(f>1){for(;e<f;e++)d[e]&&d[e].promise&&L.isFunction(d[e].promise)?d[e].promise().then(b(e),k.reject,c(e)):--i;i||k.resolveWith(k,d)}else k!==a&&k.resolveWith(k,f?[a]:[]);return l}}),L.support=function(){var b,c,d,e,f,g,i,j,k,l,m,n,o,p=I.createElement("div"),q=I.documentElement;p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",c=p.getElementsByTagName("*"),d=p.getElementsByTagName("a")[0];if(!c||!c.length||!d)return{};e=I.createElement("select"),f=e.appendChild(I.createElement("option")),g=p.getElementsByTagName("input")[0],b={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.55/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:g.value==="on",optSelected:f.selected,getSetAttribute:p.className!=="t",enctype:!!I.createElement("form").enctype,html5Clone:I.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete p.test}catch(r){b.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){b.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),g=I.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue=g.value==="t",g.setAttribute("checked","checked"),p.appendChild(g),j=I.createDocumentFragment(),j.appendChild(p.lastChild),b.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,j.removeChild(g),j.appendChild(p),p.innerHTML="",a.getComputedStyle&&(i=I.createElement("div"),i.style.width="0",i.style.marginRight="0",p.style.width="2px",p.appendChild(i),b.reliableMarginRight=(parseInt((a.getComputedStyle(i,null)||{marginRight:0}).marginRight,10)||0)===0);if(p.attachEvent)for(n in{submit:1,change:1,focusin:1})m="on"+n,o=m in p,o||(p.setAttribute(m,"return;"),o=typeof p[m]=="function"),b[n+"Bubbles"]=o;return j.removeChild(p),j=e=f=i=p=g=null,L(function(){var a,c,d,e,f,g,i,j,l,m,n,q=I.getElementsByTagName("body")[0];if(!q)return;i=1,j="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",l="visibility:hidden;border:0;",m="style='"+j+"border:5px solid #000;padding:0;'",n="<div "+m+"><div></div></div>"+"<table "+m+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=I.createElement("div"),a.style.cssText=l+"width:0;height:0;position:static;top:0;margin-top:"+i+"px",q.insertBefore(a,q.firstChild),p=I.createElement("div"),a.appendChild(p),p.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",k=p.getElementsByTagName("td"),o=k[0].offsetHeight===0,k[0].style.display="",k[1].style.display="none",b.reliableHiddenOffsets=o&&k[0].offsetHeight===0,p.innerHTML="",p.style.width=p.style.paddingLeft="1px",L.boxModel=b.boxModel=p.offsetWidth===2,typeof p.style.zoom!="undefined"&&(p.style.display="inline",p.style.zoom=1,b.inlineBlockNeedsLayout=p.offsetWidth===2,p.style.display="",p.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=p.offsetWidth!==2),p.style.cssText=j+l,p.innerHTML=n,c=p.firstChild,d=c.firstChild,f=c.nextSibling.firstChild.firstChild,g={doesNotAddBorder:d.offsetTop!==5,doesAddBorderForTableAndCells:f.offsetTop===5},d.style.position="fixed",d.style.top="20px",g.fixedPosition=d.offsetTop===20||d.offsetTop===15,d.style.position=d.style.top="",c.style.overflow="hidden",c.style.position="relative",g.subtractsBorderForOverflowNotVisible=d.offsetTop===-5,g.doesNotIncludeMarginInBodyOffset=q.offsetTop!==i,q.removeChild(a),p=a=null,L.extend(b,g)}),b}();var O=/^(?:\{.*\}|\[.*\])$/,P=/([A-Z])/g;L.extend({cache:{},uuid:0,expando:"jQuery"+(L.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?L.cache[a[L.expando]]:a[L.expando],!!a&&!e(a)},data:function(a,c,d,e){if(!L.acceptData(a))return;var f,g,i,j=L.expando,k=typeof c=="string",l=a.nodeType,m=l?L.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++L.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=L.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=L.extend(m[n],c):m[n].data=L.extend(m[n].data,c);return f=g=m[n],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[L.camelCase(c)]=d),o&&!g[c]?f.events:(k?(i=g[c],i==null&&(i=g[L.camelCase(c)])):i=g,i)},removeData:function(a,b,c){if(!L.acceptData(a))return;var d,f,g,i=L.expando,j=a.nodeType,k=j?L.cache:a,l=j?a[i]:i;if(!k[l])return;if(b){d=c?k[l]:k[l].data;if(d){L.isArray(b)||(b in d?b=[b]:(b=L.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(f=0,g=b.length;f<g;f++)delete d[b[f]];if(!(c?e:L.isEmptyObject)(d))return}}if(!c){delete k[l].data;if(!e(k[l]))return}L.support.deleteExpando||!k.setInterval?delete k[l]:k[l]=null,j&&(L.support.deleteExpando?delete a[i]:a.removeAttribute?a.removeAttribute(i):a[i]=null)},_data:function(a,b,c){return L.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=L.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),L.fn.extend({data:function(a,c){var e,f,g,i=null;if(typeof a=="undefined"){if(this.length){i=L.data(this[0]);if(this[0].nodeType===1&&!L._data(this[0],"parsedAttrs")){f=this[0].attributes;for(var j=0,k=f.length;j<k;j++)g=f[j].name,g.indexOf("data-")===0&&(g=L.camelCase(g.substring(5)),d(this[0],g,i[g]));L._data(this[0],"parsedAttrs",!0)}}return i}return typeof a=="object"?this.each(function(){L.data(this,a)}):(e=a.split("."),e[1]=e[1]?"."+e[1]:"",c===b?(i=this.triggerHandler("getData"+e[1]+"!",[e[0]]),i===b&&this.length&&(i=L.data(this[0],a),i=d(this[0],a,i)),i===b&&e[1]?this.data(e[0]):i):this.each(function(){var b=L(this),d=[e[0],c];b.triggerHandler("setData"+e[1]+"!",d),L.data(this,a,c),b.triggerHandler("changeData"+e[1]+"!",d)}))},removeData:function(a){return this.each(function(){L.removeData(this,a)})}}),L.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",L._data(a,b,(L._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(L._data(b,d)||1)-1;e?L._data(b,d,e):(L.removeData(b,d,!0),f(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=L._data(a,b),c&&(!d||L.isArray(c)?d=L._data(a,b,L.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=L.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),L._data(a,b+".run",e),d.call(a,function(){L.dequeue(a,b)},e)),c.length||(L.removeData(a,b+"queue "+b+".run",!0),f(a,b,"queue"))}}),L.fn.extend({queue:function(a,c){return typeof a!="string"&&(c=a,a="fx"),c===b?L.queue(this[0],a):this.each(function(){var b=L.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&L.dequeue(this,a)})},dequeue:function(a){return this.each(function(){L.dequeue(this,a)})},delay:function(a,b){return a=L.fx?L.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function d(){--i||e.resolveWith(f,[f])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var e=L.Deferred(),f=this,g=f.length,i=1,j=a+"defer",k=a+"queue",l=a+"mark",m;while(g--)if(m=L.data(f[g],j,b,!0)||(L.data(f[g],k,b,!0)||L.data(f[g],l,b,!0))&&L.data(f[g],j,L.Callbacks("once memory"),!0))i++,m.add(d);return d(),e.promise()}});var Q=/[\n\t\r]/g,R=/\s+/,S=/\r/g,T=/^(?:button|input)$/i,U=/^(?:button|input|object|select|textarea)$/i,V=/^a(?:rea)?$/i,W=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,X=L.support.getSetAttribute,Y,Z,ab;L.fn.extend({attr:function(a,b){return L.access(this,a,b,!0,L.attr)},removeAttr:function(a){return this.each(function(){L.removeAttr(this,a)})},prop:function(a,b){return L.access(this,a,b,!0,L.prop)},removeProp:function(a){return a=L.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,i;if(L.isFunction(a))return this.each(function(b){L(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(R);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{f=" "+e.className+" ";for(g=0,i=b.length;g<i;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=L.trim(f)}}}return this},removeClass:function(a){var c,d,e,f,g,i,j;if(L.isFunction(a))return this.each(function(b){L(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(R);for(d=0,e=this.length;d<e;d++){f=this[d];if(f.nodeType===1&&f.className)if(a){g=(" "+f.className+" ").replace(Q," ");for(i=0,j=c.length;i<j;i++)g=g.replace(" "+c[i]+" "," ");f.className=L.trim(g)}else f.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return L.isFunction(a)?this.each(function(c){L(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,f=0,g=L(this),i=b,j=a.split(R);while(e=j[f++])i=d?i:!g.hasClass(e),g[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&L._data(this,"__className__",this.className),this.className=this.className||a===!1?"":L._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(Q," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,f=this[0];if(!arguments.length){if(f)return c=L.valHooks[f.nodeName.toLowerCase()]||L.valHooks[f.type],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,typeof d=="string"?d.replace(S,""):d==null?"":d);return}return e=L.isFunction(a),this.each(function(d){var f=L(this),g;if(this.nodeType!==1)return;e?g=a.call(this,d,f.val()):g=a,g==null?g="":typeof g=="number"?g+="":L.isArray(g)&&(g=L.map(g,function(a){return a==null?"":a+""})),c=L.valHooks[this.nodeName.toLowerCase()]||L.valHooks[this.type];if(!c||!("set"in c)||c.set(this,g,"value")===b)this.value=g})}}),L.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],i=a.options,j=a.type==="select-one";if(f<0)return null;c=j?f:0,d=j?f+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(L.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!L.nodeName(e.parentNode,"optgroup"))){b=L(e).val();if(j)return b;g.push(b)}}return j&&!g.length&&i.length?L(i[f]).val():g},set:function(a,b){var c=L.makeArray(b);return L(a).find("option").each(function(){this.selected=L.inArray(L(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var f,g,i,j=a.nodeType;if(!a||j===3||j===8||j===2)return;if(e&&c in L.attrFn)return L(a)[c](d);if(typeof a.getAttribute=="undefined")return L.prop(a,c,d);i=j!==1||!L.isXMLDoc(a),i&&(c=c.toLowerCase(),g=L.attrHooks[c]||(W.test(c)?Z:Y));if(d!==b){if(d===null){L.removeAttr(a,c);return}return g&&"set"in g&&i&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d)}return g&&"get"in g&&i&&(f=g.get(a,c))!==null?f:(f=a.getAttribute(c),f===null?b:f)},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(R),f=d.length;for(;g<f;g++)e=d[g],e&&(c=L.propFix[e]||e,L.attr(a,e,""),a.removeAttribute(X?e:c),W.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(T.test(a.nodeName)&&a.parentNode)L.error("type property can't be changed");else if(!L.support.radioValue&&b==="radio"&&L.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return Y&&L.nodeName(a,"button")?Y.get(a,b):b in a?a.value:null},set:function(a,b,c){if(Y&&L.nodeName(a,"button"))return Y.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,i=a.nodeType;if(!a||i===3||i===8||i===2)return;return g=i!==1||!L.isXMLDoc(a),g&&(c=L.propFix[c]||c,f=L.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&(e=f.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):U.test(a.nodeName)||V.test(a.nodeName)&&a.href?0:b}}}}),L.attrHooks.tabindex=L.propHooks.tabIndex,Z={get:function(a,c){var d,e=L.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?L.removeAttr(a,c):(d=L.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},X||(ab={name:!0,id:!0},Y=L.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(ab[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=I.createAttribute(c),a.setAttributeNode(d)),d.nodeValue=b+""}},L.attrHooks.tabindex.set=Y.set,L.each(["width","height"],function(a,b){L.attrHooks[b]=L.extend(L.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),L.attrHooks.contenteditable={get:Y.get,set:function(a,b,c){b===""&&(b="false"),Y.set(a,b,c)}}),L.support.hrefNormalized||L.each(["href","src","width","height"],function(a,c){L.attrHooks[c]=L.extend(L.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),L.support.style||(L.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),L.support.optSelected||(L.propHooks.selected=L.extend(L.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),L.support.enctype||(L.propFix.enctype="encoding"),L.support.checkOn||L.each(["radio","checkbox"],function(){L.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),L.each(["radio","checkbox"],function(){L.valHooks[this]=L.extend(L.valHooks[this],{set:function(a,b){if(L.isArray(b))return a.checked=L.inArray(L(a).val(),b)>=0}})});var bb=/^(?:textarea|input|select)$/i,cb=/^([^\.]*)?(?:\.(.+))?$/,db=/\bhover(\.\S+)?\b/,eb=/^key/,fb=/^(?:mouse|contextmenu)|click/,gb=/^(?:focusinfocus|focusoutblur)$/,hb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,ib=function(a){var b=hb.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},jb=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},kb=function(a){return L.event.special.hover?a:a.replace(db,"mouseenter$1 mouseleave$1")};L.event={add:function(a,c,d,e,f){var g,i,j,k,l,m,n,o,p,q,r,s;if(a.nodeType===3||a.nodeType===8||!c||!d||!(g=L._data(a)))return;d.handler&&(p=d,d=p.handler),d.guid||(d.guid=L.guid++),j=g.events,j||(g.events=j={}),i=g.handle,i||(g.handle=i=function(a){return typeof L=="undefined"||!!a&&L.event.triggered===a.type?b:L.event.dispatch.apply(i.elem,arguments)},i.elem=a),c=L.trim(kb(c)).split(" ");for(k=0;k<c.length;k++){l=cb.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=L.event.special[m]||{},m=(f?s.delegateType:s.bindType)||m,s=L.event.special[m]||{},o=L.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:f,quick:ib(f),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),f?r.splice(r.delegateCount++,0,o):r.push(o),L.event.global[m]=!0}a=null},global:{},remove:function(a,b,c,d,e){var f=L.hasData(a)&&L._data(a),g,i,j,k,l,m,n,o,p,q,r,s;if(!f||!(o=f.events))return;b=L.trim(kb(b||"")).split(" ");for(g=0;g<b.length;g++){i=cb.exec(b[g])||[],j=k=i[1],l=i[2];if(!j){for(j in o)L.event.remove(a,j+b[g],c,d,!0);continue}p=L.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&L.removeEvent(a,j,f.handle),delete o[j])}L.isEmptyObject(o)&&(q=f.handle,q&&(q.elem=null),L.removeData(a,["events","handle"],!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||e.nodeType!==3&&e.nodeType!==8){var g=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(gb.test(g+L.event.triggered))return;g.indexOf("!")>=0&&(g=g.slice(0,-1),k=!0),g.indexOf(".")>=0&&(i=g.split("."),g=i.shift(),i.sort());if((!e||L.event.customEvent[g])&&!L.event.global[g])return;c=typeof c=="object"?c[L.expando]?c:new L.Event(g,c):new L.Event(g),c.type=g,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=g.indexOf(":")<0?"on"+g:"";if(!e){j=L.cache;for(l in j)j[l].events&&j[l].events[g]&&L.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?L.makeArray(d):[],d.unshift(c),p=L.event.special[g]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||g]];if(!f&&!p.noBubble&&!L.isWindow(e)){s=p.delegateType||g,m=gb.test(s+g)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(L._data(m,"events")||{})[c.type]&&L._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&L.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();return c.type=g,!f&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(g!=="click"||!L.nodeName(e,"a"))&&L.acceptData(e)&&o&&e[g]&&(g!=="focus"&&g!=="blur"||c.target.offsetWidth!==0)&&!L.isWindow(e)&&(n=e[o],n&&(e[o]=null),L.event.triggered=g,e[g](),L.event.triggered=b,n&&(e[o]=n)),c.result}return},dispatch:function(c){c=L.event.fix(c||a.event);var d=(L._data(this,"events")||{})[c.type]||[],e=d.delegateCount,f=[].slice.call(arguments,0),g=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;f[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=L(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?jb(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(g||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((L.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,f),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,i=c.fromElement;return a.pageX==null&&c.clientX!=null&&(d=a.target.ownerDocument||I,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?c.toElement:i),!a.which&&g!==b&&(a.which=g&1?1:g&2?3:g&4?2:0),a}},fix:function(a){if(a[L.expando])return a;var c,d,e=a,f=L.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;a=L.Event(e);for(c=g.length;c;)d=g[--c],a[d]=e[d];return a.target||(a.target=e.srcElement||I),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),f.filter?f.filter(a,e):a},special:{ready:{setup:L.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){L.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=L.extend(new L.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?L.event.trigger(e,null,b):L.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},L.event.handle=L.event.dispatch,L.removeEvent=I.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},L.Event=function(a,b){if(!(this instanceof L.Event))return new L.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?i:g):this.type=a,b&&L.extend(this,b),this.timeStamp=a&&a.timeStamp||L.now(),this[L.expando]=!0},L.Event.prototype={preventDefault:function(){this.isDefaultPrevented=i;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=i;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()},isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g},L.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){L.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,f=e.selector,g;if(!d||d!==c&&!L.contains(c,d))a.type=e.origType,g=e.handler.apply(this,arguments),a.type=b;return g}}}),L.support.submitBubbles||(L.event.special.submit={setup:function(){if(L.nodeName(this,"form"))return!1;L.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=L.nodeName(c,"input")||L.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(L.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&L.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(L.nodeName(this,"form"))return!1;L.event.remove(this,"._submit")}}),L.support.changeBubbles||(L.event.special.change={setup:function(){if(bb.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")L.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),L.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,L.event.simulate("change",this,a,!0))});return!1}L.event.add(this,"beforeactivate._change",function(a){var b=a.target;bb.test(b.nodeName)&&!b._change_attached&&(L.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&L.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return L.event.remove(this,"._change"),bb.test(this.nodeName)}}),L.support.focusinBubbles||L.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){L.event.simulate(b,a.target,L.event.fix(a),!0)};L.event.special[b]={setup:function(){c++===0&&I.addEventListener(a,d,!0)},teardown:function(){--c===0&&I.removeEventListener(a,d,!0)}}}),L.fn.extend({on:function(a,c,d,e,f){var i,j;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(j in a)this.on(j,c,d,a[j],f);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=g;else if(!e)return this;return f===1&&(i=e,e=function(a){return L().off(a),i.apply(this,arguments)},e.guid=i.guid||(i.guid=L.guid++)),this.each(function(){L.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return L(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if(typeof a=="object"){for(var f in a)this.off(f,c,a[f]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=g),this.each(function(){L.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return L(this.context).on(a,this.selector,b,c),this},die:function(a,b){return L(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){L.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return L.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||L.guid++,d=0,e=function(c){var e=(L._data(this,"lastToggle"+a.guid)||0)%d;return L._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),L.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){L.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},L.attrFn&&(L.attrFn[b]=!0),eb.test(b)&&(L.event.fixHooks[b]=L.event.keyHooks),fb.test(b)&&(L.event.fixHooks[b]=L.event.mouseHooks)});/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */(function(){function a(a,b,c,d,f,g){for(var i=0,j=d.length;i<j;i++){var k=d[i];if(k){var l=!1;k=k[a];while(k){if(k[e]===c){l=d[k.sizset];break}k.nodeType===1&&!g&&(k[e]=c,k.sizset=i);if(k.nodeName.toLowerCase()===b){l=k;break}k=k[a]}d[i]=l}}}function c(a,b,c,d,f,g){for(var i=0,j=d.length;i<j;i++){var k=d[i];if(k){var l=!1;k=k[a];while(k){if(k[e]===c){l=d[k.sizset];break}if(k.nodeType===1){g||(k[e]=c,k.sizset=i);if(typeof b!="string"){if(k===b){l=!0;break}}else if(n.filter(b,[k]).length>0){l=k;break}}k=k[a]}d[i]=l}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),f=0,g=Object.prototype.toString,i=!1,j=!0,k=/\\/g,l=/\r\n/g,m=/\W/;[0,0].sort(function(){return j=!1,0});var n=function(a,b,c,e){c=c||[],b=b||I;var f=b;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!="string")return c;var i,j,k,l,m,o,r,s,u=!0,v=n.isXML(b),w=[],y=a;do{d.exec(""),i=d.exec(y);if(i){y=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&q.exec(a))if(w.length===2&&p.relative[w[0]])j=x(w[0]+w[1],b,e);else{j=p.relative[w[0]]?[b]:n(w.shift(),b);while(w.length)a=w.shift(),p.relative[a]&&(a+=w.shift()),j=x(a,j,e)}else{!e&&w.length>1&&b.nodeType===9&&!v&&p.match.ID.test(w[0])&&!p.match.ID.test(w[w.length-1])&&(m=n.find(w.shift(),b,v),b=m.expr?n.filter(m.expr,m.set)[0]:m.set[0]);if(b){m=e?{expr:w.pop(),set:t(e)}:n.find(w.pop(),w.length!==1||w[0]!=="~"&&w[0]!=="+"||!b.parentNode?b:b.parentNode,v),j=m.expr?n.filter(m.expr,m.set):m.set,w.length>0?k=t(j):u=!1;while(w.length)o=w.pop(),r=o,p.relative[o]?r=w.pop():o="",r==null&&(r=b),p.relative[o](k,r,v)}else k=w=[]}k||(k=j),k||n.error(o||a);if(g.call(k)==="[object Array]")if(!u)c.push.apply(c,k);else if(b&&b.nodeType===1)for(s=0;k[s]!=null;s++)k[s]&&(k[s]===!0||k[s].nodeType===1&&n.contains(b,k[s]))&&c.push(j[s]);else for(s=0;k[s]!=null;s++)k[s]&&k[s].nodeType===1&&c.push(j[s]);else t(k,c);return l&&(n(l,f,c,e),n.uniqueSort(c)),c};n.uniqueSort=function(a){if(v){i=j,a.sort(v);if(i)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},n.matches=function(a,b){return n(a,null,null,b)},n.matchesSelector=function(a,b){return n(b,null,null,[a]).length>0},n.find=function(a,b,c){var d,e,f,g,i,j;if(!a)return[];for(e=0,f=p.order.length;e<f;e++){i=p.order[e];if(g=p.leftMatch[i].exec(a)){j=g[1],g.splice(1,1);if(j.substr(j.length-1)!=="\\"){g[1]=(g[1]||"").replace(k,""),d=p.find[i](g,b,c);if(d!=null){a=a.replace(p.match[i],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},n.filter=function(a,c,d,e){var f,g,i,j,k,l,m,o,q,r=a,s=[],t=c,u=c&&c[0]&&n.isXML(c[0]);while(a&&c.length){for(i in p.filter)if((f=p.leftMatch[i].exec(a))!=null&&f[2]){l=p.filter[i],m=f[1],g=!1,f.splice(1,1);if(m.substr(m.length-1)==="\\")continue;t===s&&(s=[]);if(p.preFilter[i]){f=p.preFilter[i](f,t,d,s,e,u);if(!f)g=j=!0;else if(f===!0)continue}if(f)for(o=0;(k=t[o])!=null;o++)k&&(j=l(k,f,o,t),q=e^j,d&&j!=null?q?g=!0:t[o]=!1:q&&(s.push(k),g=!0));if(j!==b){d||(t=s),a=a.replace(p.match[i],"");if(!g)return[];break}}if(a===r){if(g!=null)break;n.error(a)}r=a}return t},n.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var o=n.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(l,"");for(a=a.firstChild;a;a=a.nextSibling)e+=o(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=o(c));return e},p=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!m.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,i;f<g;f++)if(i=a[f]){while((i=i.previousSibling)&&i.nodeType!==1);a[f]=e||i&&i.nodeName.toLowerCase()===b?i||!1:i===b}e&&n.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!m.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&n.filter(b,a,!0)}},"":function(b,d,e){var g,i=f++,j=c;typeof d=="string"&&!m.test(d)&&(d=d.toLowerCase(),g=d,j=a),j("parentNode",d,i,b,g,e)},"~":function(b,d,e){var g,i=f++,j=c;typeof d=="string"&&!m.test(d)&&(d=d.toLowerCase(),g=d,j=a),j("previousSibling",d,i,b,g,e)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(k,"")+" ";if(f)return a;for(var g=0,i;(i=b[g])!=null;g++)i&&(e^(i.className&&(" "+i.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(i):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(k,"")},TAG:function(a,b){return a[1].replace(k,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||n.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&n.error(a[0]);return a[0]=f++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(k,"");return!f&&p.attrMap[g]&&(a[1]=p.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(k,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(a,b,c,e,f){if(a[1]==="not"){if(!((d.exec(a[3])||"").length>1||/^\w/.test(a[3]))){var g=n.filter(a[3],b,c,!0^f);return c||e.push.apply(e,g),!1}a[3]=n(a[3],null,null,b)}else if(p.match.POS.test(a[0])||p.match.CHILD.test(a[0]))return!0;return a},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!n(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=p.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||o([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var i=0,j=g.length;i<j;i++)if(g[i]===a)return!1;return!0}n.error(e)},CHILD:function(a,b){var c,d,f,g,i,j,k,l=b[1],m=a;switch(l){case"only":case"first":while(m=m.previousSibling)if(m.nodeType===1)return!1;if(l==="first")return!0;m=a;case"last":while(m=m.nextSibling)if(m.nodeType===1)return!1;return!0;case"nth":c=b[2],d=b[3];if(c===1&&d===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[e]!==f||!a.nodeIndex)){j=0;for(m=g.firstChild;m;m=m.nextSibling)m.nodeType===1&&(m.nodeIndex=++j);g[e]=f}return k=a.nodeIndex-d,c===0?k===0:k%c===0&&k/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=n.attr?n.attr(a,c):p.attrHandle[c]?p.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&n.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=p.setFilters[e];if(f)return f(a,c,b,d)}}},q=p.match.POS,r=function(a,b){return"\\"+(b-0+1)};for(var s in p.match)p.match[s]=new RegExp(p.match[s].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[s]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[s].source.replace(/\\(\d+)/g,r));var t=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(I.documentElement.childNodes,0)[0].nodeType}catch(u){t=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var v,w;I.documentElement.compareDocumentPosition?v=function(a,b){return a===b?(i=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(v=function(a,b){if(a===b)return i=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,j=b.parentNode,k=g;if(g===j)return w(a,b);if(!g)return-1;if(!j)return 1;while(k)e.unshift(k),k=k.parentNode;k=j;while(k)f.unshift(k),k=k.parentNode;c=e.length,d=f.length;for(var l=0;l<c&&l<d;l++)if(e[l]!==f[l])return w(e[l],f[l]);return l===c?w(a,f[l],-1):w(e[l],b,1)},w=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=I.createElement("div"),c="script"+(new Date).getTime(),d=I.documentElement;a.innerHTML="<a name='"+c+"'/>",d.insertBefore(a,d.firstChild),I.getElementById(c)&&(p.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},p.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=I.createElement("div");a.appendChild(I.createComment("")),a.getElementsByTagName("*").length>0&&(p.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(p.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),I.querySelectorAll&&function(){var a=n,b=I.createElement("div"),c="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)return;n=function(b,d,e,f){d=d||I;if(!f&&!n.isXML(d)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(g&&(d.nodeType===1||d.nodeType===9)){if(g[1])return t(d.getElementsByTagName(b),e);if(g[2]&&p.find.CLASS&&d.getElementsByClassName)return t(d.getElementsByClassName(g[2]),e)}if(d.nodeType===9){if(b==="body"&&d.body)return t([d.body],e);if(g&&g[3]){var i=d.getElementById(g[3]);if(!i||!i.parentNode)return t([],e);if(i.id===g[3])return t([i],e)}try{return t(d.querySelectorAll(b),e)}catch(j){}}else if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){var k=d,l=d.getAttribute("id"),m=l||c,o=d.parentNode,q=/^\s*[+~]/.test(b);l?m=m.replace(/'/g,"\\$&"):d.setAttribute("id",m),q&&o&&(d=d.parentNode);try{if(!q||o)return t(d.querySelectorAll("[id='"+m+"'] "+b),e)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,d,e,f)};for(var d in a)n[d]=a[d];b=null}(),function(){var a=I.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(I.createElement("div"),"div"),d=!1;try{b.call(I.documentElement,"[test!='']:sizzle")}catch(e){d=!0}n.matchesSelector=function(a,e){e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!n.isXML(a))try{if(d||!p.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&a.document.nodeType!==11)return f}}catch(g){}return n(e,null,null,[a]).length>0}}}(),function(){var a=I.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)return;a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;p.order.splice(1,0,"CLASS"),p.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}(),I.documentElement.contains?n.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:I.documentElement.compareDocumentPosition?n.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:n.contains=function(){return!1},n.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var x=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=p.match.PSEUDO.exec(a))f+=d[0],a=a.replace(p.match.PSEUDO,"");a=p.relative[a]?a+"*":a;for(var i=0,j=g.length;i<j;i++)n(a,g[i],e,c);return n.filter(f,e)};n.attr=L.attr,n.selectors.attrMap={},L.find=n,L.expr=n.selectors,L.expr[":"]=L.expr.filters,L.unique=n.uniqueSort,L.text=n.getText,L.isXMLDoc=n.isXML,L.contains=n.contains})();var lb=/Until$/,mb=/^(?:parents|prevUntil|prevAll)/,nb=/,/,ob=/^.[^:#\[\.,]*$/,pb=Array.prototype.slice,qb=L.expr.match.POS,rb={children:!0,contents:!0,next:!0,prev:!0};L.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return L(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(L.contains(b[c],this))return!0});var e=this.pushStack("","find",a),f,g,i;for(c=0,d=this.length;c<d;c++){f=e.length,L.find(a,this[c],e);if(c>0)for(g=f;g<e.length;g++)for(i=0;i<f;i++)if(e[i]===e[g]){e.splice(g--,1);break}}return e},has:function(a){var b=L(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(L.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(k(this,a,!1),"not",a)},filter:function(a){return this.pushStack(k(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?qb.test(a)?L(a,this.context).index(this[0])>=0:L.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,f=this[0];if(L.isArray(a)){var g=1;while(f&&f.ownerDocument&&f!==b){for(d=0;d<a.length;d++)L(f).is(a[d])&&c.push({selector:a[d],elem:f,level:g});f=f.parentNode,g++}return c}var i=qb.test(a)||typeof a!="string"?L(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){f=this[d];while(f){if(i?i.index(f)>-1:L.find.matchesSelector(f,a)){c.push(f);break}f=f.parentNode;if(!f||!f.ownerDocument||f===b||f.nodeType===11)break}}return c=c.length>1?L.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?typeof a=="string"?L.inArray(this[0],L(a)):L.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?L(a,b):L.makeArray(a&&a.nodeType?[a]:a),d=L.merge(this.get(),c);return this.pushStack(j(c[0])||j(d[0])?d:L.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),L.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return L.dir(a,"parentNode")},parentsUntil:function(a,b,c){return L.dir(a,"parentNode",c)},next:function(a){return L.nth(a,2,"nextSibling")},prev:function(a){return L.nth(a,2,"previousSibling")},nextAll:function(a){return L.dir(a,"nextSibling")},prevAll:function(a){return L.dir(a,"previousSibling")},nextUntil:function(a,b,c){return L.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return L.dir(a,"previousSibling",c)},siblings:function(a){return L.sibling(a.parentNode.firstChild,a)},children:function(a){return L.sibling(a.firstChild)},contents:function(a){return L.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:L.makeArray(a.childNodes)}},function(a,b){L.fn[a]=function(c,d){var e=L.map(this,b,c);return lb.test(a)||(d=c),d&&typeof d=="string"&&(e=L.filter(d,e)),e=this.length>1&&!rb[a]?L.unique(e):e,(this.length>1||nb.test(d))&&mb.test(a)&&(e=e.reverse()),this.pushStack(e,a,pb.call(arguments).join(","))}}),L.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?L.find.matchesSelector(b[0],a)?[b[0]]:[]:L.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!L(f).is(d)))f.nodeType===1&&e.push(f),f=f[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var sb="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",tb=/ jQuery\d+="(?:\d+|null)"/g,ub=/^\s+/,vb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,wb=/<([\w:]+)/,xb=/<tbody/i,yb=/<|&#?\w+;/,zb=/<(?:script|style)/i,Ab=/<(?:script|object|embed|option|style)/i,Bb=new RegExp("<(?:"+sb+")","i"),Cb=/checked\s*(?:[^=]|=\s*.checked.)/i,Db=/\/(java|ecma)script/i,Eb=/^\s*<!(?:\[CDATA\[|\-\-)/,Fb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Gb=l(I);Fb.optgroup=Fb.option,Fb.tbody=Fb.tfoot=Fb.colgroup=Fb.caption=Fb.thead,Fb.th=Fb.td,L.support.htmlSerialize||(Fb._default=[1,"div<div>","</div>"]),L.fn.extend({text:function(a){return L.isFunction(a)?this.each(function(b){var c=L(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||I).createTextNode(a)):L.text(this)},wrapAll:function(a){if(L.isFunction(a))return this.each(function(b){L(this).wrapAll(a.call(this,b))});if(this[0]){var b=L(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return L.isFunction(a)?this.each(function(b){L(this).wrapInner(a.call(this,b))}):this.each(function(){var b=L(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=L.isFunction(a);return this.each(function(c){L(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){L.nodeName(this,"body")||L(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=L.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,L.clean(arguments)),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||L.filter(a,[d]).length)!b&&d.nodeType===1&&(L.cleanData(d.getElementsByTagName("*")),L.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&L.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return L.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(tb,""):null;if(typeof a=="string"&&!zb.test(a)&&(L.support.leadingWhitespace||!ub.test(a))&&!Fb[(wb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(vb,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(L.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else L.isFunction(a)?this.each(function(b){var c=L(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?L.isFunction(a)?this.each(function(b){var c=L(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=L(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;L(this).remove(),b?L(b).before(a):L(c).append(a)})):this.length?this.pushStack(L(L.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,f,g,i,j=a[0],k=[];if(!L.support.checkClone&&arguments.length===3&&typeof j=="string"&&Cb.test(j))return this.each(function(){L(this).domManip(a,c,d,!0)});if(L.isFunction(j))return this.each(function(e){var f=L(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,L.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=L.buildFragment(a,this,k),g=e.fragment,g.childNodes.length===1?f=g=g.firstChild:f=g.firstChild;if(f){c=c&&L.nodeName(f,"tr");for(var l=0,n=this.length,o=n-1;l<n;l++)d.call(c?m(this[l],f):this[l],e.cacheable||n>1&&l<o?L.clone(g,!0,!0):g)}k.length&&L.each(k,t)}return this}}),L.buildFragment=function(a,b,c){var d,e,f,g,i=a[0];return b&&b[0]&&(g=b[0].ownerDocument||b[0]),g.createDocumentFragment||(g=I),a.length===1&&typeof i=="string"&&i.length<512&&g===I&&i.charAt(0)==="<"&&!Ab.test(i)&&(L.support.checkClone||!Cb.test(i))&&(L.support.html5Clone||!Bb.test(i))&&(e=!0,f=L.fragments[i],f&&f!==1&&(d=f)),d||(d=g.createDocumentFragment(),L.clean(a,g,d,c)),e&&(L.fragments[i]=f?d:1),{fragment:d,cacheable:e}},L.fragments={},L.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){L.fn[a]=function(c){var d=[],e=L(c),f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var g=0,i=e.length;g<i;g++){var j=(g>0?this.clone(!0):this).get();L(e[g])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),L.extend({clone:function(a,b,c){var d,e,f,g=L.support.html5Clone||!Bb.test("<"+a.nodeName)?a.cloneNode(!0):s(a);if((!L.support.noCloneEvent||!L.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!L.isXMLDoc(a)){o(a,g),d=p(a),e=p(g);for(f=0;d[f];++f)e[f]&&o(d[f],e[f])}if(b){n(a,g);if(c){d=p(a),e=p(g);for(f=0;d[f];++f)n(d[f],e[f])}}return d=e=null,g},clean:function(a,b,c,d){var e;b=b||I,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||I);var f=[],g;for(var i=0,j;(j=a[i])!=null;i++){typeof j=="number"&&(j+="");if(!j)continue;if(typeof j=="string")if(!yb.test(j))j=b.createTextNode(j);else{j=j.replace(vb,"<$1></$2>");var k=(wb.exec(j)||["",""])[1].toLowerCase(),m=Fb[k]||Fb._default,n=m[0],o=b.createElement("div");b===I?Gb.appendChild(o):l(b).appendChild(o),o.innerHTML=m[1]+j+m[2];while(n--)o=o.lastChild;if(!L.support.tbody){var p=xb.test(j),q=k==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(g=q.length-1;g>=0;--g)L.nodeName(q[g],"tbody")&&!q[g].childNodes.length&&q[g].parentNode.removeChild(q[g])}!L.support.leadingWhitespace&&ub.test(j)&&o.insertBefore(b.createTextNode(ub.exec(j)[0]),o.firstChild),j=o.childNodes}var s;if(!L.support.appendChecked)if(j[0]&&typeof (s=j.length)=="number")for(g=0;g<s;g++)r(j[g]);else r(j);j.nodeType?f.push(j):f=L.merge(f,j)}if(c){e=function(a){return!a.type||Db.test(a.type)};for(i=0;f[i];i++)if(d&&L.nodeName(f[i],"script")&&(!f[i].type||f[i].type.toLowerCase()==="text/javascript"))d.push(f[i].parentNode?f[i].parentNode.removeChild(f[i]):f[i]);else{if(f[i].nodeType===1){var t=L.grep(f[i].getElementsByTagName("script"),e);f.splice.apply(f,[i+1,0].concat(t))}c.appendChild(f[i])}}return f},cleanData:function(a){var b,c,d=L.cache,e=L.event.special,f=L.support.deleteExpando;for(var g=0,i;(i=a[g])!=null;g++){if(i.nodeName&&L.noData[i.nodeName.toLowerCase()])continue;c=i[L.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?L.event.remove(i,j):L.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}f?delete i[L.expando]:i.removeAttribute&&i.removeAttribute(L.expando),delete d[c]}}}});var Hb=/alpha\([^)]*\)/i,Ib=/opacity=([^)]*)/,Jb=/([A-Z]|^ms)/g,Kb=/^-?\d+(?:px)?$/i,Lb=/^-?\d/,Mb=/^([\-+])=([\-+.\de]+)/,Nb={position:"absolute",visibility:"hidden",display:"block"},Ob=["Left","Right"],Pb=["Top","Bottom"],Qb,Rb,Sb;L.fn.css=function(a,c){return arguments.length===2&&c===b?this:L.access(this,a,c,!0,function(a,c,d){return d!==b?L.style(a,c,d):L.css(a,c)})},L.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Qb(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":L.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var f,g,i=L.camelCase(c),j=a.style,k=L.cssHooks[i];c=L.cssProps[i]||i;if(d===b)return k&&"get"in k&&(f=k.get(a,!1,e))!==b?f:j[c];g=typeof d,g==="string"&&(f=Mb.exec(d))&&(d=+(f[1]+1)*+f[2]+parseFloat(L.css(a,c)),g="number");if(d==null||g==="number"&&isNaN(d))return;g==="number"&&!L.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}},css:function(a,c,d){var e,f;c=L.camelCase(c),f=L.cssHooks[c],c=L.cssProps[c]||c,c==="cssFloat"&&(c="float");if(f&&"get"in f&&(e=f.get(a,!0,d))!==b)return e;if(Qb)return Qb(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),L.curCSS=L.css,L.each(["height","width"],function(a,b){L.cssHooks[b]={get:function(a,c,d){var e;if(c)return a.offsetWidth!==0?u(a,b,d):(L.swap(a,Nb,function(){e=u(a,b,d)}),e)},set:function(a,b){if(!Kb.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),L.support.opacity||(L.cssHooks.opacity={get:function(a,b){return Ib.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=L.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&L.trim(f.replace(Hb,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=Hb.test(f)?f.replace(Hb,e):f+" "+e}}),L(function(){L.support.reliableMarginRight||(L.cssHooks.marginRight={get:function(a,b){var c;return L.swap(a,{display:"inline-block"},function(){b?c=Qb(a,"margin-right","marginRight"):c=a.style.marginRight}),c}})}),I.defaultView&&I.defaultView.getComputedStyle&&(Rb=function(a,b){var c,d,e;return b=b.replace(Jb,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!L.contains(a.ownerDocument.documentElement,a)&&(c=L.style(a,b))),c}),I.documentElement.currentStyle&&(Sb=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return f===null&&g&&(e=g[b])&&(f=e),!Kb.test(f)&&Lb.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f}),Qb=Rb||Sb,L.expr&&L.expr.filters&&(L.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!L.support.reliableHiddenOffsets&&(a.style&&a.style.display||L.css(a,"display"))==="none"},L.expr.filters.visible=function(a){return!L.expr.filters.hidden(a)});var Tb=/%20/g,Ub=/\[\]$/,Vb=/\r?\n/g,Wb=/#.*$/,Xb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Yb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Zb=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,$b=/^(?:GET|HEAD)$/,_b=/^\/\//,ac=/\?/,bc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,cc=/^(?:select|textarea)/i,dc=/\s+/,ec=/([?&])_=[^&]*/,fc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,gc=L.fn.load,hc={},ic={},jc,kc,lc=["*/"]+["*"];try{jc=K.href}catch(mc){jc=I.createElement("a"),jc.href="",jc=jc.href}kc=fc.exec(jc.toLowerCase())||[],L.fn.extend({load:function(a,c,d){if(typeof a!="string"&&gc)return gc.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}var g="GET";c&&(L.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=L.param(c,L.ajaxSettings.traditional),g="POST"));var i=this;return L.ajax({url:a,type:g,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(f?L("<div>").append(c.replace(bc,"")).find(f):c)),d&&i.each(d,[c,b,a])}}),this},serialize:function(){return L.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?L.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||cc.test(this.nodeName)||Yb.test(this.type))}).map(function(a,b){var c=L(this).val();return c==null?null:L.isArray(c)?L.map(c,function(a,c){return{name:b.name,value:a.replace(Vb,"\r\n")}}):{name:b.name,value:c.replace(Vb,"\r\n")}}).get()}}),L.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){L.fn[b]=function(a){return this.on(b,a)}}),L.each(["get","post"],function(a,c){L[c]=function(a,d,e,f){return L.isFunction(d)&&(f=f||e,e=d,d=b),L.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),L.extend({getScript:function(a,c){return L.get(a,b,c,"script")},getJSON:function(a,b,c){return L.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?x(a,L.ajaxSettings):(b=a,a=L.ajaxSettings),x(a,b),a},ajaxSettings:{url:jc,isLocal:Zb.test(kc[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":lc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":L.parseJSON,"text xml":L.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:v(hc),ajaxTransport:v(ic),ajax:function(a,c){function d(a,c,d,m){if(t===2)return;t=2,r&&clearTimeout(r),q=b,o=m||"",x.readyState=a>0?4:0;var n,p,s,v=c,w=d?z(e,x,d):b,y,B;if(a>=200&&a<300||a===304){if(e.ifModified){if(y=x.getResponseHeader("Last-Modified"))L.lastModified[l]=y;if(B=x.getResponseHeader("Etag"))L.etag[l]=B}if(a===304)v="notmodified",n=!0;else try{p=A(e,w),v="success",n=!0}catch(C){v="parsererror",s=C}}else{s=v;if(!v||a)v="error",a<0&&(a=0)}x.status=a,x.statusText=""+(c||v),n?i.resolveWith(f,[p,v,x]):i.rejectWith(f,[x,v,s]),x.statusCode(k),k=b,u&&g.trigger("ajax"+(n?"Success":"Error"),[x,e,n?p:s]),j.fireWith(f,[x,v]),u&&(g.trigger("ajaxComplete",[x,e]),--L.active||L.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var e=L.ajaxSetup({},c),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof L)?L(f):L.event,i=L.Deferred(),j=L.Callbacks("once memory"),k=e.statusCode||{},l,m={},n={},o,p,q,r,s,t=0,u,v,x={readyState:0,setRequestHeader:function(a,b){if(!t){var c=a.toLowerCase();a=n[c]=n[c]||a,m[a]=b}return this},getAllResponseHeaders:function(){return t===2?o:null},getResponseHeader:function(a){var c;if(t===2){if(!p){p={};while(c=Xb.exec(o))p[c[1].toLowerCase()]=c[2]}c=p[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return t||(e.mimeType=a),this},abort:function(a){return a=a||"abort",q&&q.abort(a),d(0,a),this}};i.promise(x),x.success=x.done,x.error=x.fail,x.complete=j.add,x.statusCode=function(a){if(a){var b;if(t<2)for(b in a)k[b]=[k[b],a[b]];else b=a[x.status],x.then(b,b)}return this},e.url=((a||e.url)+"").replace(Wb,"").replace(_b,kc[1]+"//"),e.dataTypes=L.trim(e.dataType||"*").toLowerCase().split(dc),e.crossDomain==null&&(s=fc.exec(e.url.toLowerCase()),e.crossDomain=!(!s||s[1]==kc[1]&&s[2]==kc[2]&&(s[3]||(s[1]==="http:"?80:443))==(kc[3]||(kc[1]==="http:"?80:443)))),e.data&&e.processData&&typeof e.data!="string"&&(e.data=L.param(e.data,e.traditional)),w(hc,e,c,x);if(t===2)return!1;u=e.global,e.type=e.type.toUpperCase(),e.hasContent=!$b.test(e.type),u&&L.active++===0&&L.event.trigger("ajaxStart");if(!e.hasContent){e.data&&(e.url+=(ac.test(e.url)?"&":"?")+e.data,delete e.data),l=e.url;if(e.cache===!1){var y=L.now(),B=e.url.replace(ec,"$1_="+y);e.url=B+(B===e.url?(ac.test(e.url)?"&":"?")+"_="+y:"")}}(e.data&&e.hasContent&&e.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",e.contentType),e.ifModified&&(l=l||e.url,L.lastModified[l]&&x.setRequestHeader("If-Modified-Since",L.lastModified[l]),L.etag[l]&&x.setRequestHeader("If-None-Match",L.etag[l])),x.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", "+lc+"; q=0.01":""):e.accepts["*"]);for(v in e.headers)x.setRequestHeader(v,e.headers[v]);if(!e.beforeSend||e.beforeSend.call(f,x,e)!==!1&&t!==2){for(v in{success:1,error:1,complete:1})x[v](e[v]);q=w(ic,e,c,x);if(!q)d(-1,"No Transport");else{x.readyState=1,u&&g.trigger("ajaxSend",[x,e]),e.async&&e.timeout>0&&(r=setTimeout(function(){x.abort("timeout")},e.timeout));try{t=1,q.send(m,d)}catch(C){if(!(t<2))throw C;d(-1,C)}}return x}return x.abort(),!1},param:function(a,c){var d=[],e=function(a,b){b=L.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=L.ajaxSettings.traditional);if(L.isArray(a)||a.jquery&&!L.isPlainObject(a))L.each(a,function(){e(this.name,this.value)});else for(var f in a)y(f,a[f],c,e);return d.join("&").replace(Tb,"+")}}),L.extend({active:0,lastModified:{},etag:{}});var nc=L.now(),oc=/(\=)\?(&|$)|\?\?/i;L.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return L.expando+"_"+nc++}}),L.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(oc.test(b.url)||e&&oc.test(b.data))){var f,g=b.jsonpCallback=L.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[g],j=b.url,k=b.data,l="$1"+g+"$2";return b.jsonp!==!1&&(j=j.replace(oc,l),b.url===j&&(e&&(k=k.replace(oc,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+g))),b.url=j,b.data=k,a[g]=function(a){f=[a]},d.always(function(){a[g]=i,f&&L.isFunction(i)&&a[g](f[0])}),b.converters["script json"]=function(){return f||L.error(g+" was not called"),f[0]},b.dataTypes[0]="json","script"}}),L.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return L.globalEval(a),a}}}),L.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),L.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=I.head||I.getElementsByTagName("head")[0]||I.documentElement;return{send:function(_,e){c=I.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(_,a){if(a||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,a||e(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var pc=a.ActiveXObject?function(){for(var a in rc)rc[a](0,1)}:!1,qc=0,rc;L.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&B()||C()}:B,function(a){L.extend(L.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(L.ajaxSettings.xhr()),L.support.ajax&&L.ajaxTransport(function(c){if(!c.crossDomain||L.support.cors){var d;return{send:function(e,f){var g=c.xhr(),i,j;c.username?g.open(c.type,c.url,c.async,c.username,c.password):g.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)g[j]=c.xhrFields[j];c.mimeType&&g.overrideMimeType&&g.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)g.setRequestHeader(j,e[j])}catch(_){}g.send(c.hasContent&&c.data||null),d=function(_,a){var e,j,k,l,m;try{if(d&&(a||g.readyState===4)){d=b,i&&(g.onreadystatechange=L.noop,pc&&delete rc[i]);if(a)g.readyState!==4&&g.abort();else{e=g.status,k=g.getAllResponseHeaders(),l={},m=g.responseXML,m&&m.documentElement&&(l.xml=m),l.text=g.responseText;try{j=g.statusText}catch(n){j=""}!e&&c.isLocal&&!c.crossDomain?e=l.text?200:404:e===1223&&(e=204)}}}catch(o){a||f(-1,o)}l&&f(e,j,l,k)},!c.async||g.readyState===4?d():(i=++qc,pc&&(rc||(rc={},L(a).unload(pc)),rc[i]=d),g.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var sc={},tc,uc,vc=/^(?:toggle|show|hide)$/,wc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,xc,yc=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],zc;L.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(F("show",3),a,b,c);for(var f=0,g=this.length;f<g;f++)d=this[f],d.style&&(e=d.style.display,!L._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&L.css(d,"display")==="none"&&L._data(d,"olddisplay",G(d.nodeName)));for(f=0;f<g;f++){d=this[f];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=L._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(F("hide",3),a,b,c);var d,e,f=0,g=this.length;for(;f<g;f++)d=this[f],d.style&&(e=L.css(d,"display"),e!=="none"&&!L._data(d,"olddisplay")&&L._data(d,"olddisplay",e));for(f=0;f<g;f++)this[f].style&&(this[f].style.display="none");return this},_toggle:L.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return L.isFunction(a)&&L.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:L(this).is(":hidden");L(this)[b?"show":"hide"]()}):this.animate(F("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function e(){f.queue===!1&&L._mark(this);var b=L.extend({},f),c=this.nodeType===1,d=c&&L(this).is(":hidden"),e,g,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){e=L.camelCase(i),i!==e&&(a[e]=a[i],delete a[i]),g=a[e],L.isArray(g)?(b.animatedProperties[e]=g[1],g=a[e]=g[0]):b.animatedProperties[e]=b.specialEasing&&b.specialEasing[e]||b.easing||"swing";if(g==="hide"&&d||g==="show"&&!d)return b.complete.call(this);c&&(e==="height"||e==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],L.css(this,"display")==="inline"&&L.css(this,"float")==="none"&&(!L.support.inlineBlockNeedsLayout||G(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new L.fx(this,b,i),g=a[i],vc.test(g)?(o=L._data(this,"toggle"+i)||(g==="toggle"?d?"show":"hide":0),o?(L._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[g]()):(k=wc.exec(g),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(L.cssNumber[i]?"":"px"),n!=="px"&&(L.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,L.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,g,""));return!0}var f=L.speed(b,c,d);return L.isEmptyObject(a)?this.each(f.complete,[!1]):(a=L.extend({},a),f.queue===!1?this.each(e):this.queue(f.queue,e))},stop:function(a,c,d){return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function b(a,b,c){var e=b[c];L.removeData(a,c,!0),e.stop(d)}var c,e=!1,f=L.timers,g=L._data(this);d||L._unmark(!0,this);if(a==null)for(c in g)g[c]&&g[c].stop&&c.indexOf(".run")===c.length-4&&b(this,g,c);else g[c=a+".run"]&&g[c].stop&&b(this,g,c);for(c=f.length;c--;)f[c].elem===this&&(a==null||f[c].queue===a)&&(d?f[c](!0):f[c].saveState(),e=!0,f.splice(c,1));(!d||!e)&&L.dequeue(this,a)})}}),L.each({slideDown:F("show",1),slideUp:F("hide",1),slideToggle:F("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){L.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),L.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?L.extend({},a):{complete:c||!c&&b||L.isFunction(a)&&a,duration:a,easing:c&&b||b&&!L.isFunction(b)&&b};d.duration=L.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in L.fx.speeds?L.fx.speeds[d.duration]:L.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(a){L.isFunction(d.old)&&d.old.call(this),d.queue?L.dequeue(this,d.queue):a!==!1&&L._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),L.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(L.fx.step[this.prop]||L.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=L.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,c,d){function e(a){return f.step(a)}var f=this,g=L.fx;this.startTime=zc||D(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(L.cssNumber[this.prop]?"":"px"),e.queue=this.options.queue,e.elem=this.elem,e.saveState=function(){f.options.hide&&L._data(f.elem,"fxshow"+f.prop)===b&&L._data(f.elem,"fxshow"+f.prop,f.start)},e()&&L.timers.push(e)&&!xc&&(xc=setInterval(g.tick,g.interval))},show:function(){var a=L._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||L.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),L(this.elem).show()},hide:function(){this.options.orig[this.prop]=L._data(this.elem,"fxshow"+this.prop)||L.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=zc||D(),f=!0,g=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(f=!1);if(f){i.overflow!=null&&!L.support.shrinkWrapBlocks&&L.each(["","X","Y"],function(a,b){g.style["overflow"+b]=i.overflow[a]}),i.hide&&L(g).hide();if(i.hide||i.show)for(b in i.animatedProperties)L.style(g,b,i.orig[b]),L.removeData(g,"fxshow"+b,!0),L.removeData(g,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(g))}return!1}return i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=L.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},L.extend(L.fx,{tick:function(){var a,b=L.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||L.fx.stop()},interval:13,stop:function(){clearInterval(xc),xc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){L.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),L.each(["width","height"],function(a,b){L.fx.step[b]=function(a){L.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),L.expr&&L.expr.filters&&(L.expr.filters.animated=function(a){return L.grep(L.timers,function(b){return a===b.elem}).length});var Ac=/^t(?:able|d|h)$/i,Bc=/^(?:body|html)$/i;"getBoundingClientRect"in I.documentElement?L.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){L.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return L.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,f=e.documentElement;if(!c||!L.contains(f,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var g=e.body,i=H(e),j=f.clientTop||g.clientTop||0,k=f.clientLeft||g.clientLeft||0,l=i.pageYOffset||L.support.boxModel&&f.scrollTop||g.scrollTop,m=i.pageXOffset||L.support.boxModel&&f.scrollLeft||g.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:L.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){L.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return L.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,f=b.ownerDocument,g=f.documentElement,i=f.body,j=f.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==g){if(L.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,L.support.doesNotAddBorder&&(!L.support.doesAddBorderForTableAndCells||!Ac.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),L.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;return L.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(g.scrollTop,i.scrollTop),m+=Math.max(g.scrollLeft,i.scrollLeft)),{top:l,left:m}},L.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return L.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(L.css(a,"marginTop"))||0,c+=parseFloat(L.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=L.css(a,"position");d==="static"&&(a.style.position="relative");var e=L(a),f=e.offset(),g=L.css(a,"top"),i=L.css(a,"left"),j=(d==="absolute"||d==="fixed")&&L.inArray("auto",[g,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(g)||0,n=parseFloat(i)||0),L.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(k.top=b.top-f.top+m),b.left!=null&&(k.left=b.left-f.left+n),"using"in b?b.using.call(a,k):e.css(k)}},L.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=Bc.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(L.css(a,"marginTop"))||0,c.left-=parseFloat(L.css(a,"marginLeft"))||0,d.top+=parseFloat(L.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(L.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||I.body;while(a&&!Bc.test(a.nodeName)&&L.css(a,"position")==="static")a=a.offsetParent;return a})}}),L.each(["Left","Top"],function(a,c){var d="scroll"+c;L.fn[d]=function(c){var e,f;return c===b?(e=this[0],e?(f=H(e),f?"pageXOffset"in f?f[a?"pageYOffset":"pageXOffset"]:L.support.boxModel&&f.document.documentElement[d]||f.document.body[d]:e[d]):null):this.each(function(){f=H(this),f?f.scrollTo(a?L(f).scrollLeft():c,a?c:L(f).scrollTop()):this[d]=c})}}),L.each(["Height","Width"],function(a,c){var d=c.toLowerCase();L.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(L.css(a,d,"padding")):this[d]():null},L.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(L.css(b,d,a?"margin":"border")):this[d]():null},L.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(L.isFunction(a))return this.each(function(b){var c=L(this);c[d](a.call(this,b,c[d]()))});if(L.isWindow(e)){var f=e.document.documentElement["client"+c],g=e.document.body;return e.document.compatMode==="CSS1Compat"&&f||g&&g["client"+c]||f}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var i=L.css(e,d),j=parseFloat(i);return L.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=L,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return L})})(window),a()});provide("libwrap/jquery",function(a){using(window.twttr&&window.twttr.isT1?"$lib/jquery-1.7.1.js":"$lib/jquery-1.5.2.js",function(){a(jQuery)})});provide("$lib/json2.js",function(exports){this.JSON||(this.JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,i,j=b[a];j&&typeof j=="object"&&typeof j.toJSON=="function"&&(j=j.toJSON(a)),typeof rep=="function"&&(j=rep.call(b,a,j));switch(typeof j){case"string":return quote(j);case"number":return isFinite(j)?String(j):"null";case"boolean":case"null":return String(j);case"object":if(!j)return"null";gap+=indent,i=[];if(Object.prototype.toString.apply(j)==="[object Array]"){f=j.length;for(c=0;c<f;c+=1)i[c]=str(c,j)||"null";return e=i.length===0?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+g+"]":"["+i.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)d=rep[c],typeof d=="string"&&(e=str(d,j),e&&i.push(quote(d)+(gap?": ":":")+e))}else for(d in j)Object.hasOwnProperty.call(j,d)&&(e=str(d,j),e&&i.push(quote(d)+(gap?": ":":")+e));return e=i.length===0?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+g+"}":"{"+i.join(",")+"}",gap=g,e}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),exports()});provide("libwrap/json",function(a){using("$lib/json2.js",function(){a(JSON)})});provide("$lib/hogan.js",function(a){var b={},c=!1;typeof window!="undefined"&&(c=window.$.browser.msie&&parseInt(window.$.browser.version,10)<=7),function(a,b){function c(a,b){function c(){}function d(){}c.prototype=a,d.prototype=a.subs;var e=new c;e.subs=new d;for(var f in b)e.subs[f]=b[f];return e}function d(a){return String(a===null||a===undefined?"":a)}function e(a){return a=d(a),l.test(a)?a.replace(f,"&amp;").replace(g,"&lt;").replace(i,"&gt;").replace(j,"&#39;").replace(k,"&quot;"):a}a.Template=function(a,c,d,e){a=a||{},this.r=a.main||this.r,this.c=d,this.options=e,this.text=c||"",this.buf=b?[]:"",this.partials=a.partials||{},this.subs=a.subs||{}},a.Template.prototype={r:function(a,b,c){return""},v:e,t:d,render:function(a,b,c){return this.ri([a],b||{},c)},ri:function(a,b,c){return this.r(a,b,c)},ep:function(a,b){var d=this.partials[a],e=b[d.name];if(d.instance&&d.base==e)return d.instance;if(typeof e=="string"){if(!this.c)throw new Error("No compiler available.");e=this.c.compile(e,this.options)}return e?(this.partials[a].base=e,d.subs&&(e=c(e,d.subs)),this.partials[a].instance=e,e):null},rp:function(a,b,c,d){var e=this.ep(a,c);return e?e.ri(b,c,d):""},rs:function(a,b,c){var d=a[a.length-1];if(!m(d)){c(a,b,this);return}for(var e=0;e<d.length;e++)a.push(d[e]),c(a,b,this),a.pop()},s:function(a,b,c,d,e,f,g){var i;return m(a)&&a.length===0?!1:(typeof a=="function"&&(a=this.ms(a,b,c,d,e,f,g)),i=a===""||!!a,!d&&i&&b&&b.push(typeof a=="object"?a:b[b.length-1]),i)},d:function(a,b,c,d){var e=a.split("."),f=this.f(e[0],b,c,d),g=null;if(a==="."&&m(b[b.length-2]))return b[b.length-1];for(var i=1;i<e.length;i++)f&&typeof f=="object"&&f[e[i]]!=null?(g=f,f=f[e[i]]):f="";return d&&!f?!1:(!d&&typeof f=="function"&&(b.push(g),f=this.mv(f,b,c),b.pop()),f)},f:function(a,b,c,d){var e=!1,f=null,g=!1;for(var i=b.length-1;i>=0;i--){f=b[i];if(f&&typeof f=="object"&&f[a]!=null){e=f[a],g=!0;break}}return g?(!d&&typeof e=="function"&&(e=this.mv(e,b,c)),e):d?!1:""},ls:function(a,b,c,e,f){var g=this.options.delimiters;return this.options.delimiters=f,this.b(this.ct(d(a.call(b,e)),b,c)),this.options.delimiters=g,!1},ct:function(a,b,c){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(a,this.options).render(b,c)},b:b?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:b?function(){var a=this.buf.join("");return this.buf=[],a}:function(){var a=this.buf;return this.buf="",a},ms:function(a,b,c,d,e,f,g){var i=b[b.length-1],j=a.call(i);return typeof j=="function"?d?!0:this.ls(j,i,c,this.text.substring(e,f),g):j},mv:function(a,b,c){var e=b[b.length-1],f=a.call(e);return typeof f=="function"?this.ct(d(f.call(e)),e,c):f},sub:function(a,b,c){var d=this.subs[a];d&&d(b,c,this)}};var f=/&/g,g=/</g,i=/>/g,j=/\'/g,k=/\"/g,l=/[&<>\"\']/,m=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}}(b,c),function(a){function b(a){a.n.substr(a.n.length-1)==="}"&&(a.n=a.n.substring(0,a.n.length-1))}function c(a){return a.trim?a.trim():a.replace(/^\s*|\s*$/g,"")}function d(a,b,c){if(b.charAt(c)!=a.charAt(0))return!1;for(var d=1,e=a.length;d<e;d++)if(b.charAt(c+d)!=a.charAt(d))return!1;return!0}function e(b,c,d,i){var j=[],k=null,l=null,m=null;l=d[d.length-1];while(b.length>0){m=b.shift();if(!(!l||l.tag!="<"||m.tag in u))throw new Error("Illegal content in < super tag.");if(a.tags[m.tag]<=a.tags.$||f(m,i))d.push(m),m.nodes=e(b,m.tag,d,i);else{if(m.tag=="/"){if(d.length===0)throw new Error("Closing tag without opener: /"+m.n);k=d.pop();if(m.n!=k.n&&!g(m.n,k.n,i))throw new Error("Nesting error: "+k.n+" vs. "+m.n);return k.end=m.i,j}m.tag=="\n"&&(m.last=b.length==0||b[0].tag=="\n")}j.push(m)}if(d.length>0)throw new Error("missing closing tag: "+d.pop().n);return j}function f(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c].o==a.n)return a.tag="#",!0}function g(a,b,c){for(var d=0,e=c.length;d<e;d++)if(c[d].c==a&&c[d].o==b)return!0}function i(a){var b=[];for(var c in a)b.push('"'+k(c)+'": function(c,p,t) {'+a[c]+"}");return"{ "+b.join(",")+" }"}function j(a,b,c){for(var d in a)b[d]=new Function("c","p","t",a[d])}function k(a){return a.replace(t,"\\\\").replace(q,'\\"').replace(r,"\\n").replace(s,"\\r")}function l(a){return~a.indexOf(".")?"d":"f"}function m(a,b){var c=a.n+v++;return b.partials[c]={name:a.n},b.code+='t.b(t.rp("'+k(c)+'",c,p,"'+(a.indent||"")+'"));',c}function n(a,b){b.code+="t.b(t.t(t."+l(a.n)+'("'+k(a.n)+'",c,p,0)));'}function o(a){return"t.b("+a+");"}var p=/\S/,q=/\"/g,r=/\n/g,s=/\r/g,t=/\\/g;a.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},a.scan=function(e,f){function g(){t.length>0&&(u.push({tag:"_t",text:new String(t)}),t="")}function i(){var b=!0;for(var c=x;c<u.length;c++){b=a.tags[u[c].tag]<a.tags._v||u[c].tag=="_t"&&u[c].text.match(p)===null;if(!b)return!1}return b}function j(a,b){g();if(a&&i())for(var c=x,d;c<u.length;c++)u[c].text&&((d=u[c+1])&&d.tag==">"&&(d.indent=u[c].text.toString()),u.splice(c,1));else b||u.push({tag:"\n"});v=!1,x=u.length}function k(a,b){var d="="+z,e=a.indexOf(d,b),f=c(a.substring(a.indexOf("=",b)+1,e)).split(" ");return y=f[0],z=f[1],e+d.length-1}var l=e.length,m=0,n=1,o=2,q=m,r=null,s=null,t="",u=[],v=!1,w=0,x=0,y="{{",z="}}";f&&(f=f.split(" "),y=f[0],z=f[1]);for(w=0;w<l;w++)q==m?d(y,e,w)?(--w,g(),q=n):e.charAt(w)=="\n"?j(v):t+=e.charAt(w):q==n?(w+=y.length-1,s=a.tags[e.charAt(w+1)],r=s?e.charAt(w+1):"_v",r=="="?(w=k(e,w),q=m):(s&&w++,q=o),v=w):d(z,e,w)?(u.push({tag:r,n:c(t),otag:y,ctag:z,i:r=="/"?v-z.length:w+y.length}),t="",w+=z.length-1,q=m,r=="{"&&(z=="}}"?w++:b(u[u.length-1]))):t+=e.charAt(w);return j(v,!0),u};var u={_t:!0,"\n":!0,$:!0,"/":!0};a.stringify=function(b,c,d){var e=[],f="{main: function (c,p,i) { "+a.wrapMain(b.code)+" }, partials: {";for(var g in b.partials)e.push('"'+k(g)+'": {name:"'+k(b.partials[g].name)+'"}');return f+=e.join(",")+"}, subs: "+i(b.subs)+" }",f};var v=0;a.generate=function(b,c,d){v=0;var e={code:"",subs:{},partials:{}};return a.walk(b,e),d.asString?this.stringify(e,c,d):this.makeTemplate(e,c,d)},a.wrapMain=function(a){return'var t=this;t.b(i=i||"");'+a+"return t.fl();"},a.template=a.Template,a.makeTemplate=function(a,b,c){var d={main:new Function("c","p","i",this.wrapMain(a.code)),subs:{},partials:{}};d.partials=a.partials;for(var e in d.partials)j(d.partials[e].subs,d.partials[e].subs);return j(a.subs,d.subs),new this.template(d,b,this,c)},a.codegen={"#":function(b,c){c.code+="if(t.s(t."+l(b.n)+'("'+k(b.n)+'",c,p,1),'+"c,p,0,"+b.i+","+b.end+',"'+b.otag+" "+b.ctag+'")){'+"t.rs(c,p,"+"function(c,p,t){",a.walk(b.nodes,c),c.code+="});c.pop();}"},"^":function(b,c){c.code+="if(!t.s(t."+l(b.n)+'("'+k(b.n)+'",c,p,1),c,p,1,0,0,"")){',a.walk(b.nodes,c),c.code+="};"},">":m,"<":function(b,c){var d={partials:c.partials,code:"",subs:{},inPartial:!0};a.walk(b.nodes,d),c.partials[m(b,c)].subs=d.subs},$:function(b,c){var d={subs:{},code:"",partials:c.partials};a.walk(b.nodes,d),c.subs[b.n]=d.code,c.inPartial||(c.code+='t.sub("'+k(b.n)+'",c,p);')},"\n":function(a,b){b.code+=o('"\\n"'+(a.last?"":" + i"))},_v:function(a,b){b.code+="t.b(t.v(t."+l(a.n)+'("'+k(a.n)+'",c,p,0)));'},_t:function(a,b){b.code+=o('"'+k(a.text)+'"')},"{":n,"&":n},a.walk=function(b,c){var d;for(var e=0,f=b.length;e<f;e++)d=a.codegen[b[e].tag],d&&d(b[e],c);return c},a.parse=function(a,b,c){return c=c||{},e(a,"",[],c.sectionTags||[])},a.cache={},a.cacheKey=function(a,b){return[a,!!b.asString,!!b.disableLambda].join("||")},a.compile=function(b,c){c=c||{};var d=a.cacheKey(b,c),e=this.cache[d];return e?e:(e=this.generate(this.parse(this.scan(b,c.delimiters),b,c),b,c),this.cache[d]=e)}}(b);var d=function(a){function b(b,c,d,e){var f=c,g=this.partials[b],i=this.f(g.name,c,d,0);return i&&(f=f.concat(i)),a.Template.prototype.rp.call(this,b,f,d,e)}function c(b,c,d,e){var f=c[c.length-1],g=a.Template.prototype.f.call(this,b,c,d,e);if(g===!1){var i=f.lookup_missing_property?f:c[0];i.lookup_missing_property&&(g=i.lookup_missing_property(b,f),!e&&typeof g=="function"&&(g=this.lv(g,c,d)))}return g}function d(b,c,d){var f=a.parse.call(this,b,c,d),g="";for(var i=0;i<f.length;i++)if(f[i].tag=="_v"&&f[i].n.indexOf("%TRANSLATION-HINT")==0){var j=f.splice(i,1)[0];i--,g=j.n.substring(j.n.indexOf("mode=")+"mode=".length)}return e(f,g,c,d)}function e(b,c,d,i){var j=[];for(var k=0;k<b.length;k++)if(b[k].tag=="#"&&b[k].n=="_i"){var l=g(d.substring(b[k].i,b[k].end),c);l.tag=="raw"?j.push(l):Array.prototype.push.apply(j,a.parse(a.scan(l,i.delimiters),d,i))}else b[k].tag=="#"||b[k].tag=="^"?(b[k].nodes=e(b[k].nodes,c,d,i),j.push(b[k])):j.push(b[k]);return f(j)}function f(a){if(a.length==0)return a;var b=[a[0]];for(var c=1;c<a.length;c++)b[b.length-1].tag!="_t"||a[c].tag!="\n"&&a[c].tag!="_t"?b.push(a[c]):b[b.length-1].text+=a[c].text||"\n";return b}function g(a,b){var c={text:a,mode:b},d=typeof _!="undefined"?_(c):c.text;return d?d:a}var i=function(d,e,f,g){this.rp=b,this.f=c,a.Template.call(this,d,e,f,g)};i.prototype=a.Template.prototype;var j,k=function(){};return k.prototype=a,j=new k,j.template=i,j.parse=d,{twitterHogan:j,TwitterTemplate:i,to_html:function(a,b,c,d){a instanceof i||(a=j.compile(a,{sectionTags:[{o:"_i",c:"i"}]}));var e=a.render(b,c);if(!d)return e;d(e)}}}(b);typeof window!="undefined"&&(window.Mustache=d),typeof module!="undefined"&&(module.exports={Mustache:d,Hogan:b}),a()});provide("libwrap/hogan",function(a){using("$lib/hogan.js",function(){a(Mustache)})});provide("run/base",function(a){using("libwrap/jquery").as(function(b,c){function d(a,b){var c=window,d=a.split(".");for(var e=0,f=d.length;e<f;e++){var g=d[e];typeof c[g]=="undefined"&&(c[g]={}),c=c[g]}if(b)for(var i in b)c[i]=b[i];return c}window.h=function(a){var b=$("<div/>"),c=function(a){return a?b.text(a).html().replace(/\"/gi,"&quot;"):a};return h=function(a){return c(a)},c(a)},c.browser.msie&&c.browser.version==="7.0"&&(c.cleanData=function(a){var b,d,e=c.cache,f=c.event.special,g=c.support.deleteExpando;for(var i=0,j;(j=a[i])!=null;i++){if(j.nodeName&&c.noData[j.nodeName.toLowerCase()])continue;d=j[c.expando];if(d){b=e[d];if(b&&b.events){for(var k in b.events)f[k]?c.event.remove(j,k):c.removeEvent(j,k,b.handle);b.handle&&(b.handle.elem=null)}g?delete j[c.expando]:j.removeAttribute&&j.removeAttribute(c.expando.toLowerCase()),delete e[d]}}});var e=/\[native code\]/;d("twttr",{provide:d,augmentObject:function(a,b){for(var c in b)a[c]=b[c];return a},aug:function(){return twttr.augmentObject.apply({},arguments)},augmentString:function(a,b){var c=window,d=a.split(".");for(var e=0,f=d.length;e<f;++e)c=c[d[e]]=c[d[e]]||(typeof d[e+1]!="undefined"?{}:b);return c},each:function(a,b,c){for(var d=0,e=a.length;d<e;++d)c?b.call(c,a[d],d,a):b(a[d],d,a)},localize:function(a,b){return typeof a[twttr.pageLocale]=="undefined"?b:a[twttr.pageLocale]},filter:function(a,b,c){var d;if(twttr.is.array(a)){var e=[];for(var f=0,g=a.length;f<g;++f){d=c?b.call(c,a[f],f,a):b(a[f],f,a);if(!d)continue;e.push(a[f])}return e}if(twttr.is.object(a)){var h={};for(var i in a){d=c?b.call(c,i,a[i],a):b(i,a[i],a);if(!d)continue;h[i]=a[i]}return h}},map:function(a,b,c,d){var e=twttr.is.array(a)?[]:{};d&&d=="array"&&(e=[]);for(var f in a)e[f]=c?b.call(c,a[f],f,a):b(a[f],f,a);return e},every:function(a,b,c){var d;for(var e=0,f=a.length;e<f;++e){d=c?b.call(c,a[e],e,a):b(a[e],e,a);if(!d)return!1}return!0},inject:function(){return this.reduce.apply(this,arguments)},reduce:function(a,b,c){return $.each(a,function(a,d){b=c(b,a,d)}),b},exists:function(a,b){return!twttr.is.object(a)||!twttr.is.def(b)?null:twttr.is.def(twttr.at(b,a))},merge:function(){var a=c.makeArray(arguments);return a.length===1?a[0]:(twttr.is.bool(a[a.length-1])&&a.unshift(a.pop()),c.extend.apply(null,a))},extend:function(a,b){function c(){}c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.uber=b.prototype,b.prototype.constructor==Object.prototype.constructor&&(b.prototype.constructor=b)},method:function(a,b){return this.prototype[a]=b,this},methods:function(a){this.prototype._namespace=this._namespace;for(var b in a)this.prototype[b]=a[b],twttr.is.fn(a[b])&&(this.prototype[b]._methodName=b);return this},statics:function(a){return twttr.aug(this,a)},at:function(a,b){var c=a.split("."),d=b||window;while(c.length>0){d=d[c.shift()];if(typeof d=="undefined")return undefined}return d},klass:function(a,b){typeof a!="string"&&(b=a,a={}["this evaluates to undefined"]);var c=b||function(){f.uberclass&&f.uberclass.apply(this,arguments)},d=[],f=function(){if(!(!twttr.development&&!twttr.isTestEnv||this!=window&&!e.test(this.constructor)))throw new Error((a?a:"(unnamed)")+" constructor must be called with the 'new' keyword");var b=this;c.apply(this,arguments),twttr.each(d,function(a){new a(f,b)})};if(a){twttr.augmentString(a,f);var g=a.split(".").pop();f.name=g.toLowerCase(),f._namespace=a,f._name=g}return f.lazyLoad=function(a){return d.push(a),f},f.method=twttr.method,f.methods=twttr.methods,f.statics=twttr.statics,f._isKlass=!0,c._methodName="constructor",f.subclassOf=function(a){if(!a._isKlass)throw"You should not be subclassing something that is not a twttr.klass";twttr.extend(f,a);for(var b in a)f.hasOwnProperty(b)||(f[b]=a[b]);return f.uberclass=a,f},f.mixin=function(){for(var b=0;b<arguments.length;b++){var c=arguments[b];twttr.is.def(c)?c.call(f,f):console.warn("you have an undefined mixin coming from "+a)}return f},f},magic:function(a,b){return twttr.is.string(a)?twttr.augmentString(a,b):twttr.aug(a,b)},bind:function(a,b,c){return function(){return b.apply(a,c?c.concat(Array.prototype.slice.apply(arguments)):arguments)}}}),twttr.deprecateAccess=function(a,b,c){c=c||{};if(!twttr.deprecateAccess.isActive||typeof console=="undefined"||typeof a.__defineGetter__!="function"||typeof a.__defineSetter__!="function"||typeof a.__lookupGetter__!="function"||typeof a.__lookupSetter__!="function")return;if(a.__lookupGetter__(b)||a.__lookupSetter__(b))return;!!c.now!=!!c.daysRemaining&&console&&console.error("To deprecate "+b+", you must provide both a now property and a daysRemaining property, or neither");var d=a[b],e,g=new Date(c.now+c.daysRemaining*1e3*60*60*24),i=g<new Date,j=function(){if(e||f)return;e=!0;var d=['The property "'+b+'" on ',a,"is deprecated."];c.replacement&&d.push("  Please use "+c.replacement+" instead."),c.daysRemaining&&c.now&&d.push("\nTHIS CODE WILL SELF-DESTRUCT ON "+g.toString()),c.message&&d.push("\nMessage: "+message),d.push("\nPlease remove the usage at ",{stack:(new Error).stack}),console[i?"error":"warn"].apply(console,d)};a.__defineGetter__(b,function(){return j(),d}),a.__defineSetter__(b,function(a){j(),d=a})},twttr.deprecateAccess.activate=function(a){typeof a=="undefined"&&(a=!0),twttr.deprecateAccess.isActive=a};var f=!1;twttr.unwarnedAccess=function(a,b){f=!0;var c=a[b];return f=!1,c},twttr.klass.mixin=function(a,b){return twttr.magic(a,b)},d("twttr.is",{element:function(a){return!!a&&!!(this.def(a.nodeType)||a.document&&a.document.nodeType)},bool:function(a){return typeof a=="boolean"},nil:function(a){return a===null},def:function(a){return typeof a!="undefined"},number:function(a){return typeof a=="number"&&isFinite(a)},fn:function(a){return typeof a=="function"},array:function(a){return a?this.number(a.length)&&this.fn(a.splice):!1},string:function(a){return typeof a=="string"},blank:function(a){return a===""},falsy:function(a){return!a},object:function(a){return!(!a||typeof a!="object"&&!this.fn(a))},regex:function(a){return Object.prototype.toString.apply(a)==="[object RegExp]"},inArray:function(a,b){var c=b.length,d=0;for(d=0;d<c;d++)if(b[d]===a)return!0;return!1}}),twttr.provide("twttr.assets",{getPathFromAbsoluteURL:function(a,b){if(!twttr.cdnBase)return a;if(a.indexOf("/unversioned_dev_assets/")===0)return a;var c;if(a.match(/^https?:/)){function d(a){var b=a.split("://")[1];return b.split("/").slice(1).join("/")}c=d(a)}else console.warn("A relative path (%o) was passed to getPathFromAbsoluteURL, which expects an absolute URL; you should use twttr.assets.path instead",a),c=a;return this.path(c,b)},path:function(a,b){if(!twttr.cdnBase)return a;if(a.match(/^https?:/))return typeof console!="undefined"&&console.warn&&console.warn("A fully qualified URL (%o) was passed to twttr.assets.path, which expects a relative path; returning it unchanged",a),a;b=b||{};var c=typeof b.isSSL=="undefined"?twttr.proto=="https":b.isSSL,d=typeof b.isVersioned=="undefined"?!0:b.isVersioned,e,f,g;return d?e=twttr.cdnBase.versioned:e=twttr.cdnBase.unversioned,c?(f=e.ssl,e.ssl_akamai&&twttr.decider.isAvailable("ssl_cdn_akamai_fraction")&&(f=e.ssl_akamai)):f=e.http,a[0]!=="/"&&(a="/"+a),g=f[twttr.assets.stringToBucket(a,f.length)],g+a},stringToBucket:function(a,b){if(!b)throw new Error("Missing numberOfBuckets argument");var c=a.split("/"),d=c[c.length-1],e=0;for(var f=0;f<d.length;f++)e+=d.charCodeAt(f);return e%b}}),a(twttr)})});provide("_",function(a){using("util").as(function(b){var c=b.util.params().lang=="en-xx",_=window._=function(a,b){var c=a,e;return twttr.is.object(a)&&(c=a.text,e=a.mode),c=d(c,e),b==null?c:Mustache.to_html(c,b)};_.pseudoTranslate=function(a){str="[";var b=0;for(var c=0;c<a.length;c++)a[c]==">"||a[c]=="}"?b--:(a[c]=="<"||a[c]=="{")&&b++,b>0?str+=a[c]:str+=a[c].replace(/a/g,"åä").replace(/e/g,"éê").replace(/i/g,"ïí").replace(/o/g,"öø").replace(/u/g,"ü");return str+="]",str};var d=function(a,b){var d=a;if(!!twttr.i18n){var e=undefined;b?e=twttr.i18n[b+":"+a]||twttr.i18n[a]:e=twttr.i18n[a],e&&(d=e)}return c?_.pseudoTranslate(d):d};a(_)})});provide("EventProvider",function(a){using().as(function(b){twttr.provide("twttr.EventProvider",{events:null,_provider:function(){return this._eventProvider||(this._eventProvider=$("<div/>")),this._eventProvider},_createEvent:function(a){this.events||(this.events={}),this.events[a]||(this.events[a]=new $.Event(a))},trigger:function(){this._createEvent(arguments[0]);var a=this._provider();a.trigger.apply(a,arguments)},bind:function(){this._createEvent(arguments[0]);var a=this._provider();a.bind.apply(a,arguments)},one:function(){this._createEvent(arguments[0]);var a=this._provider();a.one.apply(a,arguments)},unbind:function(){var a=this._provider();a.unbind.apply(a,arguments)},_signalProvider:function(){return this._signalProviderObj||(this._signalProviderObj={fired:{},queues:{}}),this._signalProviderObj},signal:function(a){var b=this._signalProvider();if(!b.fired[a]){b.fired[a]=!0;var c=b.queues[a]||[];for(var d=0;d<c.length;d++)c[d].call(null);delete b.queues[a]}},waitForSignal:function(a,b){var c=this._signalProvider();c.fired[a]?b.call():(c.queues[a]||(c.queues[a]=[]),c.queues[a].push(b))}}),a(twttr.EventProvider)})});provide("bluejs/init",function(a){using(function(){twttr.anywhere=twttr.anywhere||{},twttr.anywhere.api=twttr.anywhere.api||{},twttr.anywhere.remote=twttr.anywhere.remote||{};var b=["models","util","proxies","mixins"];for(var c=0,d=b.length;c<d;++c)twttr.anywhere.api[b[c]]={};twttr.anywhere.api.config={useLocalStorage:!1,cacheObjects:!0,includeEntities:!1},twttr.anywhere.api.updateConfig=function(a){twttr.aug(twttr.anywhere.api.config,a)},twttr.anywhere.api.initialize=function(a){this.updateConfig(a),twttr.anywhere.api.globalEvents=twttr.aug({},twttr.EventProvider);for(var b in twttr.anywhere.api.models){if(b=="Base")continue;(function(){twttr.anywhere.api.proxies[b]=twttr.anywhere.api.util.proxyModel(twttr.anywhere.api.models[b],function(a){this.event=a})})()}twttr.anywhere.api.util.BaseCollection._name="twttr.anywhere.proxies.Collection",twttr.anywhere.api.proxies.Collection=twttr.anywhere.api.util.proxyModel(twttr.anywhere.api.util.BaseCollection,function(a){this.event=a}),delete twttr.anywhere.api.util.BaseCollection._name,twttr.anywhere.api.config.useLocalStorage&&window.localStorage?twttr.anywhere.api.cache=new twttr.anywhere.api.util.LocalStorageCache:twttr.anywhere.api.cache=new twttr.anywhere.api.util.RequestCache},a()})});provide("bluejs/config/endpoints",function(a){using(function(){var b="i",c="1",d=twttr.anywhere.api.endpoints={"blocks/blocking/ids":{url:"blocks/blocking/ids",type:"GET"},":user/:list_id/subscribers/create":{url:":user/:list_id/subscribers",type:"POST",optional_parameters:!0},"promoted_content/:event_type/log":{url:"promoted_content/:event_type/log",type:"GET",optional_parameters:!0},":user/lists":{url:":user/lists",type:"GET",optional_parameters:!0},"lists/all":{url:"lists/all",type:"GET",optional_parameters:!0},"geo/search":{url:"geo/search",type:"GET",optional_parameters:!0},"followers/ids":{url:"followers/ids",type:"GET",optional_parameters:!0},"users/show":{url:"users/show",type:"GET",optional_parameters:!0},"urls/resolve":{url:"urls/resolve",type:"GET",optional_parameters:!0},"account/settings":{url:"account/settings",type:"GET"},"account/update_profile_background_image":{url:"account/update_profile_background_image",type:"POST",optional_parameters:!0},"users/recommendations/hide":{url:"users/recommendations/hide",type:"POST",optional_parameters:!0},"friendships/update":{url:"friendships/update",type:"POST",optional_parameters:!0},":user/lists/memberships":{url:":user/lists/memberships",type:"GET",optional_parameters:!0},"lists/destroy":{url:"lists/destroy",type:"POST",optional_parameters:!0},"saved_searches/show/:id":{url:"saved_searches/show/:id",type:"GET",optional_parameters:!0},"friendships/show":{url:"friendships/show",type:"GET",optional_parameters:!0},"lists/statuses":{url:"lists/statuses",type:"GET",optional_parameters:!0},"statuses/friends":{url:"statuses/friends",type:"GET",optional_parameters:!0},"users/lookup":{url:"users/lookup",type:"GET",optional_parameters:!0},"statuses/show":{url:"statuses/show",type:"GET",optional_parameters:!0},"statuses/user_timeline":{url:"statuses/user_timeline",type:"GET",optional_parameters:!0},"statuses/profile_timeline":{url:"statuses/profile_timeline",type:"GET",optional_parameters:!0},"statuses/network_timeline":{url:"statuses/network_timeline",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"statuses/media_timeline":{url:"statuses/media_timeline",type:"GET",optional_parameters:!0},"statuses/:id/retweeted_by/ids":{url:"statuses/:id/retweeted_by/ids",type:"GET",optional_parameters:!0},"trends/available":{url:"trends/available",type:"GET",optional_parameters:!0},":user/:id/subscribers/destroy":{url:":user/:id/subscribers",type:"DELETE",optional_parameters:!0},":user/:id/members/destroy":{url:":user/:id/members",type:"DELETE",optional_parameters:!0},"lists/members/destroy":{url:"lists/members/destroy",type:"POST",optional_parameters:!0},"account/update_delivery_device":{url:"account/update_delivery_device",type:"POST",optional_parameters:!0},"direct_messages/new":{url:"direct_messages/new",type:"POST",optional_parameters:!0},"users/suggestions/random":{url:"users/suggestions/random",type:"GET",optional_parameters:!0},"geo/nearby_places":{url:"geo/nearby_places",type:"GET",optional_parameters:!0},"blocks/blocking":{url:"blocks/blocking",type:"GET",optional_parameters:!0},"friendships/accept":{url:"friendships/accept",type:"POST",optional_parameters:!0},"statuses/update":{url:"statuses/update",type:"POST",optional_parameters:!0},"statuses/update_with_media":{url:"statuses/update_with_media",type:"POST",host:twttr.domains.upload,use_host_in_prod:!0,optional_parameters:!0},"saved_searches/create":{url:"saved_searches/create",type:"POST",optional_parameters:!0},":user/:list_id/subscribers":{url:":user/:list_id/subscribers",type:"GET",optional_parameters:!0},"statuses/retweeted_to_me":{url:"statuses/retweeted_to_me",type:"GET",optional_parameters:!0},":user/:list_id/subscribers/:id":{url:":user/:list_id/subscribers/:id",type:"GET",optional_parameters:!0},"statuses/retweets/:id":{url:"statuses/retweets/:id",type:"GET",optional_parameters:!0},"statuses/public_timeline":{url:"statuses/public_timeline",type:"GET"},"statuses/friends_timeline":{url:"statuses/friends_timeline",type:"GET",optional_parameters:!0},"trends/weekly":{url:"trends/weekly",type:"GET",optional_parameters:!0},"account/update_profile_image":{url:"account/update_profile_image",type:"POST",optional_parameters:!0},"users/profile_image/:screen_name":{url:"users/profile_image/:screen_name",type:"GET",optional_parameters:!0},"users/suggestions":{url:"users/suggestions",type:"GET",optional_parameters:!0},"friendships/cancel":{url:"friendships/cancel",type:"POST",optional_parameters:!0},"statuses/sample":{url:"statuses/sample",type:"GET",optional_parameters:!0},"account/update_profile":{url:"account/update_profile",type:"POST",optional_parameters:!0},"notifications/follow":{url:"notifications/follow",type:"POST",optional_parameters:!0},"geo/place":{url:"geo/place",type:"POST",optional_parameters:!0},"lists/show":{url:"lists/show",type:"GET",optional_parameters:!0},"statuses/followers":{url:"statuses/followers",type:"GET",optional_parameters:!0},"friendships/accept_all":{url:"friendships/accept_all",type:"POST"},"help/test":{url:"help/test",type:"GET"},":user/lists/subscriptions":{url:":user/lists/subscriptions",type:"GET",optional_parameters:!0},"direct_messages/destroy":{url:"direct_messages/destroy",type:"POST",optional_parameters:!0},"statuses/home_timeline":{url:"statuses/home_timeline",type:"GET",optional_parameters:!0},":user/:list_id/members/:id":{url:":user/:list_id/members/:id",type:"GET",optional_parameters:!0},report_spam:{url:"report_spam",type:"POST",optional_parameters:!0},"related_results/show/:id":{url:"related_results/show/:id",type:"GET",optional_parameters:!0},"account/rate_limit_status":{url:"account/rate_limit_status",type:"GET"},"urls/shorten":{url:"urls/shorten",type:"GET",optional_parameters:!0},"geo/reverse_geocode":{url:"geo/reverse_geocode",type:"GET",optional_parameters:!0},"trends/daily":{url:"trends/daily",type:"GET",optional_parameters:!0},"account/verify_credentials":{url:"account/verify_credentials",type:"GET"},":user/lists/create":{url:":user/lists",type:"POST",optional_parameters:!0},"account/update_profile_colors":{url:"account/update_profile_colors",type:"POST",optional_parameters:!0},"users/suggestions/:slug/members":{url:"users/suggestions/:slug/members",type:"GET",optional_parameters:!0},"geo/similar_places":{url:"geo/similar_places",type:"GET",optional_parameters:!0},"blocks/create":{url:"blocks/create",type:"POST",optional_parameters:!0},":user/:list_id/members":{url:":user/:list_id/members",type:"GET",optional_parameters:!0},"friends/ids":{url:"friends/ids",type:"GET",optional_parameters:!0},"favorites/destroy/:id":{url:"favorites/destroy/:id",type:"POST",optional_parameters:!0},"geo/id/:id":{url:"geo/id/:id",type:"GET",optional_parameters:!0},"statuses/retweet":{url:"statuses/retweet",type:"GET",optional_parameters:!0},"favorites/:id":{url:"favorites/:id",type:"GET",optional_parameters:!0},"statuses/retweeted_by_me":{url:"statuses/retweeted_by_me",type:"GET",optional_parameters:!0},":user/:list_id/members/create":{url:":user/:list_id/members",type:"POST",optional_parameters:!0},"lists/members/create":{url:"lists/members/create",type:"POST",optional_parameters:!0},"users/search":{url:"users/search",type:"GET",optional_parameters:!0},"users/typeahead_social":{url:"search/typeahead",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"users/typeahead_global":{url:"search/typeahead",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"statuses/filter":{url:"statuses/filter",type:"POST",optional_parameters:!0},"friendships/create":{url:"friendships/create",type:"POST",optional_parameters:!0},"friendships/create_all":{url:"friendships/create_all",type:"POST",optional_parameters:!0},"account/settings/create":{url:"account/settings",type:"POST",optional_parameters:!0},"trends/current":{url:"trends/current",type:"GET",optional_parameters:!0},"users/suggestions/:slug":{url:"users/suggestions/:slug",type:"GET",optional_parameters:!0},"statuses/firehose":{url:"statuses/firehose",type:"GET",optional_parameters:!0},saved_searches:{url:"saved_searches",type:"GET"},direct_messages:{url:"direct_messages",type:"GET",optional_parameters:!0},"friendships/deny_all":{url:"friendships/deny_all",type:"POST"},"lists/update":{url:"lists/update",type:"POST",optional_parameters:!0},"blocks/destroy":{url:"blocks/destroy",type:"POST",optional_parameters:!0},"friendships/exists":{url:"friendships/exists",type:"GET",optional_parameters:!0},"users/contributors":{url:"users/contributors",type:"GET",optional_parameters:!0},"statuses/mentions":{url:"statuses/mentions",type:"GET",optional_parameters:!0},"favorites/create/:id":{url:"favorites/create/:id",type:"POST",optional_parameters:!0},trends:{url:"trends",type:"GET"},"trends/:woeid":{url:"trends/:woeid",type:"GET",optional_parameters:!0},"urls/shorten_multiple":{url:"urls/shorten_multiple",type:"GET",optional_parameters:!0},"statuses/destroy":{url:"statuses/destroy",type:"POST",optional_parameters:!0},"statuses/retweet/:id":{url:"statuses/retweet/:id",type:"POST",optional_parameters:!0},"direct_messages/sent":{url:"direct_messages/sent",type:"GET",optional_parameters:!0},"blocks/exists":{url:"blocks/exists",type:"GET",optional_parameters:!0},"saved_searches/destroy/:id":{url:"saved_searches/destroy/:id",type:"POST",optional_parameters:!0},"statuses/retweets_of_me":{url:"statuses/retweets_of_me",type:"GET",optional_parameters:!0},"friendships/deny":{url:"friendships/deny",type:"POST",optional_parameters:!0},"friendships/destroy":{url:"friendships/destroy",type:"POST",optional_parameters:!0},"account/end_session":{url:"account/end_session",type:"POST"},"notifications/leave":{url:"notifications/leave",type:"POST",optional_parameters:!0},"statuses/:id/retweeted_by":{url:"statuses/:id/retweeted_by",type:"GET",optional_parameters:!0},"users/recommendations":{url:"users/recommendations",type:"GET",optional_parameters:!0},"account/view_possibly_sensitive":{url:"account/view_possibly_sensitive",type:"GET",optional_parameters:!0,internal:!0},"account/update_view_possibly_sensitive":{url:"account/update_view_possibly_sensitive",type:"GET",optional_parameters:!0,internal:!0},"account/personalization_settings":{url:"account/personalization_settings",type:"GET",optional_parameters:!0,internal:!0},"account/update_personalization_settings":{url:"account/update_personalization_settings",type:"POST",optional_parameters:!0,internal:!0},"account/has_dismissed_geo_promo":{url:"account/has_dismissed_geo_promo",type:"GET",optional_parameters:!0,internal:!0},"account/update_has_dismissed_geo_promo":{url:"account/update_has_dismissed_geo_promo",type:"GET",optional_parameters:!0,internal:!0},"account/geo_location":{url:"account/geo_location",type:"POST",optional_parameters:!0,internal:!0},"account/email_status":{url:"account/email_status",type:"GET",optional_parameters:!0,internal:!0},"users/send_recommendation_rating":{url:"users/send_recommendation_rating",type:"POST",optional_parameters:!0,internal:!0},"users/send_invites_by_email":{url:"users/send_invites_by_email",type:"POST",optional_parameters:!0,internal:!0},"users/following_followers_of":{url:"users/following_followers_of",type:"GET",optional_parameters:!0,internal:!0},"users/follows_in_common_with":{url:"users/follows_in_common_with",type:"GET",optional_parameters:!0,internal:!0},"users/update_discoverability":{url:"users/update_discoverability",type:"POST",optional_parameters:!0,internal:!0},"users/show_for_profile":{url:"users/show_for_profile",type:"GET",optional_parameters:!0,internal:!0},"find_sources/contacts/services":{url:"find_sources/contacts/services",type:"GET",optional_parameters:!0,internal:!0},"find_sources/contacts/matches":{url:"find_sources/contacts/matches",type:"GET",optional_parameters:!0,internal:!0},"find_sources/contacts/others":{url:"find_sources/contacts/others",type:"GET",optional_parameters:!0,internal:!0},"find_sources/contacts/follow_all":{url:"find_sources/contacts/follow_all",type:"POST",optional_parameters:!0,internal:!0},"find_sources/contacts/add_to_list":{url:"find_sources/contacts/add_to_list",type:"POST",optional_parameters:!0,internal:!0},"promos/random_json_promo":{url:"promos/random_json_promo",type:"GET",optional_parameters:!0,internal:!0,mime_type:""},search:{url:"phoenix_search",type:"GET",optional_parameters:!0,internal:!0,mime_type:"phoenix"},"i/search":{url:"search",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"i/discovery":{url:"discovery",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"api/related_results/show/:id":{url:"api/related_results/show/:id",type:"GET",optional_parameters:!0,internal:!0},"friendships/incoming":{url:"friendships/incoming",type:"GET",optional_parameters:!0},"friend_requests/accept":{url:"friend_requests/accept",type:"POST",optional_parameters:!0,internal:!0},"friend_requests/deny":{url:"friend_requests/deny",type:"POST",optional_parameters:!0,internal:!0},"friendships/set_shares":{url:"friendships/set_shares",type:"POST",optional_parameters:!0,internal:!0},"bouncers/reset":{url:"bouncers/reset",type:"POST",optional_parameters:!0,internal:!0},"account/resend_confirmation_email":{url:"account/resend_confirmation_email",type:"GET",optional_parameters:!0,internal:!0,mime_type:""},"download/apps":{url:"download/apps",type:"GET",optional_parameters:!0,internal:!0,mime_type:""},"download/send_link":{url:"download/send_link",type:"POST",optional_parameters:!0,internal:!0},"devices/list":{url:"devices/list",type:"GET",internal:!0},"devices/carriers":{url:"devices/carriers",type:"GET",internal:!0},"devices/create":{url:"devices/create",type:"POST",optional_parameters:!0,internal:!0,mime_type:""},"devices/destroy":{url:"devices/destroy",type:"POST",optional_parameters:!0,internal:!0,mime_type:""},"statuses/flag_possibly_sensitive":{url:"statuses/flag_possibly_sensitive",type:"POST",optional_parameters:!0},"statuses/update_possibly_sensitive":{url:"statuses/update_possibly_sensitive",type:"POST",optional_parameters:!0},"promoted_content/home_timeline":{url:"promoted_content/home_timeline",type:"GET"},"promoted_content/feedback":{url:"promoted_content/feedback",type:"POST",optional_parameters:!0},"statuses/oembed":{url:"statuses/oembed",optional_parameters:!0},"direct_messages/conversations":{url:"direct_messages/conversations",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"direct_messages/conversation_with":{url:"direct_messages/conversation_with",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"users/get_prompt":{url:"users/get_prompt",type:"GET",internal:!0,optional_parameters:!0},"users/dismiss_prompt":{url:"users/dismiss_prompt",type:"POST",internal:!0,optional_parameters:!0},"statuses/following_timeline":{url:"statuses/following_timeline",type:"GET",optional_parameters:!0},"search/facets":{url:"search/facets",type:"GET",optional_parameters:!0,internal:!0},"search/image_facets":{url:"search/image_facets",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"search/video_facets":{url:"search/video_facets",type:"GET",optional_parameters:!0,version:b,internal_auth:!0},"activity/activity_by_user":{url:"activity/by_user",optional_parameters:!0,version:b},"activity/activity_of_me":{url:"activity/about_me",optional_parameters:!0,version:b},"activity/activity_by_people_i_follow":{url:"activity/by_friends",optional_parameters:!0,version:b},"statuses/:id/activity":{url:"statuses/:id/activity",optional_parameters:!1,version:b},"statuses/:id/activity/summary":{url:"statuses/:id/activity/summary",optional_parameters:!1,version:b},"government_search/by_zip":{url:"government_search/by_zip",optional_parameters:!0,version:b,internal_auth:!0}};a(d)})});provide("bluejs/util/request_helpers",function(a){using(function(){function b(a,b){return function(c,d,e){delete g[a];if(!c||d===0||d>=600)b({error:!0,status:0,reason:"No response or network disconnected."});else{var f=e.getResponseHeader("X-Twitter-Identity");f&&(c._identity=f),b(c)}}}function c(a,b){return function(c,d){function e(a){try{return JSON.parse(a)}catch(b){return{}}}delete g[a];var f="An error occured";c.status==401?f="Access denied":c.status==403&&(f="Permission denied"),b({error:!0,status:c.status,response:e(c.responseText),reason:f,xhr:c})}}function d(a,b){var c=a.split("/"),d=0,e=$.map(c,function(a){return a.indexOf(":")===0?b[d++]:a});return e.join("/")}function e(a,b){if(b.headers){var c=b.headers;b.headers=null,b.beforeSend=function(a){for(var b in c)a.setRequestHeader(b,c[b])}}var d=$.ajax(b);g[a]=d}function f(a,b){var c,e,f={dataType:"json",type:a.type||"get",url:""};a.use_host_in_prod&&(f.use_host_in_prod=!0),f.type=f.type.toLowerCase(),a.domain?f.url+=a.domain:(f.url+="/",a.internal||(f.url+=twttr.is.def(a.version)?a.version:"1",f.url+="/")),f.url+=a.url,c=b.slice(0,a.url.split(":").length-1),c.length>0&&(f.url=d(f.url,c)),a.mime_type!==""&&(f.url+=a.mime_type?"."+a.mime_type:".json"),f.data={};if(a.optional_parameters){e=b.slice(c.length);if(e.length>1)throw new"Optional parameter list is longer than expected";f.data=e[0]}if(f.type==="delete"||f.type==="put")f.data._method=a.type.toLowerCase(),f.type="post";a.headers&&(f.headers=a.headers),a.host&&(f.host=a.host);if(a.internal_auth||f.type!=="get")f.data.post_authenticity_token=twttr.anywhere.api.config.postAuthenticityToken;return f}var g={},i=/localhost\.twitter\.com/,j=function(){var a=0,d,f;return window.XMLHttpRequest&&(window.location.protocol!=="file:"||!window.ActiveXObject)?(d=function(){return new twttr.anywhere.remote.server.contentWindow.XMLHttpRequest},f=function(a){return function(){return new twttr.anywhere.api.util.RemoteRequest.hosts[a].contentWindow.XMLHttpRequest}}):(d=function(){try{return new twttr.anywhere.remote.server.contentWindow.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}},f=function(a){return function(){try{return new twttr.anywhere.api.util.RemoteRequest.hosts[a].contentWindow.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}}),function(g,j,k){var l=++a;return j.success=b(l,k),j.error=c(l,k),j.data=j.data||{},j.headers=j.headers||{},j.headers["X-PHX"]="true",j.host&&(twttr.domains.local.match(i)||j.use_host_in_prod)?(j.xhr=f(j.host),delete j.host,delete j.use_host_in_prod):g||(j.xhr=d),e(l,j),l}}();window.isTestMode&&(twttr.anywhere.api.buildRequestOptions=f),twttr.anywhere.api.makeRequest=function(a,b,c){return j(a.internal,f(a,b),c)},twttr.anywhere.api.cancelApiRequest=function(a){var b=g[a];b&&b.abort()},a({makeRequest:twttr.anywhere.api.makeRequest,cancelApiRequest:twttr.anywhere.api.cancelApiRequest})})});provide("bluejs/util/local_storage_cache",function(a){using(function(){var b={"users/show":{},"account/verify_credentials":{},"users/lookup":{}},c=.5,d=twttr.klass("twttr.anywhere.api.util.LocalStorageCache",function(){}).methods({clear:function(){for(var a in twttr.storage.getAll(/twitter_anywhere_cache_/))twttr.storage.expire(a)},put:function(a,d,e){if(a in b){var f=this._createKey(a,d);return twttr.storage.setWithExpiry(f,JSON.stringify(e),c),!0}return!1},get:function(a,b){var c=this._createKey(a,b),d;return(d=twttr.storage.get(c))?JSON.parse(d):null},expire:function(a){for(var b in twttr.storage.getAll(/twitter_anywhere_cache_/))b.match(a)&&twttr.storage.expire(b)},writeThroughCallback:function(a,b,c){return twttr.bind(this,function(d){this.put(a,b,d),c(d)})},_createKey:function(a,b){return"twitter_anywhere_cache_"+JSON.stringify([a,b])}});a(d)})});provide("bluejs/util/object_cache",function(a){using(function(){var b=twttr.klass("twttr.anywhere.api.util.ObjectCache",function(a,b){this.store={},this.size=0,this.options=b||{},this.keys=this.options.keys||[{name:"id",type:"number"},{name:"id",type:"string"}],this.keyNames={};for(var c=0;c<this.keys.length;c++)this.keyNames[this.keys[c].type]=this.keys[c].name;this.shouldCacheAssociated=!!this.options.cacheAssociated,this.shouldExpireAssociated=!!this.options.expireAssociated,this.klass=a,this.constructor._instances.push(this),a._cache=this}).statics({_capacity:7e3,_instances:[],_currentSize:0,_epoch:new Date,_maxAge:3e5,isAtCapacity:function(){return this._currentSize===this._capacity},eject:function(){var a=this._instances[0];for(var b=1,c=this._instances.length;b<c;++b)this._instances[b].size>a.size&&(a=this._instances[b]);a.eject()},sweeper:function(){var a;for(var b=0,c=this._instances.length;b<c;++b){a=this._instances[b];for(var d in a)a[d].createdAt-this._epoch>this._maxAge&&a[d].expire()}},flush:function(){for(var a=0,b=this._instances.length;a<b;++a)this._instances[a].flush()}}).methods({_persist:function(a,b){this.store[a]={value:b.data(),accessCount:1,lastAccess:new Date},this.size++,this.constructor._currentSize++},_touch:function(a){var b=new Date;this.store[a].accessCount++,this.store[a].createdAt=b,this.store[a].lastAccess=b-this.constructor._epoch},_eject:function(){this.size--,this.constructor._currentSize--},eject:function(){var a,b=new Date-this.constructor._epoch;for(var c in this.store)this.store[c].lastAccess<b&&(a=c,b=this.store[c].lastAccess);delete this.store[a],this._eject()},flush:function(){this.constructor._currentSize-=this.size,this.store={},this.size=0},get:function(a){var b=typeof a,c=this.keyNames[b];b==="string"&&(a=a.toLowerCase());var d=c+"_"+a;return this.store[d]?(this._touch(d),new this.klass(this.store[d].value)):null},getMulti:function(a){var b=[],c=[];for(var d=0,e=a.length;d<e;++d){var f=this.get(a[d]);f?b.push(f):c.push(a[d])}return{hits:new twttr.anywhere.api.util.BaseCollection(b),misses:c}},cache:function(a,b){b=b||{};var c=this.shouldCacheAssociated;twttr.is.def(b.shouldCacheAssociated)&&(c=b.shouldCacheAssociated),this.constructor.isAtCapacity()&&this.constructor.eject();var d,e,f;for(var g=0,i=this.keys.length;g<i;++g)f=this.keys[g].name,d=a[f]||"",this.keys[g].type==="string"&&(d=d.toLowerCase()),e=f+"_"+d,this._persist(e,a);if(c){var j=a.constructor._registry;if(j)for(var k in j){var l=a[k];l&&this.cacheAssociated(l)}}return a},cacheAssociated:function(a){if(a instanceof twttr.anywhere.api.util.BaseCollection&&a.length()){a=a.array;var b=a[0].constructor._cache;if(b)for(var c=0,d=a.length;c<d;++c)b.cache(a[c])}else{var b=a.constructor._cache;b&&b.cache(a)}},expire:function(a,b){b=b||{};var c=this.shouldExpireAssociated;twttr.is.def(b.shouldExpireAssociated)&&(c=b.shouldExpireAssociated);var d,e;for(var f=0,g=this.keys.length;f<g;++f)e=a[this.keys[f]]+"",d=d||this.store[e],delete this.store[e],this._eject();if(d){if(c){var i=a.constructor._registry;if(i)for(var j in i){var k=a[j];k&&this.expireAssociated(k)}}return!0}return!1},expireAssociated:function(a){if(a instanceof twttr.anywhere.api.util.BaseCollection&&a.length()){a=a.array;var b=a[0].constructor._cache;if(b)for(var c=0,d=a.length;c<d;++c)b.expire(a[c])}else{var b=a.constructor._cache;b&&b.expire(a)}}});twttr.augmentString("twttr.anywhere.api.util.expireObject",function(a){this.constructor._cache.expire(this,a)}),twttr.augmentString("twttr.anywhere.api.util.cacheObject",function(a){this.constructor._cache.cache(this,a)}),a(b)})});provide("bluejs/util/request_cache",function(a){using(function(){var b={},c=twttr.klass("twttr.anywhere.api.util.RequestCache",function(){this.store={}}).statics({DEFAULT_TTL:3e5}).methods({clear:function(){this.store={}},inject:function(a,b,c,d){var e={response:c,timestamp:new Date};return d&&(e.RTL=d),this.store[twttr.anywhere.api.util._createRequestKey(a,b)]=e,!0},put:function(a,c,d,e){return a in b?this.inject.apply(this,arguments):!1},get:function(a,b){var c=twttr.anywhere.api.util._createRequestKey(a,b),d,e=this.store[c];if(e){if(!(e.RTL!==undefined&&e.RTL===0||new Date-e.timestamp>this.constructor.DEFAULT_TTL))return e.RTL!==undefined&&e.RTL--,e.response;delete this.store[c]}return null},expire:function(a){for(var b in this.store)b.match(a)&&delete this.store[b]},writeThroughCallback:function(a,b,c){return twttr.bind(this,function(d){this.put(a,b,d),c(d)})}});a(c)})});provide("bluejs/util/helpers",function(a){using(function(){twttr.klass("twttr.anywhere.api.util.EventChain",function(){}).methods(twttr.EventProvider);var b={cast:!0,cancel:!0,success:!0,complete:!0,timeout:!0,error:!0,before:!0,eventName:!0,cacheOptions:!0},c=["phxcom"];twttr.augmentObject(twttr.anywhere.api.util,{chain:new twttr.anywhere.api.util.EventChain,noop:function(){},defaultTrigger:"current_user",camelize:function(){var a={};return function(b){var c=a[b];return c||(c=b.replace(/_(.)/g,function(a,b){return b.toUpperCase()}),a[b]=c),c}}(),filterOptions:function(a,b){var d={},e=a.concat(c);for(var f=0,g=e.length;f<g;++f){var i=e[f];twttr.is.def(b[i])&&(d[i]=b[i])}return d},underscore:function(){var a={};return function(b){var c=a[b];return c||(c=b.replace(/([a-z])([A-Z])/g,function(a,b,c){return(b+"_"+c).toLowerCase()}),a[b]=c),c}}(),buildCollection:function(a,b){var c=new twttr.anywhere.api.util.BaseCollection;for(var d=0,e=b.length;d<e;++d)c.push(new a(b[d]));return c},traverse:function(a,b){if(!b.length)return a;var c=b.shift();if(twttr.is.def(a[c])&&!twttr.is.nil(a[c]))return twttr.anywhere.api.util.traverse(a[c],b);var d=twttr.anywhere.api.util.traverseCurrentTrends(a,c);return d?d:null},traverseCurrentTrends:function(a,b){if(b=="current_trends")for(key in a)if(a.hasOwnProperty(key))return a[key];return null},cleanParams:function(a){var c={};for(var d in a)b[d]||(c[d]=a[d]);return c},optify:function(a){var b={success:twttr.anywhere.api.util.noop,error:twttr.anywhere.api.util.noop,complete:twttr.anywhere.api.util.noop};return a?twttr.is.fn(a)?twttr.merge({},b,{success:a}):twttr.merge({},b,a):b},useStringIdentifier:function(a,b){var c=b+"_str";if(!a)return;a[c]?(a[b]=a[c].toString(),delete a[c]):a[b]&&(a[b]=a[b].toString())},normalizePromotedTweet:function(a){if(a.promoted_content){var b=a.promoted_content;delete a.promoted_content,a=$.extend(a,b),a.socialContext=a.social_context,delete a.social_context}else if(a.entities&&a.entities.promoted_content){var b=a.entities.promoted_content;delete a.entities.promoted_content,a=$.extend(a,b)}return a},serializeArgs:function(a){var b="";for(var c=0,d=a.length;c<d;++c){var e=a[c],f=[];if(typeof e=="object"){for(var g in e)f.push(g);f.sort();for(var i=0,j=f.length;i<j;++i)b+=f[i]+e[f[i]]}else b+=JSON.stringify(e)}return b},_createRequestKey:function(a,b){return JSON.stringify([a,twttr.anywhere.api.util.serializeArgs(b)])},sanitize:function(a){if(!a)return a;var b=["\0","‎","‏","\u2028","\u2029","‪","‫","‬","‭","‮","￾","﻿","￿"],c;for(c=0;c<b.length;c++)a=a.replace(b[c],"");return a},returnClassFromType:function(a){return twttr.is.array(a)?[twttr.anywhere.api.models[a[0]]]:twttr.anywhere.api.models[a]},genEventName:function(){return"chain_"+(new Date).getTime()+Math.random()*1e3},proxyNameFromType:function(a){return a===undefined?null:a===null||twttr.is.array(a)?"Collection":a},makeRemoteRequest:function(a,b,c,d){var e=this,f,g=b;d=d||{},f=typeof c=="function"?{success:c}:c,(new twttr.anywhere.api.util.RemoteRequest(twttr.merge({methodName:a,args:b,callbacks:f},d))).send()},callMethod:function(a){function b(b){b.packed_response_type?b.available_features&&e.inject("account/available_features",{},b.available_features,1):a.dataSource.shift();var d=a.dataSource.length?twttr.anywhere.api.util.traverse(b,a.dataSource):b,f=!twttr.is.def(d)||twttr.is.nil(d),g;twttr.is.array(c)?g=f?new twttr.anywhere.api.util.BaseCollection:twttr.anywhere.api.util.buildCollection(c[0],d):f?g=null:g=c?new c(d):d,setTimeout(function(){a.options.success(g,b)},0)}var c,d=twttr.anywhere.api.util.RemoteRequest.priorities.NORMAL,e=twttr.anywhere.api.cache,f=!0,g={};a.options&&(c=a.options.cast,delete a.options.cast,a.options.headers&&(g=a.options.headers,delete a.options.headers),a.options.priority&&(d=a.options.priority,delete a.options.priority),a.options.useRequestCache&&(f=a.options.useRequestCache,delete a.options.useRequestCache)),c=c||a.cast;var i=a.params[a.params.length-1];twttr.is.object(i)&&(a.params[a.params.length-1]=twttr.anywhere.api.util.cleanParams(i));var j;if(e&&f&&(j=e.get(a.url,a.params)))b(j);else{var k={before:a.options.before,success:e?e.writeThroughCallback(a.url,a.params,b):b,error:a.options.error,complete:a.options.complete,timeout:a.options.timeout,cancel:a.options.cancel};twttr.anywhere.api.util.makeRemoteRequest(a.url,a.params,k,{headers:g,priority:d})}},chainableFn:function(a,b){function c(b,e){c._curry&&b instanceof twttr.anywhere.api.util.BaseCollection&&(c._curry instanceof twttr.anywhere.api.util.BaseCollection?b=b.concat(c._curry):b.push(c._curry)),a(b,{response:e}),twttr.anywhere.api.util.chain.trigger(d,[b])}var d;return b.eventName?(d=b.eventName,delete b.eventName):d=twttr.anywhere.api.util.genEventName(),c.event=d,c},cacheFn:function(a,b){return function(c){b=b||{};var d;if(c instanceof twttr.anywhere.api.util.BaseCollection){var e=c.toArray();for(var f=0,g=e.length;f<g;++f)twttr.is.object(e[f])&&e[f].constructor._isModel&&e[f].constructor.isCacheable()&&(d=e[f].constructor._cache.get(e[f].toParam()),b.skipOverwrite&&d?e[f]=d:e[f].cache(b))}else c instanceof twttr.anywhere.api.models.Base&&c.constructor.isCacheable()&&(d=c.constructor._cache.get(c.toParam()),b.skipOverwrite&&d?c=d:c.cache(b));a.apply({},arguments)}},expiryFn:function(a){return function(b){if(b instanceof twttr.anywhere.api.util.BaseCollection){var c=b.toArray();for(var d=0,e=c.length;d<e;++d)c[d].constructor._isModel&&c[d].constructor.isCacheable()&&c[d].expire()}else b instanceof twttr.anywhere.api.models.Base&&b.constructor.isCacheable()&&b.expire();a.apply({},arguments)}},writeThroughFn:function(a,b,c,d){var e=function(a,b){var e;for(var f in b)e=b[f],twttr.is.fn(e)&&(e=e.apply(c,[a].concat(d))),a.sync(f,e)};return function(c){if(c instanceof twttr.anywhere.api.util.BaseCollection){var d=c.toArray();for(var f=0,g=d.length;f<g;++f)d[f].constructor._isModel&&d[f].constructor.isCacheable()&&e(d[f],b)}else c instanceof twttr.anywhere.api.models.Base&&c.constructor.isCacheable()&&e(c,b);a.apply({},arguments)}},triggerFn:function(a,b,c){return function(d){a.trigger(b,arguments),c.apply({},arguments)}},decorateCallbacks:function(a,b,c){var d,e=["success","error","complete","before"];for(var f=0,g=e.length;f<g;++f)d=e[f],c.callbacks[d]=twttr.anywhere.api.util.triggerFn(a,b+"_"+d,c.callbacks[d],c.args)},chainableMethod:function(a,b,c){twttr.is.fn(b)&&(c=b,b={});var d=twttr.anywhere.api.util.proxyNameFromType(a),e=function(){var e={},f=this instanceof twttr.anywhere.api.models.Base?this.constructor:this,g=Array.prototype.slice.call(arguments),i=g.pop();i!==undefined&&i!==null&&(twttr.is.array(i)||!twttr.is.object(i)||a===null&&twttr.is.fn(i)?g.push(i):twttr.is.fn(i)?e.success=i:e=i);var j=[].concat(b.decorators||[]);e.success=e.success||twttr.anywhere.api.util.noop,e.error=e.error||twttr.anywhere.api.util.noop,e.before=e.before||twttr.anywhere.api.util.noop,e.complete=e.complete||twttr.anywhere.api.util.noop,b.writes?(j.push({decorator:twttr.anywhere.api.util.writeThroughFn,args:[b.writes,this,g]}),(!twttr.is.def(b.cache)||b.cache!==!1)&&j.push({decorator:twttr.anywhere.api.util.cacheFn,args:[{skipOverwrite:!0}]})):((!twttr.is.def(b.cache)||b.cache!==!1)&&j.push({decorator:twttr.anywhere.api.util.cacheFn,args:[e.cacheOptions]}),b.expire&&j.push({decorator:twttr.anywhere.api.util.expiryFn,args:[]}));var k,l;b.triggers&&(l=twttr.is.fn(b.triggers)?b.triggers(this):b.triggers,b.triggeredBy?k=twttr.anywhere.api.models[b.triggeredBy]:k=f,twttr.anywhere.api.util.decorateCallbacks(k,l,{callbacks:e,args:g})),e=twttr.anywhere.api.util.optify(e),j.push({decorator:twttr.anywhere.api.util.chainableFn,args:[e]}),e.cast=twttr.anywhere.api.util.returnClassFromType(a),g.push(e);var m=null;f._isModel&&f.isCacheable()&&b.cacheLookup&&(m=b.cacheLookup.apply(f,g));if(m&&m.partialHit){for(var n=0,o=j.length;n<o;++n)e.success=j[n].decorator.apply(this,[e.success].concat(j[n].args));e.success._curry=m.curry,c.apply(this,m.args)}else if(m)e.success=twttr.anywhere.api.util.chainableFn(e.success,e),setTimeout(function(){e.success(m)},0);else{for(var n=0,o=j.length;n<o;++n)e.success=j[n].decorator.apply(this,[e.success].concat(j[n].args));m=c.apply(this,g)}return!e.eventName&&d&&this.constructor!=twttr.anywhere.api.util.BaseCollection?new twttr.anywhere.api.proxies[d](e.success.event):m};return e.proxyName=d,e.returnType=a,e},aliasMethod:function(a,b){var c=twttr.anywhere.api.util.proxyNameFromType(a),d=function(){return b.apply(this,arguments)};return d.proxyName=c,d},proxyModel:function(a,b){var c=a._name.replace("models","proxies"),d=twttr.klass(c,b);for(var e in a.prototype)(function(){var b=e;d.prototype[b]=function(){var c=Array.prototype.slice.call(arguments),d=!!a.prototype[b].proxyName,e;if(d){e=twttr.anywhere.api.util.genEventName();var f=c.pop(),g={};f!==null&&f!==undefined&&(twttr.is.array(f)||!twttr.is.object(f)||a==twttr.anywhere.api.util.BaseCollection&&twttr.is.fn(f)?c.push(f):g=f),g=twttr.anywhere.api.util.optify(g),g.eventName=e,c.push(g)}var i=this;twttr.anywhere.api.util.chain.one(this.event,function(d,e){a.prototype[b].apply(e,c)});if(d)return new twttr.anywhere.api.proxies[a.prototype[b].proxyName](e)}})();return d},protoExtend:function(a){function b(){}return b.prototype=a,new b}}),a()})});provide("bluejs/util/model",function(a){using(function(){twttr.augmentObject(twttr.anywhere.api.util,{model:function(a,b){function c(a){return twttr.anywhere.api.util.underscore(a).toLowerCase()}function d(a,b){b=b||c(a),e._registry||(e._registry={}),e._registry[b]=a}b||(b=function(a){twttr.anywhere.api.models.Base.call(this,a)});var e=twttr.klass(a,b).subclassOf(twttr.anywhere.api.models.Base).statics({_eventing:twttr.aug({},twttr.EventProvider)}).statics({_isModel:!0,_uniqueKey:"id",_extensionMethods:[],trigger:function(){this._eventing.trigger.apply(this._eventing,arguments)},_bindWrapper:function(a,b){return function(c){c.type=a,b.apply({},arguments)}},_bind:function(a,b,c){twttr.is.fn(c)&&(c={success:c});var d=this,e=b.split("."),f,g;f=e.shift(),e=e.join(".");for(var i in c)(function(){var b=i;g=f+"_"+b,e!==""&&(g+="."+e),a.call(d._eventing,g,d._bindWrapper(f,c[b]))})()},bind:function(a,b){var c=a.split(" ");for(var d=0,e=c.length;d<e;++d)this._bind(this._eventing.bind,c[d],b)},one:function(a,b){var c=a.split(" ");for(var d=0,e=c.length;d<e;++d)this._bind(this._eventing.one,c[d],b)},unbind:function(a,b){var c=a.split(" ");for(var d=0,e=c.length;d<e;++d)this._unbind(c[d],b)},_unbind:function(a,b){var c=["success","error","complete","before"];if(a[0]=="."){this._eventing.unbind(a,b);return}var d=this,e=a.split("."),f,g;f=e.shift(),e=e.join(".");for(var i=0,j=c.length;i<j;++i)(function(){var a=c[i];g=f+"_"+a,e!==""&&(g+="."+e),d._eventing.unbind(g,b)})()},identify:function(a){var b=a;return a instanceof this&&(b=a[this._uniqueKey]),b},isCacheable:function(){return!!twttr.anywhere.api.config.cacheObjects&&!!this._cache}}).methods({toParam:function(){return this.constructor.identify(this)},reload:twttr.anywhere.api.util.aliasMethod(a.split(".").pop(),function(){var a=[this.constructor.identify(this)].concat(Array.prototype.slice.apply(arguments));return this.constructor.find.apply(this.constructor,a)})});return e.hasMany=function(a,b){return b=b||c(a),e._registry||(e._registry={}),e._registry[b]=[a],e},e.belongsTo=function(a,b){return d(a,b),e},e.hasOne=function(a,b){return d(a,b),e},e.cache=function(a){return new twttr.anywhere.api.util.ObjectCache(e,a),e.prototype.cache=twttr.anywhere.api.util.cacheObject,e.prototype.expire=twttr.anywhere.api.util.expireObject,e},e.uniqueKey=function(a){return e._uniqueKey=a,e},e.extend=function(a){return e._extensionMethods.push(a),e},e}}),a(twttr.anywhere.api.util.model)})});provide("bluejs/util/remote_request",function(a){using(function(){var b=/localhost\.twitter\.com/,c=twttr.klass("twttr.anywhere.api.util.RemoteRequest",function(a){this.id=++this.constructor.requestId,this.methodName=a.methodName,this.requestParameters=a.args||[],this.constructor.piggybackWhitelist[this.methodName]?this.signature=twttr.anywhere.api.util._createRequestKey(this.methodName,this.requestParameters):this.signature=this.id,this.priority=a.priority||this.constructor.priorities.NORMAL,this.headers=a.headers||{},this.retryCount=0,this.timeoutTimer=null,this.pendingRequestId=null;var b=this,c=twttr.anywhere.api.util.noop;this.requestCallbacks={before:a.callbacks.before||c,success:a.callbacks.success||c,error:a.callbacks.error||c,complete:a.callbacks.complete||c,timeout:a.callbacks.timeout||function(a){a.wait()},cancel:a.callbacks.cancel||c};var d=this.requestCallbacks.error;this.requestCallbacks.error=function(c){function e(b,c){trackClient({page:"api",action:"error"},{status_code:b,item_names:["methodName="+a.methodName,"args="+JSON.stringify(a.args||[]),"X-MID="+c.getResponseHeader("X-MID"),"X-Transaction="+c.getResponseHeader("X-Transaction"),"X-RateLimit-Remaining="+c.getResponseHeader("X-RateLimit-Remaining"),"X-RateLimit-Class="+c.getResponseHeader("X-RateLimit-Class")]})}if(c.status===b.constructor.RATE_LIMIT_STATUS){var f=b.constructor.apiErrorCodeFromResponse(c);f===b.constructor.RATE_LIMIT_API_CODE?twttr.anywhere.api.globalEvents.trigger("rate_limited"):f==null&&(twttr.anywhere.api.globalEvents.trigger("unknown_error"),c.xhr&&e(400,c.xhr))}twttr.loggedIn&&c.status==b.constructor.UNAUTHORIZED_STATUS&&c["response"]["error"]=="Could not authenticate you."&&window.location.reload(),d.apply({},arguments),c.status===b.constructor.FORBIDDEN_STATUS&&c.xhr&&e(403,c.xhr)};var e=this.constructor.timings[this.methodName];if(!twttr.is.def(e)||e.totalRequests>this.constructor.sampleWindow)this.constructor.timings[this.methodName]={timeTotal:0,totalRequests:0};this.constructor.timings[this.methodName].totalRequests++}).statics({RATE_LIMIT_STATUS:400,UNAUTHORIZED_STATUS:401,FORBIDDEN_STATUS:403,RATE_LIMIT_API_CODE:88,useDynamicBackoff:!1,requestId:1,sampleWindow:15,maxRetries:3,maxProcessing:3,defaultRequestLatency:5e3,latencySteps:[5e3,1e4,2e4],priorities:{IMMEDIATE:4,HIGH:3,NORMAL:2,LOW:1},hosts:{},timings:{},processing:0,pipeline:[],pending:{},piggybackWhitelist:{"activity/activity_by_people_i_follow":!0},apiErrorCodeFromResponse:function(a){return a.response&&a.response.errors&&a.response.errors.length&&a.response.errors[0]?a.response.errors[0].code:null},isReady:function(a){if(window.isTestMode)throw new Error("JS API methods must be stubbed when used in tests: "+a.url);return twttr.is.def(twttr.anywhere.remote.server)},isBacklogged:function(){return this.pipeline.length>0},isCapped:function(){return!1},isAvailable:function(){return this.processing<this.maxProcessing},isIdle:function(){return this.processing===0},flush:function(){if(!this.isBacklogged())return;var a=this.maxProcessing-this.processing;for(var b=0,c=a;b<c;++b)this.reschedule()},reschedule:function(){if(!this.isBacklogged())return;var a=0,b=this.pipeline[a];for(var c=0,d=this.pipeline.length;c<d;++c)this.pipeline[c].request.priority>b.request.priority&&(a=c,b=this.pipeline[c]);this.pipeline.splice(a,1),b.runner()}}).methods({setStart:function(a){this.startedOn=a},setEnd:function(a){this.endedOn=a,this.constructor.timings[this.methodName].timeTotal+=this.latency()},latency:function(){return this.endedOn-this.startedOn},dynamicBackoff:function(){var a=this.constructor.timings[this.methodName];return a.timeTotal!==0?Math.floor(a.timeTotal/a.totalRequests):this.constructor.defaultRequestLatency},incrementalBackoff:function(){return this.constructor.latencySteps[this.retryCount]},_stop:function(){this["stopped_"+this.retryCount]=!0,delete this.constructor.pending[this.signature],this.pendingRequestId&&twttr.anywhere.api.cancelApiRequest(this.pendingRequestId),this._clearTimer()},_clearTimer:function(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)},_startTimer:function(a){var b=this;a=!!a;var c=null;a&&(c=this.constructor.useDynamicBackoff?this.dynamicBackoff:this.incrementalBackoff),this._clearTimer(),this.timeoutTimer=setTimeout(function(){var a=b.constructor.pending[b.signature];for(var c=0,d=a.length;c<d;++c)a[c].requestCallbacks.timeout(b)},a?c.call(this):this.constructor.defaultRequestLatency)},cancel:function(){var a=this.constructor.pending[this.signature];if(a.length>1)for(var b=0,c=a.length;b<c;++b)a[b].id===this.id&&a.splice(b,1);else this._stop();this.requestCallbacks.cancel(this)},retry:function(){var a=this.constructor.pending[this.signature];if(a.length>1)for(var b=0,c=a.length;b<c;++b)a[b].id===this.id&&a.splice(b,1);else this._stop();this.retryCount++;if(this.retryCount>this.constructor.maxRetries){var d={response:{error:"Connection timeout"}};this.requestCallbacks.error(d),this.requestCallbacks.complete(d);return}this.signature=this.signature+"_"+this.retryCount,this.send()},wait:function(){this._startTimer()},request:function(a,b){if(!this.constructor.isReady(a)&&!a.internal||this.constructor.isCapped()){this.constructor.pipeline.push({request:this,runner:b});return}this._run(b)},_run:function(a){this.setStart(new Date),this._startTimer(),this.constructor.processing++,a.call(this)},responseHandler:function(a,b){var c=this;return function(d){c.constructor.processing--,c.constructor.isAvailable()&&c.constructor.isBacklogged()&&c.constructor.reschedule(),c.setEnd(new Date),c["stopped_"+a]||b(d)}},_buildRequestCallback:function(){var a=this,b=this.retryCount;return this.responseHandler(b,function(b){a._clearTimer();var c=a.constructor.pending[a.signature],d=b&&b.error?"error":"success";for(var e=0,f=c.length;e<f;++e)c[e].requestCallbacks[d].apply({},[b,a]),c[e].requestCallbacks.complete.apply({},[b,a]);delete a.constructor.pending[a.signature]})},send:function(){function a(){var a=c._buildRequestCallback(),b=Array.prototype.slice.apply(c.requestParameters);c.requestCallbacks.before.apply({},[c]),c.pendingRequestId=twttr.anywhere.api.makeRequest(d,b,a)}var c=this,d=twttr.anywhere.api.endpoints[this.methodName];if(!d)throw new Error("The endpoint, "+this.methodName+" is not a registered API method");if(this.constructor.pending[this.signature]){this.constructor.pending[this.signature].push(this),this.requestCallbacks.before.apply({},[this]);return}this.constructor.pending[this.signature]=[this],d=twttr.merge({},d,{headers:this.headers}),(twttr.domains.local.match(b)||d.use_host_in_prod)&&d.host&&!this.constructor.hosts[d.host]?(url=twttr.proto+"://"+d.host+"/receiver.html",twttr.createIframe(url,function(){c.constructor.hosts[d.host]=this,c.request(d,a)})):this.request(d,a)}});a(c)})});provide("bluejs/util/base_collection",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=function(a){return b(null,function(){var b=Array.prototype.slice.call(arguments,0),c=b.pop(),d=a.apply(this,b);return c.success(d),d})},d=twttr.klass("twttr.anywhere.api.util.BaseCollection",function(a){this.array=a||[]}).methods({each:c(function(a){for(var b=0,c=this.array.length;b<c;++b)a(this.array[b],b);return this}),sort:c(function(){return this.array.sort.apply(this.array,arguments),this}),isEmpty:function(){return this.array.length===0},toArray:function(){return this.array},inject:function(){return this.reduce.apply(this,arguments)},reduce:function(a,b){if(arguments.length!==2)throw"Exception: Wrong number of arguments, 3 required";for(var c=0,d=this.array.length;c<d;++c)a=b(a,this.array[c]);return a},join:function(a,b){twttr.is.fn(a)&&(b=a,a="");var c=this.array.join(a);return b&&b(c),c},concat:function(a){return a instanceof this.constructor&&(a=a.array),new this.constructor(this.array.concat(a))},find:c(function(a){for(var b=0,c=this.array.length;b<c;++b)if(a(this.array[b],b))return this.array[b];return null}),filter:c(function(a){var b=new this.constructor;for(var c=0,d=this.array.length;c<d;++c)a(this.array[c],c)&&b.push(this.array[c]);return b}),some:function(a){for(var b=0,c=this.array.length;b<c;++b)if(a.call(this.array,this.array[b],b,this.array))return!0;return!1},every:function(a){for(var b=0,c=this.array.length;b<c;++b)if(!a.call(this.array,this.array[b],b,this.array))return!1;return!0},map:c(function(a){var b=new this.constructor;for(var c=0,d=this.array.length;c<d;++c)b.push(a(this.array[c],c));return b}),none:function(a){var b=this.any(a);return!b},length:function(){return this.array.length},get:c(function(a,b){var c=this.array[a];return b&&b(c),c}),push:function(){return arguments[0]instanceof this.constructor?this.array.push.apply(this.array,arguments[0].array):this.array.push.apply(this.array,arguments),this},pop:function(a,b){var c;twttr.is.fn(a)&&(b=a,a=undefined);if(a){var d=this.array.length-a;c=new this.constructor(this.array.slice(d)),this.array=this.array.slice(0,d)}else c=this.array.pop();return b&&b(c),c},shift:function(){return this.array.shift()},unshift:function(){return arguments[0]instanceof this.constructor?this.array.unshift.apply(this.array,arguments[0].array):this.array.unshift.apply(this.array,arguments),this},first:c(function(a,b){a||(a=1),twttr.is.fn(a)&&(b=a,a=1);var c;return a==1?c=this.array[0]:c=new this.constructor(this.array.slice(0,a)),b&&b(c),c}),slice:function(a,b){var c=[a];b!==undefined&&b!==null&&c.push(b);var d=this.array.slice.apply(this.array,c);return new this.constructor(d)},reverse:c(function(){return new this.constructor(this.array.reverse())}),last:c(function(a,b){a||(a=1),twttr.is.fn(a)&&(b=a,a=1);var c;return a==1?c=this.array[this.array.length-1]:c=new this.constructor(this.array.slice(this.array.length-a)),b&&b(c),c})});a(d)})});provide("bluejs/mixins/status_actions",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.augmentString("twttr.anywhere.api.mixins.StatusActions",{retweet:c("Status",function(a){return twttr.anywhere.api.models.Status.retweet(this,a)}),favorite:c("Status",function(a){return twttr.anywhere.api.models.Status.favorite(this,a)}),unfavorite:c("Status",function(a){return twttr.anywhere.api.models.Status.unfavorite(this,a)}),reply:c("Status",function(a,b){return twttr.anywhere.api.models.Status.reply(this,a,b)})});a(e)})});provide("bluejs/mixins/phoenix/user",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.filterOptions,e=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.User",function(a){return a.statics({_bulkFollowing:0,startBulkFollowing:function(){this._bulkFollowing++},stopBulkFollowing:function(){this._bulkFollowing--},isBulkFollowing:function(){return this._bulkFollowing>0},findForProfile:b("User",{cacheLookup:function(a,b){var c=this._cache.get(a);if(c){var d={cursor:-1,count:15,user_id:c.id};return(cachedFriends=twttr.API._requestCache.get("statuses/friends",[d]))?(twttr.API._requestCache.inject("statuses/friends",[d],cachedFriends,1),c):!1}return!1},decorators:[{decorator:function(a){return function(b,c){if(c.response.friends){var d={cursor:-1,count:15,user_id:b.id};twttr.API._requestCache.inject("statuses/friends",[d],c.response.friends,1)}if(c.response.recommendations){var e={limit:4,pc:!1,user_id:b.id};twttr.API._requestCache.inject("users/recommendations",[e],c.response.recommendations,1)}if(c.response.timeline){var f={include_entities:1,include_available_features:1,contributor_details:!0,include_rts:!0,user_id:b.id};twttr.API._requestCache.inject("statuses/user_timeline",[f],c.response.timeline,1)}a.apply({},arguments)}},args:[]}]},function(a,b){var d;twttr.is.string(a)?d={screen_name:a}:d={user_id:a},c({options:b,url:"users/show_for_profile",params:[d],dataSource:["","user"]})})}),a.methods({setWantRetweetsOn:b("User",{expire:!0,triggers:"does_want_retweets",triggerTarget:function(a){return"current_user"}},function(a){c({options:a,url:"friendships/update",params:[twttr.merge(a,{user_id:this.id,retweets:"1"})],dataSource:[""]})}),setWantRetweetsOff:b("User",{expire:!0,triggers:"doesnt_want_retweets",triggerTarget:function(a){return"current_user"}},function(a){c({options:a,url:"friendships/update",params:[twttr.merge(a,{user_id:this.id,retweets:"0"})],dataSource:[""]})})}),a});a(e)})});provide("bluejs/mixins/phoenix/current_user",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.filterOptions,e=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.CurrentUser",function(a){return a.methods({followingFollowersOf:b(["User"],function(a,b){var d={cursor:-1};twttr.is.string(a)?d.screen_name=a:d.user_id=a,c({options:b,url:"users/following_followers_of",params:[twttr.merge(d,b)],dataSource:["","users"]})}),followsInCommonWith:b(["User"],function(a,b){var d={cursor:-1};twttr.is.string(a)?d.screen_name=a:d.user_id=a,c({options:b,url:"users/follows_in_common_with",params:[twttr.merge(d,b)],dataSource:["","users"]})}),updateDiscoverability:b(undefined,function(a,b){c({options:b,url:"users/update_discoverability",params:[twttr.merge(a,{id:this.id})],dataSource:[""]})}),viewPossiblySensitive:b(undefined,function(a){c({options:a,url:"account/view_possibly_sensitive",params:[{}],dataSource:["","view_possibly_sensitive"]})}),updateViewPossiblySensitive:b(undefined,function(a,b){c({options:b,url:"account/update_view_possibly_sensitive",params:[{do_show:a}],dataSource:["","view_possibly_sensitive"]})}),personalizationSettings:b(undefined,function(a){c({options:a,url:"account/personalization_settings",params:[{}],dataSource:[""]})}),updatePersonalizationSettings:b(undefined,function(a,b){c({options:b,url:"account/update_personalization_settings",params:[{use_cookie_personalization:a.use_cookie_personalization,cookie_personalization_prompt_displayed:a.cookie_personalization_prompt_displayed}],dataSource:[""]})}),hasDismissedGeoPromo:b(undefined,function(a){c({options:a,url:"account/has_dismissed_geo_promo",params:[{}],dataSource:["","has_dismissed_geo_promo"]})}),updateHasDismissedGeoPromo:b(undefined,function(a,b){c({options:b,url:"account/update_has_dismissed_geo_promo",params:[{has_dismissed_geo_promo:a}],dataSource:["","has_dismissed_geo_promo"]})}),emailStatus:b(undefined,function(a){c({options:a,url:"account/email_status",params:[{}],dataSource:["","email_status"]})}),emailBounceReset:b(undefined,function(a){c({options:a,url:"bouncers/reset",params:[{}],dataSource:[""]})}),emailResendConfirmation:b(undefined,function(a){c({options:a,url:"account/resend_confirmation_email",params:[{}],dataSource:[""]})}),geoLocation:b(undefined,function(a){c({options:a,url:"account/geo_location",params:[a],dataSource:[""]})})}),twttr.augmentObject(a.prototype.friends,{accept:b("User",{triggers:"acceptFollow",triggeredBy:"User"},function(a,b){c({options:b,url:"friendships/accept",params:[{user_id:a}],dataSource:[""]})}),acceptAll:b("User",function(a){c({options:a,url:"friendships/accept_all",params:[{}],dataSource:["","user"]})}),deny:b("User",function(a,b){c({options:b,url:"friendships/deny",params:[{user_id:a}],dataSource:[""]})}),denyAll:b("User",function(a){c({options:a,url:"friendships/deny_all",params:[{}],dataSource:["","user"]})}),cancel:b("User",{triggers:"cancel_request",triggeredBy:"User"},function(a,b){c({options:b,url:"friendships/cancel",params:[{user_id:a}],dataSource:["","user"]})}),followAll:b(undefined,function(a,b){b=b||{};var d=this,e=[],f=[],g=b.stringifiedIds;for(var i=0,j=a.length;i<j;++i)twttr.is.string(a[i])&&!g?e.push(a[i]):f.push(a[i]);twttr.API.User.findAll(a,{stringifiedIds:g,success:function(a){var g=b.success;b.success=function(_,b){var c={};for(var e=0;e<b.length;++e){var f=b[e];c[f.id]=f}a.each(function(a){var b=c[a.id],d={requestParameters:[{user_id:a.id}]};if(b.is_blocking)return;b.is_protected_follow_request?(twttr.API.User.trigger("follow_request_before",d),twttr.API.User.trigger("follow_request_success",a)):(twttr.API.User.trigger("follow_before",d),twttr.API.User.trigger("follow_success",a))}),g&&g.apply(d,arguments)},c({options:b,url:"friendships/create_all",params:[{user_id:f.join(","),screen_name:e.join(",")}],dataSource:["","bulk_follow_results"]})}})})}),a});a(e)})});provide("bluejs/mixins/phoenix/status",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.Status",function(a){return a.belongsTo("Status","retweetingStatus"),a.extend(function(){this.isPromoted()&&twttr.anywhere.api.util.PromotedStore.putStatus(this)}),a.statics({search:b(["Status"],function(a,b){b.near&&(b.near=encodeURIComponent(b.near)),b.within&&(b.within=encodeURIComponent(b.within)),d({options:b,url:"search",params:[twttr.merge({q:a},b)],dataSource:["","statuses"]})}),related:b(["RelatedTweets"],function(a,b){var c=$.extend({},b);d({options:b,url:"related_results/show/:id",params:[a,c],dataSource:[""]})})}),a.methods({related:c(["RelatedTweets"],function(a){return twttr.anywhere.api.models.Status.related(this,a)}),isPromoted:function(){return!!this.impressionId},logImpressionIfPromoted:function(){this.isPromoted()&&!this.loggedImpression&&(twttr.API.util.PromotedContent.logImpression(this.impressionId),this.loggedImpression=!0)}}),a});a(f)})});provide("bluejs/mixins/phoenix/rate_user_recommendation",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.klass.mixin("twttr.anywhere.api.mixins.phoenix.RateUserRecommendation",function(a){return a.extend(function(){!this.user.promotedContent||twttr.anywhere.api.util.PromotedStore.putUser(this.user)}),a.statics({rate:b(undefined,function(a){c({options:a,url:"users/send_recommendation_rating",params:[a],dataSource:[""]})})}),a});a(d)})});provide("bluejs/models/base",function(a){using(function(){var b=0,c=twttr.klass("twttr.anywhere.api.models.Base",function(a){if(!a)return null;if(a.constructor.uber&&a.constructor.uber.constructor==twttr.anywhere.api.models.Base)return a;this.attributes={};var c=this.constructor._registry;for(var d in a){this.data(d,a[d]);if(d.indexOf("_")!==0){var e=twttr.anywhere.api.util.camelize(d);if(!this[e]){var f=null,g=!1;if(c&&c[e]){var i=c[e];twttr.is.array(i)?(i=i[0],twttr.is.fn(i)&&(i=i(a))):twttr.is.fn(i)&&(i=i(a)),i&&(f=twttr.anywhere.api.models[i],g=twttr.is.array(c[e]))}g?this[e]=twttr.anywhere.api.util.buildCollection(f,this.data(d)):f?this[e]=new f(this.data(d)):this[e]=this.data(d)}}}if(this.constructor._extensionMethods){var j={};for(var k in this)j[k]=!0;for(var l=0,m=this.constructor._extensionMethods.length;l<m;++l){var n=this.constructor._extensionMethods[l];n.call(this,this)}for(var k in this)if(!twttr.is.def(j[k])){var o=this[k]&&this[k].data&&twttr.is.fn(this[k].data);this.data(twttr.anywhere.api.util.underscore(k),o?this[k].data():this[k])}}this._objectId=++b}).methods({sync:function(a,b){var c=twttr.anywhere.api.util.underscore(a),d=twttr.anywhere.api.util.camelize(a);return b instanceof twttr.anywhere.api.models.Base?this.attributes[c]=b.attributes:this.data(c,b),this[d]=b,this.constructor.isCacheable&&this.constructor.isCacheable()&&this.cache(),b},data:function(a,b){if(typeof a=="string"&&typeof b!="undefined")return this.attributes[a]=b,b;if(typeof a=="object"&&typeof b=="undefined")return twttr.merge(this.attributes,a);if(typeof a=="string"&&typeof b=="undefined")return this.attributes[a];if(typeof a=="undefined"&&typeof b=="undefined")return this.attributes},clone:function(a){var b=$.extend({},this);b.attributes=$.extend({},this.attributes);if(a)for(var c in a)b.sync(c,a[c]);return b}});a(c)})});provide("bluejs/models/user",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.util.noop,g=twttr.anywhere.api.util.defaultTrigger,i=twttr.anywhere.api.models.Base,j=twttr.anywhere.api.util.model("twttr.anywhere.api.models.User",function(a){function b(a,b){return a.length!=0&&b.length/a.length>.3}a.name=twttr.anywhere.api.util.sanitize(a.name);if(a.name&&twttr.isRTL){var c=a.name.match(twttr.constants.regexps.rtlChar);if(!c||!b(a.name,c))a.name="‪"+a.name+"‬"}a.description=twttr.anywhere.api.util.sanitize(a.description),window.location.protocol==="https:"&&twttr.cdnBase&&(a.profile_image_url&&a.profile_image_url.indexOf("http:")===0&&(a.profile_image_url=twttr.assets.getPathFromAbsoluteURL(a.profile_image_url,{isSSL:!0,isVersioned:!1})),a.profile_background_image_url&&a.profile_background_image_url.indexOf("http:")===0&&(a.profile_background_image_url=twttr.assets.getPathFromAbsoluteURL(a.profile_background_image_url,{isSSL:!0,isVersioned:!1}))),twttr.anywhere.api.models.Base.call(this,a);var d=this;this.lists=function(){return twttr.anywhere.api.models.User.prototype.lists.apply(d,arguments)},this.lists.find=function(){return twttr.anywhere.api.models.User.prototype.lists.find.apply(d,arguments)}}).uniqueKey("screenName").cache({keys:[{name:"id",type:"number"},{name:"screenName",type:"string"}]}).hasOne("Status").statics({find:b("User",{cacheLookup:function(a,b){var c=this._cache.get(a);return c?c:!1}},function(a,b){var c;twttr.is.string(a)?c={screen_name:a}:c={user_id:a},d({options:b,url:"users/show",params:[c],dataSource:["user"]})}),findAll:b(["User"],{cacheLookup:function(a,b){if(b.reload)return delete b.reload,!1;var c=this._cache.getMulti(a),d=c.hits;return c.misses.length?d.isEmpty()?!1:{partialHit:!0,curry:d,args:[c.misses,b]}:d}},function(a,b){var c=[],e=[],f=b&&b.stringifiedIds;for(var g=0,i=a.length;g<i;++g)twttr.is.string(a[g])&&!f?c.push(a[g]):e.push(a[g]);d({options:b,url:"users/lookup",params:[{user_id:e.join(","),screen_name:c.join(",")}],dataSource:["users"]})}),findAllCached:function(a){var b=this._cache.getMulti(a);return b.hits},current:b("CurrentUser",function(a){d({options:a,url:"account/verify_credentials",params:[],dataSource:["user"]})}),typeaheadSocial:b(undefined,function(a,b){d({options:b,url:"users/typeahead_social",params:[twttr.merge(b,{prefetch:!0})],dataSource:["","users"]})}),typeaheadGlobal:b(undefined,function(a,b){d({options:b,url:"users/typeahead_global",params:[twttr.merge(b,{q:a})],dataSource:["users"]})}),search:b(["User"],function(a,b){d({options:b,url:"users/search",params:[twttr.merge(b,{q:a})],dataSource:["users"]})}),recommendedUsers:b(["UserRecommendation"],function(a){twttr.abdecider.choose("wtf_test_ranker_141"),d({options:a,url:"users/recommendations",params:[a],dataSource:[""]})}),recommendedUsers2:b(["UserRecommendation"],function(a){twttr.abdecider.choose("wtf_test_ranker_141"),d({options:a,url:"users/recommendations",params:[twttr.merge({expanded_results_format:1},a)],dataSource:["","users"]})})}).methods({bind:twttr.anywhere.api.util.bindMethod,favorites:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"favorites/:id",params:[this.id,a],dataSource:["statuses"]})}),timeline:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"statuses/user_timeline",params:[twttr.merge(a,{user_id:this.id})],dataSource:["statuses"]})}),profileTimeline:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"statuses/profile_timeline",params:[twttr.merge(a,{user_id:this.id})],dataSource:["statuses"]})}),media:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"statuses/media_timeline",params:[twttr.merge(a,{user_id:this.id})],dataSource:["statuses"]})}),followingTweets:b(["Status"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"statuses/following_timeline",params:[twttr.merge(a,{user_id:this.id})],dataSource:["statuses"]})}),followers:b(["User"],function(a){d({options:a,url:"statuses/followers",params:[twttr.merge({cursor:-1},a,{user_id:this.id})],dataSource:["","users"]})}),friends:b(["User"],function(a){d({options:a,url:"statuses/friends",params:[twttr.merge({cursor:-1},a,{user_id:this.id})],dataSource:["","users"]})}),activity:b(["Activity"],function(a){d({options:a,url:"activity/activity_by_user",params:[twttr.merge(a,{user_id:this.id})],dataSource:[""]})}),friendIds:b(undefined,function(a){d({options:a,url:"friends/ids",params:[twttr.merge({cursor:-1},a,{user_id:this.id})],dataSource:["","ids"]})}),followerIds:b(undefined,function(a){d({options:a,url:"followers/ids",params:[twttr.merge({cursor:-1},a,{user_id:this.id})],dataSource:["","ids"]})}),_isFollowing:function(a,b,c){twttr.anywhere.api.util.makeRemoteRequest("friendships/exists",[{user_a:a,user_b:b}],{success:c.success,error:c.error})},isFollowing:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a);this._isFollowing(this.id,c,b)},isFriend:function(a,b){this.isFollowing(a,b)},isFollowedBy:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a);this._isFollowing(c,this.id,b)},isMutual:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a),d=b.success;return b.success=function(a){d(a.following&&a.followedBy)},this.relationshipWith(a,b)},relationshipWith:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=this,d=twttr.anywhere.api.models.User.identify(a),e={source_id:this.id};twttr.is.string(d)?e.target_screen_name=d:e.target_id=d,twttr.anywhere.api.util.makeRemoteRequest("friendships/show",[e],{success:function(a){var d={following:a.relationship.source.following,followedBy:a.relationship.source.followed_by};c instanceof twttr.anywhere.api.models.CurrentUser&&(d.notifications=a.relationship.source.notifications_enabled,d.blocking=a.relationship.source.blocking,d.wantRetweets=a.relationship.source.want_retweets,d.canDM=a.relationship.source.can_dm),b.success(d)},error:b.error})},block:b("User",{expire:!0,triggers:"block",triggerTarget:g},function(a){d({options:a,url:"blocks/create",params:[twttr.merge(a,{user_id:this.id})],dataSource:["user"]})}),unblock:b("User",{expire:!0,triggers:"unblock",triggerTarget:g},function(a){d({options:a,url:"blocks/destroy",params:[twttr.merge(a,{user_id:this.id})],dataSource:["user"]})}),similarUsers:b(["UserRecommendation"],function(a){d({options:a,url:"users/recommendations",params:[twttr.merge(a,{user_id:this.id})],dataSource:[""]})}),directMessage:c("DirectMessage",function(a,b){return twttr.anywhere.api.models.DirectMessage.send(this.id,a,b)}),dm:c("DirectMessage",function(a,b){return this.directMessage(a,b)}),follow:b("User",{expire:!0,writes:{followRequestSent:function(a){return a["protected"]?!0:!1},following:function(a){return a["protected"]?!1:!0}},triggers:function(a){return a["protected"]&&!a.following?"follow_request":"follow"},triggerTarget:g},function(a){d({options:a,url:"friendships/create",params:[$.extend({user_id:this.id},a)],dataSource:["user"]})}),unfollow:b("User",{expire:!0,writes:{followRequestSent:!1,following:!1},triggers:"unfollow",triggerTarget:g},function(a){var b=this["protected"]&&this.followRequestSent?"friendships/cancel":"friendships/destroy";d({options:a,url:b,params:[$.extend({user_id:this.id},a)],dataSource:["user"]})}),report:b("User",{expire:!0,triggers:"report",triggerTarget:g},function(a){d({options:a,url:"report_spam",params:[twttr.merge(a,{user_id:this.id})],dataSource:["user"]})}),setNotificationsOn:b("User",{expire:!0,writes:{notifications:!0},triggers:"subscribe",triggerTarget:g},function(a){d({options:a,url:"friendships/update",params:[{user_id:this.id,device:"1"}],dataSource:["user"]})}),setNotificationsOff:b("User",{expire:!0,writes:{notifications:!1},triggers:"unsubscribe",triggerTarget:g},function(a){d({options:a,url:"friendships/update",params:[{user_id:this.id,device:"0"}],dataSource:["user"]})}),lists:b(["List"],function(a){d({options:a,url:":user/lists",params:[this.id,a],dataSource:["lists_list","lists"]})}),allLists:b(["List"],function(a){a.user_id=this.id,a.reverse=!0,d({options:a,url:"lists/all",params:[a],dataSource:["lists_list"]})}),memberships:b(["List"],function(a){d({options:a,url:":user/lists/memberships",params:[this.id,a],dataSource:["lists_list","lists"]})}),subscriptions:b(["List"],function(a){d({options:a,url:":user/lists/subscriptions",params:[this.id,a],dataSource:["lists_list","lists"]})}),contributors:b(["User"],function(a){d({options:a,url:"users/contributors",params:[{id:this.id}],dataSource:[""]})})}).mixin(twttr.anywhere.api.mixins.phoenix.User);twttr.klass("twttr.anywhere.api.models.CurrentUser",function(a){twttr.anywhere.api.models.User.call(this,a);var b=this;this.lists.create=function(){return b.constructor.prototype.lists.create.apply(b,arguments)}}).subclassOf(twttr.anywhere.api.models.User).statics({_eventing:twttr.aug({},twttr.EventProvider)}).methods({recommendedUsers:c(["UserRecommendation"],function(a){return twttr.anywhere.api.models.User.recommendedUsers(a)}),recommendedUsers2:c(["UserRecommendation"],function(a){return twttr.anywhere.api.models.User.recommendedUsers2(a)}),inboundActivity:b(["Activity"],function(a){d({options:a,url:"activity/activity_of_me",params:[a],dataSource:[""]})}),networkActivity:b(["Activity"],function(a){d({options:a,url:"activity/activity_by_people_i_follow",params:[a],dataSource:[""]})}),directMessages:b(["DirectMessage"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"direct_messages",params:[a],dataSource:["direct_messages"]})}),dms:c(["DirectMessage"],function(a){return this.directMessages(a)}),conversations:b(["Conversation"],function(a){d({options:a,url:"direct_messages/conversations",params:[a],dataSource:[""]})}),conversationWith:b(["DirectMessage"],function(a){d({options:a,url:"direct_messages/conversation_with",params:[a],dataSource:[""]})}),_isFollowing:function(a,b,c){twttr.anywhere.api.util.makeRemoteRequest("friendships/exists",[{user_a:a,user_b:b}],{success:c.success,error:c.error})},isFollowing:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a);this.constructor.isCacheable()&&!(a instanceof twttr.anywhere.api.models.User)&&(a=this.constructor._cache.get(c));if(a instanceof twttr.anywhere.api.models.User){b.success(a.following);return}this._isFollowing(this.id,c,b)},receivedMessages:c(["DirectMessage"],function(a){return this.directMessages(a)}),sentMessages:b(["DirectMessage"],function(a){twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"direct_messages/sent",params:[a],dataSource:["direct_messages"]})}),homeTimeline:b(["Status"],function(a){var b="statuses/home_timeline";twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),a.withoutRetweets&&(b="statuses/friends_timeline"),d({options:a,url:b,params:[a],dataSource:["statuses"]})}),mentions:b(["Status"],function(a){d({options:a,url:"statuses/mentions",params:[a],dataSource:["statuses"]})}),_retweets:b(["Status"],function(a,b){d({options:b,url:a,params:[b],dataSource:["statuses"]})}),trendLocation:b(["Location"],function(a){d({options:a,url:"account/settings",params:[],dataSource:["","trend_location"]})}),setTrendLocation:b(["Location"],{triggers:"changedLocation"},function(a,b){d({options:b,url:"account/settings/create",params:[{trend_location_woeid:a}],dataSource:["","trend_location"]})}),setGeoEnabled:function(a,b){var c=this,e=b.success;b.success=function(){c.sync("geoEnabled",a),e&&e.apply(c,arguments)},d({options:b,url:"account/settings/create",params:[{geo_enabled:a}],dataSource:["","geo_enabled"]})},setLanguage:b(["Language"],function(a,b){d({options:b,url:"account/settings/create",params:[{lang:a}],dataSource:[]})}),retweeting:c(["Status"],function(a){return this._retweets("statuses/retweeted_by_me",a)}),retweets:c(["Status"],function(a){return this._retweets("statuses/retweeted_to_me",a)}),retweeted:c(["Status"],function(a){return this._retweets("statuses/retweets_of_me",a)}),blocks:b(["User"],function(a){d({options:a,url:"blocks/blocking",params:[a],dataSource:["users"]})}),lists:c(["List"],function(a){return this.constructor.uber.lists.call(this,a)}),friends:c(["User"],function(a){return this.constructor.uber.friends.call(this,a)}),isBlocking:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=twttr.anywhere.api.models.User.identify(a);twttr.anywhere.api.util.makeRemoteRequest("blocks/exists",[{user_id:c}],{success:function(a){b.success(a.user?!0:!1)},error:function(a){a.status==404?b.success(!1):b.error(a)}})},update:b("User",{expire:!0,triggers:"update",triggeredBy:"User"},function(a){d({options:a,url:"account/update_profile",params:[a],dataSource:["user"]})}),profileImage:b(undefined,function(a,b){d({options:b,url:"users/profile_image/:screen_name",params:[a,twttr.merge({redirect:!1},b)],dataSource:[""]})}),savedSearches:b(["SavedSearch"],function(a){d({options:a,url:"saved_searches",params:[],dataSource:["saved_searches"]})}),searches:c(["SavedSearch"],function(a){return this.savedSearches(a)}),logout:function(a){parent.twttr.anywhere.signOut()}}),twttr.augmentObject(twttr.anywhere.api.models.User.prototype.lists,{find:b("List",{cacheLookup:function(a,b){var c=twttr.API.List._cache.get(a);return c?c:!1}},function(a,b){b=twttr.anywhere.api.util.optify(b),twttr.is.string(a)?b.slug=a:b.list_id=a,d({options:b,url:"lists/show",params:[twttr.merge({owner_id:this.id},b)],dataSource:["list"]})})}),twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.lists,{create:b("List",{triggers:"create",triggeredBy:"List"},function(a,b){d({options:b,url:":user/lists/create",params:[this.id,twttr.merge(b,{name:a,send_error_codes:!0})],dataSource:["list"]})})}),twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.savedSearches,{find:b("SavedSearch",function(a,b){d({options:b,url:"saved_searches/show/:id",params:[a,b],dataSource:["saved_search"]})}),create:b("SavedSearch",{triggers:"create",triggeredBy:"SavedSearch"},function(a,b){d({options:b,url:"saved_searches/create",params:[{query:a}],dataSource:["saved_search"]})})}),twttr.augmentObject(twttr.anywhere.api.models.CurrentUser.prototype.friends,{pending:b(undefined,function(a){var b=e(["cursor"],a);d({options:a,url:"friendships/incoming",params:[b],dataSource:["","ids"]})})}),twttr.anywhere.api.models.CurrentUser.prototype._name=function(){return"current_user"},twttr.anywhere.api.models.CurrentUser.identify=twttr.anywhere.api.models.User.identify,twttr.anywhere.api.models.CurrentUser._registry=twttr.anywhere.api.models.User._registry,twttr.anywhere.api.models.CurrentUser._extensionMethods=twttr.anywhere.api.models.User._extensionMethods,twttr.anywhere.api.models.CurrentUser.isCacheable=twttr.anywhere.api.models.User.isCacheable,twttr.anywhere.api.models.CurrentUser.isCacheable()&&(twttr.anywhere.api.models.CurrentUser._cache=twttr.anywhere.api.models.User._cache);var k=["trigger","bind","_bind","unbind","_unbind","one","_bindWrapper"];for(var l=0,m=k.length;l<m;++l)twttr.anywhere.api.models.CurrentUser[k[l]]=twttr.anywhere.api.models.User[k[l]];var n=["block","unblock","report","follow","unfollow","setNotificationsOn","setNotificationsOff"];for(var l=0,m=n.length;l<m;++l)twttr.anywhere.api.models.CurrentUser.prototype[n[l]]=f;twttr.anywhere.api.models.CurrentUser.mixin(twttr.anywhere.api.mixins.phoenix.CurrentUser),a(j)})});provide("bluejs/models/direct_message",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.DirectMessage",function(a){a&&twttr.anywhere.api.util.useStringIdentifier(a,"id"),this.constructor.uberclass.call(this,a)}).belongsTo("User","sender").belongsTo("User","recipient").statics({send:b("DirectMessage",{triggers:"send",triggerSource:e,triggerTarget:function(a){return a.recipient}},function(a,b,c){d({options:c,url:"direct_messages/new",params:[{user:twttr.anywhere.api.models.User.identify(a),text:b}],dataSource:["direct_message"]})})}).methods({destroy:b("DirectMessage",{triggers:"delete",triggerTarget:e},function(a){d({options:a,url:"direct_messages/destroy",params:[{id:this.id}],dataSource:["direct_message"]})})});a(f)})});provide("bluejs/models/saved_search",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SavedSearch").methods({destroy:b("SavedSearch",{triggers:"delete",triggerTarget:e},function(a){d({options:a,url:"saved_searches/destroy/:id",params:[this.id,a],dataSource:["saved_search"]})}),results:b(["SearchResult"],function(a){a.q=this.query,d({options:a,url:"search",params:[a],dataSource:["","results"]})})});a(f)})});provide("bluejs/models/list",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.util.defaultTrigger,g=twttr.anywhere.api.util.model("twttr.anywhere.api.models.List").cache({keys:[{name:"id",type:"number"}],shouldCacheAssociated:!1}).belongsTo("User").methods({subscribe:b("List",{expire:!0,triggers:"follow",triggerTarget:f,writes:{subscriberCount:function(){return this.subscriberCount+1}}},function(a){d({options:a,url:":user/:list_id/subscribers/create",params:[this.user.id,this.id,{}],dataSource:["list"]})}),follow:c("List",function(a){return this.subscribe(a)}),unsubscribe:b("List",{expire:!0,triggers:"unfollow",triggerTarget:f,writes:{subscriberCount:function(){return this.subscriberCount-1}}},function(a){d({options:a,url:":user/:id/subscribers/destroy",params:[this.user.id,this.id,{}],dataSource:["list"]})}),unfollow:c("List",function(a){return this.unsubscribe(a)}),add:b("List",{expire:!0,triggers:"add",triggerTarget:f,writes:{memberCount:function(){return this.memberCount}}},function(a,b){d({options:b,url:"lists/members/create",params:[{list_id:this.id,user_id:a.id}],dataSource:["list"]})}),remove:b("List",{expire:!0,triggers:"remove",triggerTarget:f,writes:{memberCount:function(){return this.memberCount-1}}},function(a,b){d({options:b,url:"lists/members/destroy",params:[{list_id:this.id,user_id:a.id}],dataSource:["list"]})}),owner:function(){return this.user},isMember:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=b.error;b.error=function(a){a.status===404&&a.reason.match("not a member")?b.success(!1):c&&c(a)};var e=b.success;b.success=function(a){a.screenName?e(!0):e(!1)},d({options:b,url:":user/:list_id/members/:id",params:[this.user.id,this.id,twttr.anywhere.api.models.User.identify(a),{}],cast:twttr.anywhere.api.models.User,dataSource:["user"]})},isSubscriber:function(a,b){b=twttr.anywhere.api.util.optify(b);var c=b.error;b.error=function(a){a.status===404&&a.reason.match("not a subscriber")?b.success(!1):c&&c(a)};var e=b.success;b.success=function(a){a.screenName?e(!0):e(!1)},d({options:b,url:":user/:list_id/subscribers/:id",params:[this.user.id,this.id,twttr.anywhere.api.models.User.identify(a),{}],cast:twttr.anywhere.api.models.User,dataSource:["user"]})},destroy:b("List",{expire:!0,cache:!1,triggers:"delete",triggerTarget:f},function(a){d({options:a,url:"lists/destroy",params:[{list_id:this.id}],dataSource:["list"]})}),update:b("List",{expire:!0,triggers:"update",triggerTarget:f},function(a){a=twttr.anywhere.api.util.optify(a);var b=e(["name","description","mode"],a);d({options:a,url:"lists/update",params:[twttr.merge({list_id:this.id,send_error_codes:!0},b)],dataSource:["list"]})}),statuses:b(["Status"],function(a){a=twttr.anywhere.api.util.optify(a),twttr.is.def(a.include_entities)||(a.include_entities=twttr.anywhere.api.config.includeEntities),d({options:a,url:"lists/statuses",params:[twttr.merge({list_id:this.id},a)],dataSource:["statuses"]})}),subscribers:b(["User"],function(a){d({options:a,url:":user/:list_id/subscribers",params:[this.user.id,this.id,a],dataSource:["users_list","users"]})}),followers:c(["User"],function(a){return this.subscribers(a)}),members:b(["User"],function(a){d({options:a,url:":user/:list_id/members",params:[this.user.id,this.id,a],dataSource:["users_list","users"]})}),following:c(["User"],function(a){return this.members(a)})});a(g)})});provide("bluejs/models/location",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.cache,g=twttr.anywhere.api.util.noop,i=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Location").uniqueKey("woeid").statics({trends:b(["Trend"],function(a,b){var c=this.identify(a);d({options:b,url:"trends/:woeid",params:[c,b],dataSource:["",0,"trends"]})})}).methods({trends:c(["Trend"],function(a){return this.constructor.trends(this.woeid,a)})});a(i)})});provide("bluejs/models/trend",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.cache,g=twttr.anywhere.api.util.noop,i=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Trend").uniqueKey("query").statics({locations:b(["Location"],function(a){var b=e(["lat","long","lang"],a);d({options:a,url:"trends/available",params:[b],dataSource:[""]})}),current:b(["Trend"],function(a){d({options:a,url:"trends/current",params:[a],dataSource:["","trends","current_trends"]})})});a(i)})});provide("bluejs/models/status",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.filterOptions,g=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Status",function(a){a&&(a=twttr.anywhere.api.util.normalizePromotedTweet(a),twttr.anywhere.api.util.useStringIdentifier(a,"id"),twttr.anywhere.api.util.useStringIdentifier(a,"in_reply_to_status_id"),twttr.anywhere.api.util.useStringIdentifier(a.current_user_retweet,"id"),a.text=twttr.anywhere.api.util.sanitize(a.text)),this.constructor.uberclass.call(this,a)}).cache({keys:[{name:"id",type:"string"}],cacheAssociated:!0}).belongsTo("User").belongsTo("Status","retweetedStatus").hasOne("Place").extend(function(){this.isRetweet=!!this.retweetedStatus}).statics({find:b("Status",{cacheLookup:function(a,b){var c=this._cache.get(a);return c?c:!1}},function(a,b){var c=f(["trim_user","include_entities","contributor_details"],b);twttr.is.def(c.include_entities)||(c.include_entities=twttr.anywhere.api.config.includeEntities),twttr.is.def(c.contributor_details)||(c.contributor_details=!0),twttr.is.def(c.include_entities)||(c.include_entities=1),d({options:b,url:"statuses/show",params:[twttr.merge(c,{id:a})],dataSource:["status"]})}),unretweet:b("Status",{expire:!0,cache:!1,triggers:"unretweet",triggerTarget:function(a){return"current_user"}},function(a,b){var c=this.identify(a),e=b.success;b.success=function(a){a.expire(),e.apply(a,arguments)},d({options:b,url:"statuses/destroy",params:[{id:c}],dataSource:["status"]})}),update:b("Status",{triggers:"update",triggerTarget:e},function(a,b){b.include_entities=!0,b.status=a,d({options:b,url:"statuses/update",params:[b],dataSource:["status"]})}),updateWithMedia:b("Status",{triggers:"update_with_media",triggerTarget:e},function(a,b){b.include_entities=!0,b.status=a,d({options:b,url:"statuses/update_with_media",params:[b],dataSource:["status"]})}),publicTimeline:b(["Status"],function(a){d({options:a,url:"statuses/public_timeline",params:[],dataSource:["statuses"]})}),networkTimeline:b(["Status"],function(a){d({options:a,url:"statuses/network_timeline",params:[a],dataSource:["statuses"]})}),promotedHomeTimeline:b(["Status"],function(a){d({options:a,url:"promoted_content/home_timeline",params:[],dataSource:["","promoted_tweets"]})}),retweet:b("Status",{triggers:"retweet",triggerSource:function(a){return a instanceof twttr.anywhere.api.models.Base?a:"status_"+a},triggerTarget:function(a){return"current_user"}},function(a,b){var c=this.identify(a);d({options:b,url:"statuses/retweet/:id",params:[c,b],dataSource:["status"]})}),favorite:b("Status",{triggers:"favorite",triggerSource:function(a){return a instanceof twttr.anywhere.api.models.Base?a:"status_"+a},triggerTarget:function(a){return"current_user"}},function(a,b){var c=this.identify(a);d({options:b,url:"favorites/create/:id",params:[c,b],dataSource:["status"]})}),unfavorite:b("Status",{triggers:"unfavorite",triggerSource:function(a){return a instanceof twttr.anywhere.api.models.Base?a:"status_"+a},triggerTarget:function(a){return"current_user"}},function(a,b){var c=this.identify(a);d({options:b,url:"favorites/destroy/:id",params:[c,b],dataSource:["status"]})}),reply:c("Status",function(a,b,c){var d=this.identify(a);return c=twttr.merge(twttr.anywhere.api.util.optify(c),{in_reply_to_status_id:d}),this.update(b,c)}),search:b(["SearchResult"],function(a,b){d({options:b,url:"search",params:[twttr.merge({q:a},b)],dataSource:["","results"]})})}).methods(twttr.anywhere.api.mixins.StatusActions).methods({bind:twttr.anywhere.api.util.bindMethod,activity:b(["Activity"],function(a){d({options:a,url:"statuses/:id/activity",params:[this.id],dataSource:[""]})}),summary:b(undefined,function(a){d({options:a,url:"statuses/:id/activity/summary",params:[this.id],dataSource:[""]})}),destroy:b("Status",{expire:!0,cache:!1,triggers:"delete",triggerTarget:function(a){return"current_user"}},function(a){var b=this,c=a.success;a.success=function(){b.expire(),c.apply(b,arguments)},d({options:a,url:"statuses/destroy",params:[{id:this.id}],dataSource:["status"]})}),retweets:b(["Status"],function(a){d({options:a,url:"statuses/retweets/:id",params:[this.id,a],dataSource:["status"]})}),retweeters:b(["User"],function(a){d({options:a,url:"statuses/:id/retweeted_by",params:[this.id,a],dataSource:["users"]})}),contributor:c(["User"],function(a){var b=this.data("contributors");if(b&&twttr.is.array(b)&&b.length===1)return twttr.anywhere.api.models.User.find(this.data("contributors")[0],a);a.success(null)}),inReplyToUser:c("User",function(a){a=twttr.anywhere.api.util.optify(a);if(this.inReplyToUserId)return twttr.anywhere.api.models.User.find(this.inReplyToUserId,a);a.success(null)}),inReplyTo:c("Status",function(a){a=twttr.anywhere.api.util.optify(a);if(this.inReplyToStatusId)return twttr.anywhere.api.models.Status.find(this.inReplyToStatusId,a);a.success(null)}),flag:b(undefined,function(a){var b,c={id:this.id};a.isOurTweet?(b="statuses/update_possibly_sensitive",c.possibly_sensitive=typeof a.possibly_sensitive=="undefined"||a.possibly_sensitive):b="statuses/flag_possibly_sensitive",d({options:a,url:b,params:[c],dataSource:["status"]})}),oembed:b(undefined,function(a){var b={url:"http://twitter.com/"+this.user.status_name+"/statuses/"+this.id,lang:a.lang,target:a.target,align:a.align};d({options:a,url:"statuses/oembed",params:[b],dataSource:["status"]})})}).mixin(twttr.anywhere.api.mixins.phoenix.Status);a(g)})});provide("bluejs/models/promptbird",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=null,e=function(a,b){a=a||{},c({options:b,url:"users/get_prompt",params:[a],dataSource:[""]})},f=b(d,e),g=function(a,b){a=a||{},c({options:b,url:"users/dismiss_prompt",params:[a],dataSource:[""]})},i=b(d,g),j=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Promptbird").statics({getPrompt:f,dismissPrompt:i});a(j)})});provide("bluejs/models/search_result",function(a){using(function(){var b=twttr.anywhere.api.util.aliasMethod,c=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SearchResult").methods(twttr.anywhere.api.mixins.StatusActions);a(c)})});provide("bluejs/models/place",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.filterOptions,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Place").belongsTo("Place","contained_within").statics({find:b("Place",function(a,b){d({options:b,url:"geo/id/:id",params:[a,b],dataSource:["place"]})}),search:b(["Place"],function(a){var b=["lat","long","lon","query","ip","granularity","accuracy","autocomplete","max_results","contained_within","attribute:street_address","require_activity"],c=e(b,a);d({options:a,url:"geo/search",params:[c],dataSource:["","result","places"]})}),reverseGeocode:b(["Place"],function(a,b,c){var f=["long","accuracy","granularity","max_results"],g=e(f,c);g["long"]&&(b=g["long"],delete g["long"]),d({options:c,url:"geo/reverse_geocode",params:[twttr.merge({},g,{lat:a,lon:b})],dataSource:["","result","places"]})}),create:b("Place",function(a,b,c,f,g,i){var j=["long","attribute:street_address","accuracy"],k=e(j,i);k["long"]&&(c=k["long"],delete k["long"]),d({options:i,url:"geo/place",params:[twttr.merge({},k,{token:a,lat:b,lon:c,name:f,contained_within:g})],dataSource:[""]})}),similar:b(["Place"],function(a,b,c,f){var g=["long","contained_within","attribute:street_address","accuracy"],i=e(g,f);i["long"]&&(b=i["long"],delete i["long"]),d({options:f,url:"geo/similar_places",params:[twttr.merge({},i,{lat:a,lon:b,name:c})],dataSource:["","result","places"]})})});a(f)})});provide("bluejs/models/user_recommendation",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.UserRecommendation").hasOne("User").hasMany("User","connections").statics({hide:b(["UserRecommendation"],function(a,b,d){d.recommended_user_id=a,d.token=b,c({options:d,url:"users/recommendations/hide",params:[d],dataSource:[""]})})}).mixin(twttr.anywhere.api.mixins.phoenix.RateUserRecommendation);a(d)})});provide("bluejs/models/suggestion_category",function(a){using(function(){var b=twttr.anywhere.api.util,c=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SuggestionCategory").hasMany("SuggestionCategory","categories").hasMany("User","users").hasMany("User","sample").statics({getAll:b.chainableMethod(["SuggestionCategory"],function(a){a.localize=!0,b.callMethod({options:a,url:"users/suggestions",params:[a],dataSource:[""]})}),randomSample:b.chainableMethod(["User"],function(a){a.localize=!0,b.callMethod({options:a,url:"users/suggestions/random",params:[a],dataSource:[""]})})}).methods({members:b.chainableMethod(["User"],function(a){a.localize=!0,b.callMethod({options:a,url:"users/suggestions/:slug/members",params:[this.slug,a],dataSource:[""]})})});a(c)})});provide("bluejs/models/related_tweets",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.RelatedTweets").hasMany("RelatedResult","results");a(b)})});provide("bluejs/models/related_result",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.RelatedResult").hasOne("Status","value");a(b)})});provide("bluejs/util/promoted_content",function(a){using("constants").as(function(b,c){var d=twttr.anywhere.api.util.filterOptions,e=c.promotedContent.linkType,f=twttr.klass("twttr.anywhere.api.util.PromotedContent",twttr.anywhere.api.util.noop).statics({loggedImpressions:{},logImpression:function(a){this.loggedImpressions[a]||(this.loggedImpressions[a]=!0,this._logImpressionIdEvent(a,e.DISPLAYED))},logProfileImageClick:function(a){this._logImpressionIdEvent(a,e.PROFILE_PIC)},logScreenNameClick:function(a){this._logImpressionIdEvent(a,e.SCREEN_NAME)},logPermalinkClick:function(a){this._logImpressionIdEvent(a,e.PERMALINK)},logDismissUser:function(a){this._logImpressionIdEvent(a,e.DISMISS_WITHOUT_REASON)},logShowDetails:function(a){this._logImpressionIdEvent(a,e.DETAIL)},logHashtagClick:function(a,b){b=b.replace(/^#/,""),this._logImpressionIdEvent(a,e.HASHTAG,{q:b})},logUserMentionClick:function(a,b){this._logImpressionIdEvent(a,e.USER_NAME,{username:b})},logUrlClick:function(a,b){this._logImpressionIdEvent(a,e.URL,{src:b})},logDismissUninteresting:function(a){this._logImpressionIdEvent(a,e.DISMISS_UNINTERESTING)},logDismissRepetitive:function(a){this._logImpressionIdEvent(a,e.DISMISS_REPETITIVE)},logDismissSpam:function(a){this._logImpressionIdEvent(a,e.DISMISS_SPAM)},logDismissOther:function(a){this._logImpressionIdEvent(a,e.DISMISS_WITHOUT_REASON)},logFooterProfileClick:function(a){this._logImpressionIdEvent(a,e.FOOTER_PROFILE)},logTrendImpression:function(a,b){this._logPromotedTrendIdEvent(a,"i",b)},logTrendClick:function(a,b){this._logPromotedTrendIdEvent(a,"c",b)},feedback:function(a){var b=d(["impression_id","status_id","reason","comments"],a);callMethod({options:a,url:"promoted_content/feedback",params:[b],dataSource:[""]})},_logPromotedTrendIdEvent:function(a,b,c){a&&b&&(c=$.extend({promoted_trend_id:a},c),this._logEvent(b,c))},_logImpressionIdEvent:function(a,b,c){a&&b&&(c=$.extend({impression_id:a},c),this._logEvent(b,c))},_logEvent:function(a,b){var c=twttr.hosts.remote+"/1/promoted_content/"+a+"/log.png?"+$.param(b);(new Image).src=c}});twttr.klass("twttr.anywhere.api.util.PromotedStore",twttr.anywhere.api.util.noop).statics({get:function(a){return this._store()[a]},putStatus:function(a){var b=a.impressionId;this._store()[b]=this._promotedDataForStatus(a)},putUser:function(a){var b=a.promotedContent.impression_id;this._store()[b]=this._promotedDataForUser(a)},getPromotedUserInstance:function(a,b){var c=twttr.anywhere.api.util.protoExtend;a=c(a),a.attributes=c(a.attributes),a.impressionId=b,a.attributes.impression_id=b;var d=this.get(b);return d&&(a.promotedContent=d.promotedContent,a.attributes.promoted_content=d.promotedContent),a},getPromotedStatusInstance:function(a,b){var c=twttr.anywhere.api.util.protoExtend,d=this.get(b);return a=c(a),a.impressionId=d.impressionId,a.experiments=d.experiments,a.attributes=c(a.attributes),a.attributes.impression_id=d.impressionId,a.attributes.experiments=d.experiments,a},_promotedDataForStatus:function(a){return a=$.extend({},a),{impressionId:a.impressionId,experiments:a.experiments}},_promotedDataForUser:function(a){return a=$.extend({},a),{promotedContent:a.promotedContent}},_store:function(){return this.store=this.store||{},this.store}}),a(f)})});provide("bluejs/models/address_book",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.AddressBook").statics({contactsServices:b(undefined,function(a){c({options:a,url:"find_sources/contacts/services",params:[a],dataSource:["","services"]})}),contactsMatches:b(["User"],function(a){c({options:a,url:"find_sources/contacts/matches",params:[a],dataSource:["","users"]})}),contactsOthers:b("",function(a){c({options:a,url:"find_sources/contacts/others",params:[a],dataSource:["","contacts"]})}),followAllContacts:b("",function(a){c({options:a,url:"find_sources/contacts/follow_all",params:[a],dataSource:[""]})}),addContactsToList:b("",function(a,b){c({options:b,url:"find_sources/contacts/add_to_list",params:[{list_id:a}],dataSource:["","user_ids"]})}),sendInvitesByEmail:b(undefined,function(a,b){source=b&&b.source,c({options:b,url:"users/send_invites_by_email",params:[{addresses:a.join(","),source:source}],dataSource:[""]})})});a(d)})});provide("bluejs/models/promo",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Promo").statics({random:b(undefined,function(a,b){c({options:b,url:"promos/random_json_promo",params:[a],dataSource:[""]})})});a(d)})});provide("bluejs/models/urls",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Urls").statics({resolve:b(undefined,function(a,b){c({options:b,url:"urls/resolve",params:[{urls:a}],dataSource:[""]})}),shorten:b(undefined,function(a,b){c({options:b,url:"urls/shorten",params:[{url:a}],dataSource:[""]})}),shortenMultiple:b(undefined,function(a,b){c({options:b,url:"urls/shorten_multiple",params:[{urls:a}],dataSource:[""]})})});a(d)})});provide("bluejs/models/blob",function(a){using(function(){var b=twttr.anywhere.api.util.aliasMethod,c=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Blob").methods({get:function(a){a(this)}});a(c)})});provide("bluejs/models/device",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Device").statics({list:b(null,function(a){c({options:a,url:"devices/list",params:[],dataSource:[""]})}),carriers:b("Blob",function(a){c({options:a,url:"devices/carriers",params:[a],dataSource:["carriers"]})}),create:b(null,function(a,b){c({options:b,url:"devices/create",params:[a],dataSource:[""]})}),destroy:b(null,function(a,b){c({options:b,url:"devices/destroy",params:[{id:a}],dataSource:[""]})})});a(d)})});provide("bluejs/models/download",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Download").statics({apps:b("",function(a,b){c({options:a,url:"download/apps",params:[{lang:b}],dataSource:[""]})}),sendLink:b("",function(a,b,d){c({options:d,url:"download/send_link",params:[{email:a,app_id:b}],dataSource:[""]})})});a(d)})});provide("bluejs/models/search",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Search",function(a){this.constructor.uberclass.call(this,a)}).statics({search:b("SearchStory",function(a,b){d({options:b,url:"i/search",params:[twttr.merge({q:a},b)],dataSource:[""]})}),imageFacets:b(["Status"],function(a,b){twttr.anywhere.api.models.Search._requestFacets("search/image_facets",a,b)}),videoFacets:b(["Status"],function(a,b){twttr.anywhere.api.models.Search._requestFacets("search/video_facets",a,b)}),_requestFacets:function(a,b,c){twttr.is.def(c.include_entities)||(c.include_entities=twttr.anywhere.api.config.includeEntities),d({options:c,url:a,params:[twttr.merge({q:b},c)],dataSource:["statuses"]})}});a(f)})});provide("bluejs/models/conversation",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Conversation",function(a){a&&twttr.anywhere.api.util.useStringIdentifier(a,"id"),this.constructor.uberclass.call(this,a)}).belongsTo("User");a(f)})});provide("bluejs/models/activity",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.aliasMethod,d=twttr.anywhere.api.util.callMethod,e=twttr.anywhere.api.util.defaultTrigger,f=twttr.anywhere.api.util.camelize,g=twttr.anywhere.api.util.BaseCollection,i={favorite:{sources:"User",targets:"Status",target_objects:null},mention:{sources:"User",targets:"User",target_objects:"Status"},reply:{sources:"User",targets:"Status",target_objects:"Status"},retweet:{sources:"User",targets:"Status",target_objects:"Status"},follow:{sources:"User",targets:"User",target_objects:null},list_member_added:{sources:"User",targets:"User",target_objects:"List"},list_created:{sources:"User",targets:"List",target_objects:null}},j=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Activity",function(a){a.event?a.action=a.event:a.action&&(a.event=a.action),twttr.anywhere.api.models.Base.call(this,a);for(var b in i)this.sync("is_"+b,this.event===b);this.sync("timestamp",twttr.helpers.parseDateString(this.createdAt))});j.hasMany(function(a){return i[a.event].sources||null},"sources").hasMany(function(a){return i[a.event].targets||null},"targets").hasMany(function(a){return i[a.event].target_objects||null},"targetObjects").statics({classMap:i}),a(j)})});provide("bluejs/models/topic_story",function(a){using(function(){twttr.anywhere.api.util.model("twttr.anywhere.api.models.TopicStory").methods({getId:function(){return this.attributes.query}}),a()})});provide("bluejs/models/news_article",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.NewsArticle").methods({getId:function(){return this.getExpandedUrl()},getDisplayUrl:function(){return this.url.display_url},getExpandedUrl:function(){return this.url.expanded_url},getImage:function(a){for(var b=0,c=this.media.length;b<c;b++){var d=this.media[b];if(d.type==="photo")return a&&d.media_url_https||d.media_url}return null}});a()})});provide("bluejs/models/news_story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.NewsStory").hasMany("NewsArticle","articles").methods({getId:function(){return this.articles.get(0).getId()}});a()})});provide("bluejs/models/user_story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.UserStory");b.hasMany("User","users"),a(b)})});provide("bluejs/models/tweet_story",function(a){using(function(){twttr.anywhere.api.util.model("twttr.anywhere.api.models.TweetStory").hasOne("Status","status").methods({getId:function(){return this.status.id}}),a()})});provide("bluejs/models/story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Story",function(a){var b={};$.extend(b,a),b.content=a.data,delete b.data,twttr.anywhere.api.models.Base.call(this,b)}).methods({getId:function(){return this.content.getId()}}).hasOne("SocialProof","socialProof").hasOne(function(a){return twttr.util.capitalize(a.type)+"Story"},"content");a(b)})});provide("bluejs/models/search_story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SearchStory");b.hasMany("Story","stories"),a(b)})});provide("bluejs/models/stories",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.Stories");b.hasMany("Story","stories"),a()})});provide("bluejs/models/discovery",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod;twttr.anywhere.api.util.model("twttr.anywhere.api.models.Discovery",function(a){this.constructor.uberclass.call(this,a)}).statics({discovery:b("Stories",function(a){c({options:a,url:"i/discovery",params:[a],dataSource:[""]})})}),a()})});provide("bluejs/models/sports_story",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SportsStory").hasOne(function(a){return twttr.util.capitalize(a.sport)+"SportsEvents"},"events");a()})});provide("bluejs/models/soccer_events",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SoccerSportsEvents").methods({getMatchedEvent:function(){return this.items[this.matchedEventId]},getMatchedEventData:function(){return this.items[this.matchedEventId].event_data},getMatchedTeam:function(a){var b=a?this.getMatchedEventData().home_team:this.getMatchedEventData().away_team;return b.team_logo_url=b.team_logo_url_https&&twttr.isSSL()?b.team_logo_url_https:b.team_logo_url_http,b.team_logo_url||(b.team_logo_url=b.user.profile_image_url_https&&twttr.isSSL()?b.user.profile_image_url_https:b.user.profile_image_url),b},getMatchState:function(){return this.getMatchedEventData().match_state},getOtherMatchState:function(){var a=this,b=jQuery.map(this.items,function(b,c){if(b.event_data.match_state.current_status==="scheduled"||c===a.matchedEventId)return null;var d=decodeURIComponent(b.event_data.match_hashtag);return{event_id:c,home_name:b.event_data.home_team.team_name,away_name:b.event_data.away_team.team_name,score:b.event_data.match_state.score,search_path:twttr.router.searchResultsPath({query:d}),live:b.event_data.match_state.current_status=="inprogress",hashtag:d}});return b}});a()})});provide("bluejs/models/us_political_rep",function(a){using(function(){var b=twttr.anywhere.api.util.chainableMethod,c=twttr.anywhere.api.util.callMethod,d=twttr.anywhere.api.util.model("twttr.anywhere.api.models.UsPoliticalRep").hasOne("User").statics({findByZip:b(["UsPoliticalRep"],function(a,b){c({options:b,url:"government_search/by_zip",params:[twttr.merge(b,{zip:a})],dataSource:[""]})})});a(d)})});provide("bluejs/models/social_proof",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.SocialProof").hasOne("ReferencedBy","referencedBy");a()})});provide("bluejs/models/referenced_by",function(a){using(function(){var b=twttr.anywhere.api.util.model("twttr.anywhere.api.models.ReferencedBy").hasMany("Status","statuses");a()})});provide("extendAPI",function(a){using().as(function(b){twttr.extendAPI=function(){twttr.API.DirectMessage.extend(function(){this.threadId=this.senderScreenName===twttr.currentUser.screenName?this.recipientScreenName:this.senderScreenName});var a=function(a){var c=a.retweetedStatus,d=new twttr.API.Status,e;for(e in a){if(e==="activities")continue;d[e]=a[e],delete a[e]}for(e in c)a[e]=c[e];a.retweetingStatus=d,a.wasRetweeted=!0,twttr.currentUser&&d.user&&d.user.id===twttr.currentUser.id&&c.sync("current_user_retweet",{id:d.id}),delete a.retweetingStatus.retweetedStatus,delete a.retweetingStatus.attributes.retweeted_status,b(a)},b=function(a){a.retweetingStatus.isPromoted()&&(a.attributes.impression_id=a.retweetingStatus.attributes.impression_id,a.attributes.experiments=a.retweetingStatus.attributes.experiments,a.attributes.disclosure_text=a.retweetingStatus.attributes.disclosure_text,a.attributes.disclosure_type=a.retweetingStatus.attributes.disclosure_type,a.impressionId=a.retweetingStatus.impressionId,a.experiments=a.retweetingStatus.experiments,a.disclosureText=a.retweetingStatus.disclosureText,a.disclosureType=a.retweetingStatus.disclosureType,delete a.retweetingStatus.impressionId,delete a.retweetingStatus.experiments,delete a.retweetingStatus.attributes.impression_id,delete a.retweetingStatus.attributes.experiments,delete a.retweetingStatus.disclosureText,delete a.retweetingStatus.disclosureType,delete a.retweetingStatus.attributes.disclosure_text,delete a.retweetingStatus.attributes.disclosure_type)};twttr.API.Status.extend(function(){function b(a){return a===null||typeof a=="undefined"}this.isRetweet&&a(this),this.isReply=!!this.inReplyToStatusId,this.hasGeo=Boolean(!b(this.coordinates)||this.place&&this.place.id),this.hasGeo&&(this.placeName=this.place&&this.place.fullName?this.place.fullName:null);var c=!b(this.coordinates)||!b(this.place)&&this.place.placeType=="poi",d=this.entities&&this.entities.places&&this.entities.places.length>0;this.showGeoMap=c&&!d,this.showGeoIcon=c||d}),twttr.API.User.extend(function(){var a=twttr.currentUserScreenName===this.screenName;this.is_only_admin_accessible=twttr.isAdmin&&!a&&(this.deactivated_bit||this.suspended||this["protected"]&&!this.following)}),twttr.API.CurrentUser.extend(function(){var a=this;this.hasLists=function(){return a.counts&&(a.counts.lists.owned||a.counts.lists.subscribed)},this.hasSavedSearches=function(){return a.counts&&a.counts.saved_searches}}),twttr.API.List.extend(function(){this.isOwnList=twttr.currentUser?twttr.currentUser.id===this.user.id:null}),twttr.API.SavedSearch.extend(function(){var a=this.query.match(/^place:([a-f0-9]{16})$/);this.isPlaceSearch=Boolean(a),a&&(this.placeId=a[1])})},a(twttr.extendAPI)})});provide("bluejs/api",function(a){using("bluejs/init",function(){twttr.anywhere.api.initialize();var b={};twttr.aug(b,twttr.anywhere.api.models),twttr.aug(b,{globalEvents:twttr.anywhere.api.globalEvents}),b.setConfig=twttr.anywhere.api.updateConfig,b.getConfig=function(){return twttr.anywhere.api.config},b.util||(b.util={}),twttr.aug(b.util,twttr.anywhere.api.util),b._requestCache||(b._requestCache=twttr.anywhere.api.cache),a(b)})});provide("$lib/jquery.color.js",function(a){(function(a){function b(b){var c;return b&&b.constructor==Array&&b.length==3?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:d[a.trim(b).toLowerCase()]}function c(c,d){var e;do{e=a.curCSS(c,d);if(e!=""&&e!="transparent"||a.nodeName(c,"body"))break;d="backgroundColor"}while(c=c.parentNode);return b(e)}a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(d,e){a.fx.step[e]=function(a){a.state==0&&(a.start=c(a.elem,e),a.end=b(a.end)),a.elem.style[e]="rgb("+[Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0]),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1]),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2]),255),0)].join(",")+")"}});var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),a()});provide("$lib/modernizr-1.5.js",function(a){/*!
 * Modernizr JavaScript library 1.5
 * http://www.modernizr.com/
 *
 * Copyright (c) 2009-2010 Faruk Ates - http://farukat.es/
 * Dual-licensed under the BSD and MIT licenses.
 * http://www.modernizr.com/license/
 *
 * Featuring major contributions by
 * Paul Irish  - http://paulirish.com
 */window.Modernizr=function(a,b,c){function d(a){q.cssText=a}function e(a,b){return d(gb.join(a+";")+(b||""))}function f(a,b){return(""+a).indexOf(b)!==-1}function g(a,b){for(var d in a)if(q[a[d]]!==c&&(!b||b(a[d],p)))return!0}function i(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=[a,"Webkit"+c,"Moz"+c,"O"+c,"ms"+c,"Khtml"+c];return!!g(d,b)}function j(){l[L]=function(a){for(var b=0,c=a.length;b<c;b++)jb[a[b]]=a[b]in r;return jb}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),l[M]=function(a){for(var b=0,c,d=a.length;b<d;b++)r.setAttribute("type",a[b]),c=r.type!=="text",c&&(r.value=eb,/tel|search/.test(r.type)||(/url|email/.test(r.type)?c=r.checkValidity&&r.checkValidity()===!1:c=r.value!=eb)),ib[a[b]]=!!c;return ib}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var k="1.5",l={},m=!0,n=b.documentElement,o="modernizr",p=b.createElement(o),q=p.style,r=b.createElement("input"),s="canvas",t="canvastext",u="rgba",v="hsla",w="multiplebgs",x="backgroundsize",y="borderimage",z="borderradius",A="boxshadow",B="opacity",C="cssanimations",D="csscolumns",E="cssgradients",F="cssreflections",G="csstransforms",H="csstransforms3d",I="csstransitions",J="video",K="audio",L="input",M=L+"types",N="svg",O="smil",P=N+"clippaths",Q="background",R=Q+"Color",S="canPlayType",T="localStorage",U="sessionStorage",V="applicationCache",W="webworkers",X="hashchange",Y="crosswindowmessaging",Z="historymanagement",ab="draganddrop",bb="websqldatabase",cb="indexedDB",db="websockets",eb=":)",fb=Object.prototype.toString,gb=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),hb={},ib={},jb={},kb=[],lb=function(){function a(a,d){var e=arguments.length==1;if(e&&c[a])return c[a];d=d||document.createElement(b[a]||"div"),a="on"+a;var f=a in d;return!f&&d.setAttribute&&(d.setAttribute(a,"return;"),f=typeof d[a]=="function"),d=null,e?c[a]=f:f}var b={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},c={};return a}(),mb={}.hasOwnProperty,nb;typeof mb!="undefined"&&typeof mb.call!="undefined"?nb=function(a,b){return mb.call(a,b)}:nb=function(a,b){return b in a&&typeof a.constructor.prototype[b]=="undefined"},hb[s]=function(){return!!b.createElement(s).getContext},hb[t]=function(){return!!hb[s]()&&typeof b.createElement(s).getContext("2d").fillText=="function"},hb[Y]=function(){return!!a.postMessage},hb[bb]=function(){var b=!!a.openDatabase;if(b)try{b=!!openDatabase("testdb","1.0","html5 test db",2e5)}catch(c){b=!1}return b},hb[cb]=function(){return!!a[cb]},hb[X]=function(){return lb(X,a)&&(document.documentMode===c||document.documentMode>7)},hb[Z]=function(){return!!a.history&&!!history.pushState},hb[ab]=function(){return lb("drag")&&lb("dragstart")&&lb("dragenter")&&lb("dragover")&&lb("dragleave")&&lb("dragend")&&lb("drop")},hb[db]=function(){return"WebSocket"in a},hb[u]=function(){return d(Q+"-color:rgba(150,255,150,.5)"),f(q[R],u)},hb[v]=function(){return d(Q+"-color:hsla(120,40%,100%,.5)"),f(q[R],u)},hb[w]=function(){return d(Q+":url(//:),url(//:),red url(//:)"),(new RegExp("(url\\s*\\(.*?){3}")).test(q[Q])},hb[x]=function(){return i(Q+"Size")},hb[y]=function(){return i("borderImage")},hb[z]=function(){return i("borderRadius","",function(a){return f(a,"orderRadius")})},hb[A]=function(){return i("boxShadow")},hb[B]=function(){return e("opacity:.5"),f(q[B],"0.5")},hb[C]=function(){return i("animationName")},hb[D]=function(){return i("columnCount")},hb[E]=function(){var a=Q+"-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return d((a+gb.join(b+a)+gb.join(c+a)).slice(0,-a.length)),f(q.backgroundImage,"gradient")},hb[F]=function(){return i("boxReflect")},hb[G]=function(){return!!g(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},hb[H]=function(){var a=!!g(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);if(a){var c=document.createElement("style"),d=b.createElement("div");c.textContent="@media ("+gb.join("transform-3d),(")+"modernizr){#modernizr{height:3px}}",b.getElementsByTagName("head")[0].appendChild(c),d.id="modernizr",n.appendChild(d),a=d.offsetHeight===3,c.parentNode.removeChild(c),d.parentNode.removeChild(d)}return a},hb[I]=function(){return i("transitionProperty")},hb[J]=function(){var a=b.createElement(J),c=!1;try{if(c=!!a.canPlayType){c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"');var d='video/mp4; codecs="avc1.42E01E';c.h264=a.canPlayType(d+'"')||a.canPlayType(d+', mp4a.40.2"'),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"')}}catch(e){}return c},hb[K]=function(){var a=b.createElement(K),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"'),c.mp3=a.canPlayType("audio/mpeg;"),c.wav=a.canPlayType('audio/wav; codecs="1"'),c.m4a=a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")}catch(d){}return c},hb[T]=function(){try{return"localStorage"in a&&a[T]!==null}catch(b){return!1}},hb[U]=function(){try{return"sessionStorage"in a&&a[U]!==null}catch(b){return!1}},hb[W]=function(){return!!a.Worker},hb[V]=function(){var b=a[V];return!!b&&typeof b.status!="undefined"&&typeof b.update=="function"&&typeof b.swapCache=="function"},hb[N]=function(){return!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},hb[O]=function(){return!!b.createElementNS&&/SVG/.test(fb.call(b.createElementNS("http://www.w3.org/2000/svg","animate")))},hb[P]=function(){return!!b.createElementNS&&/SVG/.test(fb.call(b.createElementNS("http://www.w3.org/2000/svg","clipPath")))};for(var ob in hb)nb(hb,ob)&&kb.push(((l[ob.toLowerCase()]=hb[ob]())?"":"no-")+ob.toLowerCase());return l[L]||j(),l.addTest=function(a,b){a=a.toLowerCase();if(l[a])return;return b=!!b(),n.className+=" "+(b?"":"no-")+a,l[a]=b,l},d(""),p=r=null,m&&function(){var a=b.createElement("div");return a.innerHTML="<elem></elem>",a.childNodes.length!==1}()&&function(a,b){function c(a,d){if(j[a])j[a].styleSheet.cssText+=d;else{var e=g[o],f=b[p]("style");f.media=a,e.insertBefore(f,e[o]),j[a]=f,c(a,d)}}function d(a,b){for(var e=new RegExp("\\b("+k+")\\b(?!.*[;}])","gi"),f=function(a){return".iepp_"+a},h=-1;++h<a.length;)b=a[h].media||b,d(a[h].imports,b),c(b,a[h].cssText.replace(e,f))}function e(){for(var a,c=b.getElementsByTagName("*"),e,f,h=new RegExp("^"+k+"$","i"),g=-1;++g<c.length;)(a=c[g])&&(f=a.nodeName.match(h))&&(e=new RegExp("^\\s*<"+f+"(.*)\\/"+f+">\\s*$","i"),i.innerHTML=a.outerHTML.replace(/\r|\n/g," ").replace(e,a.currentStyle.display=="block"?"<div$1/div>":"<span$1/span>"),e=i.childNodes[0],e.className+=" iepp_"+f,e=m[m.length]=[a,e],a.parentNode.replaceChild(e[1],e[0]));d(b.styleSheets,"all")}function f(){for(var a=-1,b;++a<m.length;)m[a][1].parentNode.replaceChild(m[a][0],m[a][1]);for(b in j)g[o].removeChild(j[b]);j={},m=[]}for(var g=b.documentElement,i=b.createDocumentFragment(),j={},k="abbr|article|aside|audio|canvas|command|datalist|details|figure|figcaption|footer|header|hgroup|keygen|mark|meter|nav|output|progress|section|source|summary|time|video",l=k.split("|"),m=[],n=-1,o="firstChild",p="createElement";++n<l.length;)b[p](l[n]),i[p](l[n]);i=i.appendChild(b[p]("div")),a.attachEvent("onbeforeprint",e),a.attachEvent("onafterprint",f)}(this,b),l._enableHTML5=m,l._version=k,n.className=n.className.replace(/\bno-js\b/,"")+" js",l}(this,this.document),a()});provide("$lib/jquery.hashchange.js",function(a){(function($){var a=function(){function a(a,d){var e=arguments.length==1;if(e&&c[a])return c[a];d=d||document.createElement(b[a]||"div"),a="on"+a;var f=a in d;return!f&&d.setAttribute&&(d.setAttribute(a,"return;"),f=typeof d[a]=="function"),d=null,e?c[a]=f:f}var b={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},c={};return a}();$.fn.hashchange=function(b){if(a("hashchange",window)&&(document.documentMode===undefined||document.documentMode>7))this.bind("hashchange",b);else{var c=location.hash;setInterval(function(){c!==location.hash&&(b($.Event("hashchange")),c=location.hash)},250)}return this}})(jQuery),a()});provide("$lib/jquery.cookie.js",function(a){jQuery.cookie=function(a,b,c){if(typeof b=="undefined"){var d=null;if(document.cookie&&document.cookie!=""){var e=document.cookie.split(";");for(var f=0;f<e.length;f++){var g=jQuery.trim(e[f]);if(g.substring(0,a.length+1)==a+"="){d=decodeURIComponent(g.substring(a.length+1));break}}}return d}c=c||{},b===null&&(b="",c.expires=-1);var i="";if(c.expires&&(typeof c.expires=="number"||c.expires.toUTCString)){var j;typeof c.expires=="number"?(j=new Date,j.setTime(j.getTime()+c.expires*24*60*60*1e3)):j=c.expires,i="; expires="+j.toUTCString()}var k=c.path?"; path="+c.path:"",l=c.domain?"; domain="+c.domain:"",m=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),i,k,l,m].join("")},a()});provide("$lib/jquery.tipsy.js",function(a){(function($){function a(a,b){this.$element=$(a),this.options=b,this.enabled=!0,this.fixTitle()}a.prototype={show:function(){var a=this.getTitle();if(a&&this.enabled){var b=this.tip();b.find(".tipsy-inner")[this.options.html?"html":"text"](a),b[0].className="tipsy",b.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var c=$.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),d=b[0].offsetWidth,e=b[0].offsetHeight,f=typeof this.options.gravity=="function"?this.options.gravity.call(this.$element[0]):this.options.gravity;function g(a){return twttr.isRTL?a==="e"?"w":"e":a}var i;switch(f.charAt(0)){case"n":i={top:c.top+c.height+this.options.offset,left:c.left+c.width/2-d/2};break;case"s":i={top:c.top-e-this.options.offset,left:c.left+c.width/2-d/2};break;case g("e"):i={top:c.top+c.height/2-e/2,left:c.left-d-this.options.offset};break;case g("w"):i={top:c.top+c.height/2-e/2,left:c.left+c.width+this.options.offset}}f.length==2&&(f.charAt(1)==g("w")?i.left=c.left+c.width/2-15:i.left=c.left+c.width/2-d+15),b.css(i).addClass("tipsy-"+f),this.options.fade?b.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):b.css({visibility:"visible",opacity:this.options.opacity}),this.options.className&&b.addClass(this.options.className)}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){$(this).remove()}):this.tip().remove()},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("original-title")!="string")&&a.attr("original-title",a.attr("title")||"").removeAttr("title")},getTitle:function(){var a,b=this.$element,c=this.options;this.fixTitle();var a,c=this.options;return typeof c.title=="string"?a=b.attr(c.title=="title"?"original-title":c.title):typeof c.title=="function"&&(a=c.title.call(b[0])),a=(""+a).replace(/(^\s*|\s*$)/,""),a||c.fallback},tip:function(){return this.$tip||(this.$tip=$('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},$.fn.tipsy=function(b){function c(c){var d=$.data(c,"tipsy");return d||(d=new a(c,$.fn.tipsy.elementOptions(c,b)),$.data(c,"tipsy",d)),d}function d(){var a=c(this);a.hoverState="in",b.delayIn==0?a.show():(a.fixTitle(),setTimeout(function(){a.hoverState=="in"&&a.show()},b.delayIn))}function e(){var a=c(this);a.hoverState="out",b.delayOut==0?a.hide():setTimeout(function(){a.hoverState=="out"&&a.hide()},b.delayOut)}if($.browser.msie&&$.browser.version<9)return this;if(b===!0)return this.data("tipsy");if(typeof b=="string"){var f=this.data("tipsy");return f&&f[b](),this}b=$.extend({},$.fn.tipsy.defaults,b);if(b.stopThat){this.each(function(){c(this).hide()});return}b.live||this.each(function(){c(this)});if(b.trigger!="manual"){var g=b.live?"live":"bind",i=b.trigger=="hover"?"mouseenter":"focus",j=b.trigger=="hover"?"mouseleave":"blur";this[g](i,d)[g](j,e)}return this},$.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},$.fn.tipsy.elementOptions=function(a,b){return $.metadata?$.extend({},b,$(a).metadata()):b},$.fn.tipsy.autoNS=function(){return $(this).offset().top>$(document).scrollTop()+$(window).height()/2?"s":"n"},$.fn.tipsy.autoWE=function(){return $(this).offset().left>$(document).scrollLeft()+$(window).width()/2?"e":"w"}})(jQuery),a()});provide("$lib/jquery.cssanimation.js",function(a){(function($){var a=/([A-Z])/g;$.fn.stopCssAnimation=function(){this.each(function(){var b=$(this),c=b.data("cssAnimatedProps"),d=window.getComputedStyle(this,null),e={};for(var f in c)f=f.replace(a,"-$1").toLowerCase(),e[f]=d.getPropertyValue(f);b.css({"-moz-transition-property":"none","-moz-transition-duration":"","-moz-transition-timing-function":"","-webkit-transition-property":"none","-webkit-transition-duration":"","-webkit-transition-timing-function":""});for(var f in e)b.css(f,e[f]);b.data("cssAnimatedProps",null);var g=b.data("cssTimeoutId");g!=null&&(clearTimeout(g),b.data("cssTimeoutId",null))})},$.fn.animateWithCss=function(b,c,d,e){var f=jQuery.speed(c,d,e);if(jQuery.isEmptyObject(b))return this.each(f.complete);var g={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out"};f.easing=f.easing||"swing",f.easing=g[f.easing]?g[f.easing]:f.easing,this.each(function(){$(this).data("cssAnimatedProps",b);var c=window.getComputedStyle(this,null);for(var d in b)d=d.replace(a,"-$1").toLowerCase(),$(this).css(d,c.getPropertyValue(d))});var i=[];for(var j in b)i.push(j);var k=i.length?i.join(","):"all";this.css({"-moz-transition-property":k,"-moz-transition-duration":f.duration+"ms","-moz-transition-timing-function":f.easing,"-webkit-transition-property":k,"-webkit-transition-duration":f.duration+"ms","-webkit-transition-timing-function":f.easing}),this.css(b);var l=this,m=setTimeout(function(){l.css({"-moz-transition-property":"none","-moz-transition-duration":"","-moz-transition-timing-function":"","-webkit-transition-property":"none","-webkit-transition-duration":"","-webkit-transition-timing-function":""}),l.data("cssAnimatedProps",null),l.data("cssTimeoutId",null),jQuery.isFunction(f.complete)&&f.complete.apply(l)},f.duration);return this.data("cssTimeoutId",m),this}})(jQuery),a()});provide("IFrame",function(a){using().as(function(b){twttr.provide("twttr.IFrame"),twttr.IFrame=function(){function a(){var a=["webkit","mozilla","opera","msie"];for(var b=0;b<a.length;b++)if($.browser[a[b]])return a[b]}var b="<!DOCTYPE html><html><head>",c="</head><body>",d="</body></html>",e=function(a,b){for(var c in b)a[c]=b[c];return a},f=function(a){return jQuery.map(a||[],function(a,b){return'<link rel="stylesheet" href="'+a+'" type="text/css">'}).join("")},g=0,i=function(a){return a?(g=a.length,jQuery.map(a||[],function(a,b){return"<script "+($.browser.msie?"onReadyStateChange":"onLoad")+'="scriptReady(this);" type="text/javascript" src="'+a+'"></scr'+"ipt>"}).join("")):""},j=function(i){var j=i.window.document,k=this,l=$('<iframe allowtransparency="true" frameborder="0" tabindex="-1" role="presentation" scrolling="no"/>',j),m=l[0],n=i.complete,o=i.content,p=$.browser;i.css&&l.css(i.css),this.node=m;var q=function(){this.window=this.contentWindow=m.contentWindow,this.$node=l,$(m.contentWindow.document.body).addClass(a());var b=e(function(a){return $(a,m.contentWindow.document)},$);this.jQuery=b;try{this.window.jQuery||(this.window.jQuery=b,this.window.$=b)}catch(c){}n(this)};if(o){if(twttr.is.string(o))n&&l.bind("load",twttr.bind(this,function(){l.unbind("load"),q.call(this)})),m.src=o;else{var r="";p.mozilla&&(m.src="javascript:"+(new Date).getTime()+";'';"),p.msie&&i.domain&&(m.src="javascript:'<script>window.onload=function(){document.write(\\'<script>document.domain=\\\""+document.domain+"\\\";<\\\\/script>\\');document.close();};</script>'",r='<script>document.domain = "'+i.domain+'";</script>'),l.bind("load",twttr.bind(this,function(a){l.unbind("load"),m.contentWindow.document.scriptReady=function(a){if(a.readyState&&(a.readyState=="loaded"||a.readyState=="complete")||!$.browser.msie)g--,g||q.call(j)};var e=m.contentWindow.document,i=b+r+f(o.css)+(o.styles?'<base href="'+twttr.assets.path("/")+'"><style type="text/css">'+o.styles+"</style>":"")+c+(o.body||"")+d,j=this;e.open(),e.write(i),e.close(),g||q.call(j)}))}var s=i.parentNode;typeof i.parentNode=="string"?s=$(i.parentNode,j):s=i.parentNode,l[i.insert||"appendTo"](s||j.body)}};return{create:function(a,b){return a=e({window:window,complete:b},a),(new j(a)).node}}}(),a(twttr.IFrame)})});provide("util",function(a){using("run/base").as(function(b){var c=null,d=/([a-zA-Z0-9])([A-Z])/g,e=/_(.)/g,f=/\?(.*)/,g={supplant:function(){var a=/\{([^\{\}]*)\}/g;return function(b,c){return b.replace(a,function(a,b){var d=c[b];return twttr.is.string(d)||twttr.is.number(d)?d:a})}}(),joinPath:function(a,b){return a.substr(-1)==="/"?a+b:a+"/"+b},defaulted:function(a,b){return twttr.is.def(a)?a:b},create:function(a){function b(){}return b.prototype=a,b.constructor=b,new b},params:function(a){if(!a&&c)return c;var b={},d=a||window.location.search;return d?(d.charAt(0)==="?"&&(d=d.slice(1)),twttr.each(d.split("&"),function(a){a=a.split("=");var c=a.shift(),d=decodeURIComponent(a.join("="));b[c]=d.replace(/\+/," ")}),a||(c=b),b):b},paramsFromUrl:function(a){return!a||a.indexOf("?")<0?null:g.params(a.split(f)[1])},underscore:function(a){return a.toUpperCase()===a?a:a.replace(d,function(a,b,c){return b+"_"+c}).toLowerCase()},camelize:function(a){return a.replace(e,function(a,b){return b.toUpperCase()})},camelizeObject:function(a){if(!twttr.is.object(a))throw new Error("The carmelizeObject() method only accepts apples.");var b={};for(var c in a)b[g.camelize(c)]=a[c];return b},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},addCommas:function(a,b){return b=b||",",parseInt(a,10).toString().replace(/(.)(?=(.{3})+$)/g,function(a,c){return c+b})},_numberFormats:{de:{grouping_separator:"."},en:{grouping_separator:","},es:{grouping_separator:"."},fr:{grouping_separator:" "},it:{grouping_separator:"."},ja:{grouping_separator:","},pt:{grouping_separator:"."},tr:{grouping_separator:"."},nl:{grouping_separator:"."},id:{grouping_separator:"."}},formatNumber:function(a,b){var c=",";return twttr.is.def(b)&&g._numberFormats[b]&&(c=g._numberFormats[b].grouping_separator),g.addCommas(a,c)},diff:function(a,b,c){var d={};if(!twttr.is.object(a)||!twttr.is.object(b))throw new Error("util.diff currently supports only single-level object comparison");for(var e in a)c?c(a[e],b[e])||(d[e]=[a[e],b[e]]):a[e]!==b[e]&&(d[e]=[a[e],b[e]]);for(var e in b)d[e]||(c?c(b[e],a[e])||(d[e]=[a[e],b[e]]):a[e]!==b[e]&&(d[e]=[a[e],b[e]]));return d},trim:function(a){return a.replace(/(^\s*|\s*$)/g,"")},lazyBind:function(){var a={},b=function(b){return setInterval(function(){$.each(a[b],function(a,b){b.callback.call(b.node,b.event)}),a[b]={}},b)},c={},d=0,e=0;return function(f,g,i,j){j=j||1e3,a[j]=a[j]||{};var k=$(f);i.id||(i.id=++d),k.data("lazy-id")||k.data("lazy-id",e++),k.bind(g,function(b){var c=k.data("lazy-id")+g+i.id;a[j][c]={callback:i,event:b,node:f}}),c[j]||(c[j]=b(j),!$.browser.msie&&!twttr.selenium&&($(window).bind("blur",function(a){c[j]&&(clearInterval(c[j]),c[j]=null)}),$(window).bind("focus",function(){c[j]||(c[j]=b(j))})))}}(),displayLength:function(a){if(typeof a!="string")throw new Error("displayLength() requires a single input of type string");var b=0,c=0,d=function(a,b){var c=a.charCodeAt(b),d="",e="";if(55296<=c&&c<=56319){if(a.length<=b+1)throw"High surrogate without following low surrogate";d=a.charCodeAt(b+1);if(56320>d||d>57343)throw"High surrogate without following low surrogate";return a.charAt(b)+a.charAt(b+1)}if(56320<=c&&c<=57343){if(b===0)throw"Low surrogate without preceding high surrogate";e=a.charCodeAt(b-1);if(55296>e||e>56319)throw"Low surrogate without preceding high surrogate";return!1}return 8206==c||8207==c?!1:a.charAt(b)};for(b=0,c=0;b<a.length;b++){if(d(a,b)===!1)continue;c++}return c},objKeys:function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},arrayUniq:function(a){var b=0;while(b<a.length)$.inArray(a[b],a)<b?a.splice(b,1):b++;return a},arrayMap:function(a,b){var c=[];for(var d=0,e=a.length;d<e;++d)c.push(b.call(a[d],a[d],d,a));return c},linkifyEntities:function(a,b){return b.entities&&b.entities.urls&&twttr.each(b.entities.urls,function(b){b.display_url&&(a=a.replace(new RegExp(">"+g.escapeRegExpChars(h(b.url))+"<\\/a>"),function(){return">"+h(b.display_url)+"</a>"})),b.expanded_url&&(a=a.replace(new RegExp("(href=[\"']"+g.escapeRegExpChars(h(b.url))+"[\"'])"),function(a,c){return c+' data-expanded-url="'+h(b.expanded_url)+'" title="'+h(b.expanded_url)+'"'}))}),b.entities&&b.entities.media&&b.entities.media.length>0&&twttr.each(b.entities.media,function(c){var d=b.text.substring(c.indices[0],c.indices[1]);if(c.display_url){var e="";if(c.sizes&&c.sizes.medium){var f=c.sizes.medium;e=' data-media-h="'+h(f.h)+'" data-media-w="'+h(f.w)+'"'}a=a.replace(new RegExp(">"+g.escapeRegExpChars(h(d))+"<\\/a>"),function(){return e+' data-twitter-media-url="true">'+h(c.display_url)+"</a>"})}if(c.expanded_url)if(twttr.domains.local.indexOf("staging")===0){var i=c.expanded_url.replace(/http[s]?:\/\/twitter.com/,"//"+twttr.domains.local);a=a.replace(new RegExp("(href=[\"']"+g.escapeRegExpChars(h(d))+"[\"'])"),function(){return'href="'+h(i)+'" data-expanded-url="'+h(c.expanded_url)+'" title="'+h(c.expanded_url)+'"'})}else a=a.replace(new RegExp("(href=[\"']"+g.escapeRegExpChars(h(d))+"[\"'])"),function(a,b){return b+' data-expanded-url="'+h(c.expanded_url)+'" title="'+h(c.expanded_url)+'"'})}),a},linkify:function(a){var b=twttr.decider.isAvailable(twttr.loggedIn?"swift_profile":"swift_profile_logged_out"),c=twttr.txt.autoLinkUsernamesOrLists(twttr.txt.autoLinkUrlsCustom(twttr.txt.autoLinkHashtags(a,{hashtagClass:"twitter-hashtag pretty-link",urlClass:" ",hashtagUrlBase:"/#!/search/%23",hash:"<s>#</s>",preText:"<b>",postText:"</b>",extraHtml:' data-query-source="'+twttr.search.searchQuerySource.HASHTAG+'"'}),{urlClass:"twitter-timeline-link",target:"_blank"}),{usernameClass:"twitter-atreply pretty-link",usernameUrlBase:b?"/":"/#!/",listClass:"twitter-listname",urlClass:" ",preChunk:"<b>",postChunk:"</b>"});return c.replace(/([@＠]+)(<[^>]*>)/g,"$2<s>$1</s>")},queryHighlight:function(a,b){var c=a.replace(/"/gi,""),d=b.replace(/<[^>]+>/g,"");return twttr.txt.hitHighlight(b,g.highlightIndices(c,d),{tag:"strong"})},escapeRegExpChars:function(){var a="\\/{}|()[]?.*+:^$";return specialCharsMatcher=new RegExp("((\\"+a.split("").join(")|(\\")+"))","gi"),function(a){return a.replace(specialCharsMatcher,function(a,b){return"\\"+b})}}(),normalizeCharacters:function(a){return a.replace(/[ÄÅÖØÜäåöøüÆæß]/g,function(a){switch(a){case"Ä":return"AE";case"Å":return"AA";case"Ö":case"Ø":return"OE";case"Ü":return"UE";case"ä":return"ae";case"å":return"aa";case"ö":case"ø":return"oe";case"ü":return"ue";case"Æ":return"AE";case"æ":return"ae";case"ß":return"ss";default:return a}})},highlightIndices:function(a,b){a=g.escapeRegExpChars(a);var c;twttr.decider.isAvailable("escape_ampersands_in_search_highlighter")?c=twttr.util.arrayMap(a.split(/\s+/),function(a){return a.replace("&","&amp;")}):c=a.split(/\s+/);var d=[];for(var e in c)d.push(g.normalizeCharacters(c[e]));var f=[],i="("+c.join(")|(")+")|("+d.join(")|(")+")",j="!#%&+,-./:;<=>?@^_{|}~".split("").join("\\"),k=new RegExp("(^|\\b|\\W|["+j+"])("+i+")(\\b|\\s|$|["+j+"])","gi");return b.replace(k,function(a,b,c){var d=arguments[arguments.length-2]+b.length;f.push([d,d+c.length])}),f},inspect:function(a){console.clear();var b=$(a),c=b.data("events"),d=0,e=0,f=[],g=[];for(key in c){f.push(key),d++,g.push("\n*******************\n"),g.push("Events for "+key+"\n\n");for(fn in c[key]){var i=c[key][fn];e++,g.push(i.toSource()+"\n")}}console.log("************* Summary *************"),console.log("for target",b),console.log(d+" types of events",f),console.log(e,"Total Event Listeners"),console.log("Event listeners assigned to target"),console.log(g.join(" "))},regexSupplant:function(a,b){return b=b||"",typeof a!="string"&&(a.global&&b.indexOf("g")<0&&(b+="g"),a.ignoreCase&&b.indexOf("i")<0&&(b+="i"),a.multiline&&b.indexOf("m")<0&&(b+="m"),a=a.source),new RegExp(a.replace(/#\{(\w+)\}/g,function(a,b){var c=twttr.regexps[b]||"";return typeof c!="string"&&(c=c.source),c}),b)},leven:function(a,b){var c,d,e=a.length,f=b.length;if(!e)return f;if(!f)return e;var g=[];for(var i=0;i<=e;i++)g[i]=[],g[i][0]=i;for(var j=0;j<=f;j++)g[0][j]=j;for(var i=1;i<=e;i++){c=a.charAt(i-1);for(var j=1;j<=f;j++)g[i][j]=Math.min(g[i-1][j]+1,g[i][j-1]+1,g[i-1][j-1]+(c==b.charAt(j-1)?0:1))}return g[e][f]},uriRegex:new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)?(?:\\?([^#]*))?(?:#(.*))?$","i"),noopInT1:function(){},noopInP1:function(){}};g.Location=twttr.klass(function(a){a.match(/^\/\//)?a="http:"+a:a.match(/^[a-z]+:\/\//)||(a="http://"+a);var b=a.match(/^([a-z]+:)\/\/([\w\-\.]+)(\:\d+)?(.+)?/);this.href=a,this.protocol=b[1],this.hostname=b[2],this.host=b[2]+(b[3]||""),this.port=b[3]?b[3].slice(1):b[1]==="https:"?"443":"80";var c=b[2].match(/\.(\w+)$/);c?this.extension=c[1]:this.ext="";if(!b[4])this.hash="",this.search="",this.pathname="/";else{b[4].match(/^\//)||(b[4]="/"+b[4]);var d=b[4].split("?"),e=b[4].split("#");this.pathname=d[0],/\/$/.test(this.pathname)||(this.pathname=this.pathname+"/"),this.search=d.length>1?"?"+function(){return d.shift(),d.join("").replace(/#.*$/,"")}():"",this.hash=e.length>1?"#"+e[1]:""}}).methods({query:function(a){return this.search?g.params(this.search)[a]||"":""}}),g.WaitQueue=twttr.klass(function(){this._methods=[],this._response=null,this._flushed=!1}).methods({add:function(a){this._flushed?a(this._response):this._methods.push(a)},flush:function(a){if(this._flushed)return;this._response=a,this._flushed=!0;while(this._methods[0])this._methods.shift()(a)}}),twttr.provide("twttr.util",g),a(g)})});provide("constants",function(a){using().as(function(b){var c={sessionPollInterval:1e4,directMessagePollInterval:9e4,defaultScribeCategory:"webclient",scribeHostName:"scribe.twitter.com",maxUrlLength:2083,tcoLength:20,japaneseAdUrl:"//pages.quantumads.com/transformer/async.js?callback=twttr.components.JapaneseAd.callbacks.",japaneseAdIframeUrl:"//web-jp.ad-v.jp/adam/detect?tag=htm&cat=twitter.all&format=side_banner",keyCodes:{enter:13,escape:27,esc:27,tab:9,del:8,spacebar:32,upArrow:38,downArrow:40,leftArrow:37,rightArrow:39},which:{period:46},charCodes:{space:32,questionMark:63},placeTypes:{city:7},promotedContent:{linkType:{URL:1,PROFILE_PIC:2,SCREEN_NAME:3,HASHTAG:4,USER_NAME:5,DISPLAYED:27,DETAIL:28,DISMISS_WITHOUT_REASON:31,DISMISS_UNINTERESTING:32,DISMISS_REPETITIVE:33,DISMISS_SPAM:34,DISMISS_OTHER:35,FOOTER_PROFILE:36,PERMALINK:40}},videos:{widescreen:"16:9",fullscreen:"4:3"},jQueryEvents:"blur hover focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),errorCodes:{notFollowing:"NotFollowingErrorMessage",duplicateTweet:"DuplicateTweetErrorMessage",malwareTweet:"MalwareErrorMessage",dailyLimit:"DailyLimitErrorMessage",tooLongTweet:"TooLongErrorMessage",whale:"DefaultErrorMessage",otherUserSuspended:"OtherUserSuspendedErrorMessage",suspended:"SuspendedErrorMessage",permission:"PermissionErrorMessage",photoTimeout:"PhotoTimeoutErrorMessage",followingLimitReached:"FollowingLimitReachedErrorMessage",blockedFromFollowing:"BlockedFromFollowingErrorMessage",tooLongListName:"TooLongListNameErrorMessage",tooLongListDescription:"TooLongListDescriptionErrorMessage",noLetterStartListName:"NoLetterStartListNameErrorMessage",userNotFound:"UserNotFoundErrorMessage",tweetNotFound:"TweetNotFoundErrorMessage"},regexps:{name:/\S+/,usernameForSignup:/^[@＠]?([a-zA-Z0-9_]{1,15})$/,username:/^[@＠]?([a-zA-Z0-9_]{1,22})$/,usernameWithAt:/^[@＠]{1}([a-zA-Z0-9_]{1,22}) /,usernameWithSpace:/^[@＠]{1}(\w{1,22})\s*$/,suggestionCategoryPath:/\/(who_to_follow|welcome)\/interests\/([^\/]+)/,userSearchPath:/(\/(who_to_follow|welcome)\/search\/|\/search\/users\/)([^\/]+)/,email:/^[\w-]+([^@,\s\<\>\(\)]*[\w-]+)?\@[\w-]+(\.[\w-]+)*\.[a-z]{2,}$/i,rtlChar:/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/mg,dirMark:/\u200e|\u200f/mg,rtlHashtag:/^#.*([\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF])+/mg},recaptcha:{srcUrl:twttr.recaptchaUrlForTest||"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",publicKey:"6LfbTAAAAAAAAE0hk8Vnfd1THHnn9lJuow6fgulO"},noob:{dismissed:-2,notNoob:-1,total:0,invited:1,friendless:2,silent:3,talking:4,popular:5,lonely:6,struggling:7},imageSizes:{small:"small",medium:"medium",large:"large",original:"original"},slideshow:{fadeOutArrowTimeout:2e3,fadeInArrowTimeout:750,fadeAnimationTime:400,photoMinHeight:340,videoMinHeight:390,videoMaxWidth:480},clientEvent:{itemType:{tweet:0,promotedTweet:1,popularTweet:2,user:3,promotedUser:4,activity:5,message:6,story:7}},media:{photoIcon:"photo"},users:{maxLookupSize:100},scribe:{CLIENT_SIDE_USER:0,CLIENT_SIDE_APP:2}};twttr.constants=c,a(c)})});provide("cache",function(a){using().as(function(b){twttr.provide("twttr.cache"),twttr.provide("twttr.caches"),twttr.klass("twttr.cache.Simple",function(){this._cache={}}).methods({set:function(a,b,c){this._cache[a]={value:b,expire:twttr.is.number(c)?this._getTime()+c:null};var d=this._writeThrough();return d===!1&&this.remove(a),b},get:function(a){return this._checkExpiry(a),this._cache[a]?this._cache[a].value:undefined},remove:function(a){delete this._cache[a],this._writeThrough()},clear:function(){this._cache={},this._writeThrough()},_checkExpiry:function(a){this._cache[a]&&this._cache[a].expire&&this._cache[a].expire<this._getTime()&&this.remove(a)},_getTime:function(){return(new Date).getTime()},_writeThrough:function(){return!0}}),function(){function a(a){return window.localStorage.getItem(a)}function b(a,b){return window.localStorage.setItem(a,b)}function c(a){return window.localStorage.removeItem(a)}function d(a){return window.sessionStorage.getItem(a)}function e(a,b){return window.sessionStorage.setItem(a,b)}function f(a){return window.sessionStorage.removeItem(a)}function g(){}var i,j,k=!1;try{i="localStorage"in window&&window.localStorage!==null,j="sessionStorage"in window&&window.sessionStorage!==null,k=!0}catch(l){i=!1,j=!1,k=!1}try{if(document.documentElement.addBehavior){k=!1,i=!0;var m=document.createElement("div");document.body.appendChild(m),m.style.display="none",m.addBehavior("#default#userData"),m.load("phoenix");var n=m.xmlDocument,o=n.documentElement;function p(a){var b=o.childNodes,c,d=null;for(var e=0,f=b.length;e<f;e++){c=b.item(e);if(c.getAttribute("key")==a){d=c;break}}return d}function q(a){var b=p(a),c=null;return b&&(c=b.getAttribute("value")),c}function r(a,b){var c=p(a);return c?c.setAttribute("value",b):(c=n.createNode(1,"item",""),c.setAttribute("key",a),c.setAttribute("value",b),o.appendChild(c)),m.save("phoenix"),b}function s(a){var b=p(a);b&&o.removeChild(b),m.save("phoenix")}function t(){while(o.firstChild)o.removeChild(o.firstChild);m.save("phoenix")}}}catch(l){i=!1}var u=g,v=g,w=g,x=g;i&&(u=k?b:r,v=k?a:q,w=k?c:s,x=k?c:t),twttr.klass("twttr.cache.LocalProvider",function(a){twttr.cache.Simple.call(this),this._namespace=a,this._cache=JSON.parse(v(a)||"{}"),twttr.cache.LocalProvider._caches.push(this)}).subclassOf(twttr.cache.Simple).statics({hasLocalStorage:i,_caches:[],clearAll:function(){twttr.each(this._caches,function(a){a.clear()}),this._caches=[]}}).methods({_writeThrough:function(){try{return u(this._namespace,JSON.stringify(this._cache)),!0}catch(a){return!1}}})}(),twttr.klass("twttr.cache.local.User",function(a){this.name=a,this.cache=new twttr.cache.LocalProvider(":USER:"),this.user=this.cache.get(a)||this.cache.set(a,{login:(new Date).getTime(),store:{}}),this.clean()}).methods({_getTime:function(){return(new Date).getTime()},clean:function(){this.user.login=(new Date).getTime();var a=0,b=(new Date).getTime(),c=null;for(var d in this.cache._cache){a++;var e=this.cache._cache[d],f=e.value.login;f<b&&(b=f,c=d)}a>3&&this.cache.remove(c)},remove:function(a){delete this.user.store[a],this.save()},get:function(a){var b=this.user.store[a];if(!twttr.is.def(b))return undefined;var c=this._getTime();return b.expire&&b.expire<c?undefined:b.value},set:function(a,b,c){var d={value:b,expire:twttr.is.number(c)?this._getTime()+c:null};return this.user.store[a]=d,this.save(),b},update:function(a,b,c){var d=twttr.is.def(this.user.store[a])?c:this.user.store[a].expire;return this.set(a,b,d),b},save:function(){this.cache.set(this.name,this.user)}}),a({Simple:twttr.cache.Simple,LocalProvider:twttr.cache.LocalProvider,User:twttr.cache.local.User,caches:twttr.caches})})});provide("singletons/namespaced_store",function(a){using().as(function(b){twttr.klass("twttr.cache.NamespacedStore",function(a){if(this.cache_key===null)throw"You need to set a cache key to use a NamespacedStore.";this.cache=new twttr.cache.LocalProvider(a)}).methods({ttl:6e4,cache_key:null,clear:function(){this.cache.remove(this.cache_key)},getData:function(){var a=this.cache.get(this.cache_key);try{return JSON.parse(a)}catch(b){return null}},setData:function(a){this.cache.set(this.cache_key,JSON.stringify(a),this.ttl)}}),a(twttr.cache.NamespacedStore)})});provide("singletons/promoted_account_store",function(a){using().as(function(b){twttr.klass("twttr.promotedAccountStoreSingleton",function(){twttr.cache.NamespacedStore.apply(this,["promoted_accounts"])}).subclassOf(twttr.cache.NamespacedStore).methods({ttl:6e4,cache_key:"promoted_account",getAccount:function(){return this.getData()},hasAccount:function(){return!!this.getAccount()},setAccount:function(a,b){var c={id:a,impressionId:b};this.setData(c)}}),twttr.promotedAccountStore=new twttr.promotedAccountStoreSingleton,a(twttr.promotedAccountStore)})});provide("singletons/promoted_tweet_store",function(a){using("libwrap/jquery").as(function(b,$){var c="h";twttr.klass("twttr.promotedTweetStoreSingleton",function(){twttr.cache.NamespacedStore.apply(this,["promoted_tweets"])}).subclassOf(twttr.cache.NamespacedStore).methods({ttl:18e5,cache_key:"promoted_tweet",clear:function(){this.constructor.uber.clear.apply(this,arguments),$.cookie(c,null)},getTweetInfo:function(){if(!twttr.decider.isAvailable("ptw_reinjection"))return null;var a=this.getData();return a&&a.data&&a.data.promoted_status?(this.clear(),null):a},hasTweetInfo:function(){return twttr.decider.isAvailable("ptw_reinjection")?!!this.getTweetInfo():!1},setTweetInfo:function(a,b,d){if(!twttr.decider.isAvailable("ptw_reinjection"))return;var e=[b.id_str,a,d?"po":"pr"].join(","),f=new Date;f.setTime(f.getTime()+this.ttl);var b={olderTweetId:a,data:b};this.setData(b),$.cookie(c,e,{expires:f})}}),twttr.promotedTweetStore=new twttr.promotedTweetStoreSingleton,a(twttr.promotedTweetStore)})});provide("decider",function(a){using("util").as(function(b){twttr.klass("twttr.Decider",function(a,b){a=a||{},this._updateFeatures(a),b=b||this.constructor.DEFAULT_REFRESH_INTERVAL,setInterval(twttr.bind(this,this.updateFeatures),b)}).statics({DECIDER_URL:"/account/available_features",DEFAULT_REFRESH_INTERVAL:18e4}).methods(twttr.EventProvider).methods({features:function(){return this._features||{}},isActivityEnabled:function(){return this.isAvailable("activity_read")&&this.isAvailable("activity_dark_read")},isExpando:function(){return twttr.expando||twttr.isT1},isInfiniteScroll:function(){return this.isAvailable("infinite_scroll")&&!($.browser.msie&&parseInt($.browser.version,10)<8)},hasInlineReplies:function(){return twttr.decider.isAvailable("inline_reply_box")||twttr.abdecider.choose("inline_reply_box_197")==="reply_box"},isAvailable:function(a){return twttr.is.fn(a)?a():this._features?!!this._features[a]:!1},featureUrl:function(a){var b=a&&a.spoof_country;return b?this.constructor.DECIDER_URL+"?spoof_country="+b:this.constructor.DECIDER_URL},updateFeatures:function(){var a=twttr.API._requestCache.get("account/available_features",{});a?this._updateFeatures(a):this._makeRemoteRequest()},_makeRemoteRequest:function(a){$.getJSON(this.featureUrl(b.util.params()),twttr.bind(this,function(b){b&&this._updateFeatures(b),a&&a()}))},_updateFeatures:function(a,c){var d=this._features||{};this._features=a;if(c)return;var e=b.util.diff(d,this._features);for(var f in e){var g={key:f,previous:e[f][0],current:e[f][1]};this.trigger("keyChanged",g)}},goodAtCss:function(){return $.support.boxModel&&!($.browser.msie&&parseFloat($.browser.version)<=6)}}),twttr.decider=new twttr.Decider,signal(">decider"),a(twttr.decider)})});provide("multiGlobals/scribble",function(a){using("constants").as(function(b){twttr.klass("twttr.ScribeBuffer",function(){if(twttr.ScribeBuffer.instance)throw"This is a singleton, yo";twttr.ScribeBuffer.instance=this,this.ajax=$.ajax,this.reset()}).methods({getBuffer:"",postBuffer:[],maxLength:null,reset:function(){this.getBuffer="",this.postBuffer=[];var a="q="+(+(new Date)).toString().slice(-4);this.path="/scribe",this.url=this.path+"?"+a,window.location.hostname.match(/^(www\.|[A-Z]{2}\.|^)twitter.com$/i)&&(this.url=window.location.protocol+"//"+b.constants.scribeHostName+this.url),this.maxLength=(twttr.decider.isAvailable("use_scribe_post")?twttr.scribeBufferSize||10:1)*b.constants.maxUrlLength-this.url.length},_isEmpty:function(){return this.getBuffer.length===0&&this.postBuffer.length===0},send:function(a){if(this._isEmpty())return;twttr.decider.isAvailable("use_scribe_post")?this.ajax({url:this.path,data:{log:this.postBuffer},type:"POST",async:!a}):(new Image).src=this.url+this.getBuffer,this.reset()},getPostBufferForForm:function(){var a=this.postBuffer;return this.reset(),JSON.stringify(a)},sendReliabilityEvent:function(a){this.ajax({url:this.path,data:{reliability_event:"true"},type:"POST",success:a})},addData:function(a){var b=JSON.stringify(a),c=this._encodeStringifiedData(b);c.length>twttr.ScribeBuffer.instance.maxLength&&(a=this._truncateData(a),b=JSON.stringify(a),c=this._encodeStringifiedData(b)),this.url.length+this.getBuffer.length+c.length>this.maxLength&&this.send(),this.getBuffer+="&"+c,this.postBuffer.push(b);if(window.scribeConsole){var d=window.location.protocol+"//"+window.location.host;try{window.scribeConsole.postMessage(a,d)}catch(e){var f="unserializable scribe data ["+category+"]";window.scribeConsole.postMessage({error:f,event_data:JSON.stringify(a)},d)}}twttr.is.array(twttr.allScribeEvents)&&(twttr.allScribeEvents.push(b),localStorage.twttrAllScribeEvents=JSON.stringify(twttr.allScribeEvents));if($.cookie("phx_scribe_now")=="1"){var g=this;window.setTimeout(function(){g.send()},0)}},_encodeStringifiedData:function(a){return"log%5B%5D="+encodeURIComponent(a)},_truncateData:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&typeof a[c]!="object"&&(b[c]=a[c]);return b._truncated_for_scribe=!0,b}}),twttr.klass("twttr.Scribbler",function(a,c,d,e,f){this.expectedToHaveComponent=arguments.length>0,this.component=a||"",this.contextData=c||{},this.category=d||b.constants.defaultScribeCategory,this.eventPrefix=e||"",this.options=f||{}}).methods({DECIDERED_CATEGORIES:{client_event:1},spawn:function(a,b){var c=twttr.merge({},this.contextData,a||{});return new this.constructor(this.component,c,this.category,b||this.eventPrefix,this.options)},_contextData:function(){return twttr.merge({},this.contextData)},_mapAPIObjectData:function(a){var b={};for(var c in a)a[c]&&a[c].array&&twttr.is.array(a[c].array)?b[c]=a[c].array:b[c]=a[c];return b},_isCategoryAvailable:function(a){return!this.DECIDERED_CATEGORIES[a]||twttr.decider.isAvailable("scribe_"+a)},scribe:function(a,b,c,d){if(this.expectedToHaveComponent&&!this.component)return;if(!twttr.decider.isAvailable("phoenix_scribe")||!this._isCategoryAvailable(c||this.category))return;d=d||{},b=b||{},twttr&&!twttr.loggedIn&&(b.user_id=0),b.page=twttr.audit.currentPage(),b._category_=c||this.category,b.ts=(new Date).getTime();if(filter=d.filter||this.options.filter)b._filter_=d.filter;b=twttr.merge(this._contextData(),b);for(var e in b)twttr.is.fn(b[e])&&(b[e]=b[e].call(this.component,a,b,c));if(a){twttr.is.fn(this.eventPrefix)?a=this.eventPrefix.call(this.component,a):a=this.eventPrefix+a;var f=twttr.merge({event_name:a},b);twttr.ScribeBuffer.instance.addData(this._mapAPIObjectData(f))}}}),function(){twttr.ScribeBuffer.instance=new twttr.ScribeBuffer,twttr.Scribbler.global=new twttr.Scribbler,window.scribble=twttr.scribble=function(){return twttr.Scribbler.global.scribe.apply(twttr.Scribbler.global,arguments)},$(window).bind("unload",function(){twttr.ScribeBuffer.instance.send(!0)}),$(document).delegate("form","submit",function(){if(twttr.decider.isAvailable("scribe_form_piggyback")){var a=$(this).find("input[name='scribe_log']"),b=$(this).find("input[name='reliability_event']");a.length&&b.val()!="true"&&a.val(twttr.ScribeBuffer.instance.getPostBufferForForm())}}),$.browser.msie?document.onfocusout=function(){twttr.ScribeBuffer.instance.send()}:$(window).blur(function(){twttr.ScribeBuffer.instance.send()});var a=twttr.isPreflight||window.location.host.match(/^(localhost|staging)/gi);a&&window.postMessage&&$(document).keypress(function(a){if(a.charCode==205&&a.shiftKey&&a.altKey){var b="menubar=no,toolbar=no,personalbar=no,location=no,resizable=yes,status=no,dependent=yes,height=600,width=600,screenX=100,screenY=100,scrollbars=yes";window.scribeConsole=window.open("/scribe/console","scribe_console",b)}})}(),a()})});provide("abdecider",function(a){using("util").as(function(b){twttr.klass("twttr.AbDecider",function(a,b){this._impressions={},this._updateExperiments(a||{}),b=b||this.constructor.DEFAULT_REFRESH_INTERVAL;if(b>0){var c=this;setTimeout(function(){setInterval(twttr.bind(c,c.updateExperiments),b)},b/2)}}).statics({ABDECIDER_URL:"/account/available_ab_buckets",LOG_EVENTS:!1,DEFAULT_REFRESH_INTERVAL:-1}).methods(twttr.EventProvider).methods({experiments:function(){return this._experiments||{}},choose:function(a,b){if(!this._experiments)return"";var c=this._experiments[a];if(!c||!c.bucket)return"";var d=c.bucket,e=c.experiment_key;return b||this._impressions[e]!=d&&(this._trackInternal(a),this._impressions[e]=d),d},chooseWithoutImpression:function(a){return this.choose(a,!0)},track:function(a,b,c){if(b==this.constructor.AB_IMPRESSION_EVENT)return;this._trackInternal(a,b,c)},updateExperiments:function(){$.getJSON(this.constructor.ABDECIDER_URL,twttr.bind(this,function(a){a&&this._updateExperiments(a)}))},_updateExperiments:function(a,c){var d=this._experiments||{};this._experiments=a;if(c)return;var e=b.util.diff(d,this._experiments,function(a,b){return!a||!b?!1:a.bucket===b.bucket&&a.version===b.version});for(var f in e){var g={key:f,previous:e[f][0],current:e[f][1]};this.trigger("keyChanged",g)}},set:function(a,b){if(!this._experiments||!this._experiments[a])return;this._experiments[a]=twttr.merge({},this._experiments[a],{bucket:b})},remove:function(a){this._experiments[a]=null},_trackInternal:function(a,b,c){if(!this._experiments)return;var d=this._experiments[a];if(!d)return;var e=twttr.merge(c||{},{bucket:d.bucket,experiment_key:d.experiment_key,version:d.version});this.constructor.LOG_EVENTS&&console.log(a+": "+(b||"impression"));if(b){var f=b.replace(/[^0-9A-Z]+/gi,"_").toLowerCase(),g="web:ddg:"+d.experiment_key+"::"+f+":track";scribble(g,e,"client_event")}else scribble("web:ddg:"+d.experiment_key+":::experiment",e,"client_event")}}),twttr.abdecider=new twttr.AbDecider,signal(">ab_decider"),a(twttr.abdecider)})});provide("app",function(a){using("util").as(function(b){twttr.provide("twttr.app",twttr.merge({init:function(a){var b=this;this.signal("init"),this.$globalActions=$("#global-actions");var c=[">allCodeLoaded"];a&&c.push(">wokeUp"),using(c,function(){b._fullyLoaded=!0,b.signal("fullyLoaded")})},fullyLoaded:function(){return!!this._fullyLoaded},switchToPage:function(a){this.trigger("switchToPage",a.toLowerCase());if(this.currentPageName()!==a){var c=this.currentPage();this._currentPageName=a;var d=b.util.capitalize(b.util.camelize(a)),e=!1,f=this.pages[a];f||(f=this.pages[a]=new twttr.PagePromise(d),f.whenUnavailable(function(){twttr.app.switchToPage("404").send("notFound")}),f.bind("loginRequired",function(){twttr.ScribeBuffer.instance.send(),twttr.app.switchToPage("Login").send("loginRequired")}),f.bind("notFound",function(){twttr.app.switchToPage("404").send("notFound")}),f.build(),e=!0),c?(c.send("onSwitchAway"),c.$node.detach(),$("#page-container").empty().append(f.$node)):f.one("rendered",function(){$("#page-container").has(f.$node).length>0||$("#page-container").empty().append(f.$node)}),this.highlightGlobalNav(a),f.send("onSwitchTo"),e&&(f.send("onFirstSwitch"),f.send("shouldAutoRender",function(a){a&&f.send("render")})),!c&&window.ttft&&(window.ttft.firstPage=a)}else this.currentPage().send("initializeProfiler");return this.currentPage()},highlightGlobalNav:function(a,b){a=a.toLowerCase(),this.$globalActions.find("li.active[data-global-action]").removeClass("active"),a==="profile"&&b==undefined&&(b=twttr.helpers.isCurrentUser($("div.profile-header").attr("data-screen-name"))),a&&(a!=="profile"||b)&&this.$globalActions.find("li[data-global-action='"+a+"']").addClass("active")},currentPage:function(){return this.pages[this._currentPageName]},currentPageName:function(){return this._currentPageName},getPage:function(a){return this.pages[a]},isOnPage:function(a){return a===this.currentPageName()},recalculatePadding:function(){var a=$("div.js-banners").children().length<=1;a?this.resetPadding():this._resizeTopBar()},_resizeTopBar:function(){var a=20,b=twttr.isT1?$(".js-banners").height():$(".js-topbar").height()+a,c=$("#page-outer");c.css({"padding-top":b}),twttr.isT1&&$("#message-drawer").css({marginTop:b}),this._resizeDetailsPane()},_resizeDetailsPane:function(){var a=this.currentPage();a&&a.send("resizeDetailsPane")},_repositionDetailsPane:function(){var a=twttr.app.currentPage();a&&a.send("repositionDetailsPane")},resetPadding:function(){var a=$("#page-outer");a.css({"padding-top":""}),twttr.isT1&&$("#message-drawer").css({marginTop:""}),this._resizeDetailsPane()},addComponentToAppBody:function(a){a.bind("destroyed",function(){twttr.app.recalculatePadding(),twttr.app._repositionDetailsPane()}),$("#page-outer").prepend(a.$node)},pages:{},caches:{deletedTweets:new twttr.cache.LocalProvider("deleted_tweets"),dmThreads:new twttr.cache.LocalProvider("dm_threads"),draftTweets:new twttr.cache.LocalProvider("draft_tweets")}},twttr.EventProvider)),a(twttr.app)})});provide("singletons/external_url_store",function(a){using().as(function(b){twttr.klass("twttr.externalURLStoreSingleton",function(){twttr.cache.NamespacedStore.apply(this,["external_urls"])}).subclassOf(twttr.cache.NamespacedStore).methods({ttl:36e5,cache_key:"external_url",minimumDuration:1e3,scribeFocusAfterClick:function(){if(!twttr.decider.isAvailable("eurl_dwell_time_store"))return;var a=this.getData();if(a){var b=this.currentTimeAsInt()-a.clickTime;if(b>this.minimumDuration){var c=twttr.merge(a.scribeData,{duration_ms:b});trackClient({action:"refocus"},c),this.clear()}}},setData:function(a,b){if(!twttr.decider.isAvailable("eurl_dwell_time_store"))return;if(this.isNotTwitterURL(a)){var c=twttr.merge(b.scribeData,{event_info:"external_link",url:a}),d={clickTime:this.currentTimeAsInt(),scribeData:c};this.constructor.uber.setData.apply(this,[d])}},isNotTwitterURL:function(a){var b=a.split("/");return b[0].indexOf("twitter.com")==-1&&b[2].indexOf("twitter.com")==-1},currentTimeAsInt:function(){return+(new Date)}}),twttr.externalURLStore=new twttr.externalURLStoreSingleton,twttr.app.waitForSignal("init",function(){twttr.externalURLStore.scribeFocusAfterClick()}),a(twttr.externalURLStore)})});provide("singletons/Router",function(a){using().as(function(b){var c=/^\/*/,d=/\/*$/;twttr.klass("twttr.Router",function(){this._routes=[],this.routeMethodsForMustache={},this.routeMethods={},this.viewedPagesCount=0,this.pageViewsPerRefresh=50,this.routingEnabled=!0,this.swiftRoutes={}}).statics(twttr.EventProvider).statics({match:function(a,b){a=this.normalizePath(a),b=this.normalizePath(b);var c={};if(a===b)return c;if(a==="")return!1;var d=a.split("/"),e=b.split("/");if(d.length!==e.length)return!1;for(var f=0;f<d.length;f++)if(e[f].charAt(0)===":"){if(d[f].match(/^\s*$/))return!1;c[e[f].slice(1)]=decodeURIComponent(d[f])}else if(d[f]!==e[f])return!1;return c},generatePathFunction:function(a){var b=this;return function(c){var d=b.supplantPath(a,c);return d===!1&&!twttr.isTestEnv&&console.error("Failed to generate a path",a,c),d}},supplantPath:function(a,b){var c=a.split("#").join("/#").split("/"),d=[];for(var e=0;e<c.length;e++){var f=c[e],g=!1;f.charAt(0)==="#"&&(f=f.slice(1),g=!0);if(f.charAt(0)===":"){var i=f.slice(1);if(typeof b[i]=="undefined")return!1;f=b[i],typeof f=="function"&&(f=f.call(b)),f=encodeURIComponent(f)}g&&(f="#"+f),d.push(f)}return d.join("/").split("/#").join("#")},sanitizeRedirectUrl:function(a){var b=a,c=b.match(twttr.util.uriRegex),d=c[1];return d&&d.indexOf("javascript")>=0&&(b="http://twitter.com/"),b},performRedirect:function(a){window.location.assign(this.sanitizeRedirectUrl(a))},getCurrentPath:function(){return this.getPathFromHref(window.location.href)},getPathFromHref:function(a){var b=a.split("/").slice(2).join("/");b.indexOf("#")===-1&&(b+="#");var c=b.split("#"),d=c[0],e=c[1];d.indexOf("/")===-1&&(d+="/");var f=d.split("/").slice(1).join("/");return f.indexOf("?")>=0&&(f=f.slice(0,f.indexOf("?"))),e.indexOf("?")>=0&&(e=e.slice(0,e.indexOf("?"))),"/"+f+"#"+e},getCurrentQueryStringParams:function(){return this.getQueryStringParamsFromHref(window.location.href)},getQueryStringParamsFromHref:function(a){var b=a.split("#"),c=b[0].split("?")[1]||"",d=(b[1]||"").split("?")[1]||"";return twttr.merge(this.parseQueryString(c),this.parseQueryString(d))},parseQueryString:function(a){var b=a.split("&"),c={};for(var d=0;d<b.length;d++)if(b[d]){var e=b[d].split("=");c[decodeURIComponent(e[0])]=e[1]?decodeURIComponent(e[1].replace(/\+/g,"%20")):!0}return c},getHashUpdate:function(a,b){var c=this.normalizePath(a),d=this.normalizePath(b);if(c===d)return!1;a=a.split("/#").join("#"),b=b.split("/#").join("#"),a.indexOf("#")===-1&&(a+="#"),b.indexOf("#")===-1&&(b+="#");var e=a.split("#"),f=b.split("#");return e[0]===f[0]?"#"+f[1]:e[1]===""&&f[1]===""?"#"+f[0].slice(a.length):"#"+d},normalizePath:function(a){return this.trimSlashes(a.replace(/\/?#(!|%21)?\/?/g,"/"))},shouldRedirect:function(a,b){var c=b.split("#"),d=a.split("#");return this.trimSlashes(c[0])===this.trimSlashes(d[0])?!1:this.trimSlashes(c[1])===this.trimSlashes(d[0])?!1:!0},trimSlashes:function(a){return a?a.replace(c,"").replace(d,""):a},detectHistorySupport:function(){return!!window.history&&!!history.pushState}}).methods(twttr.EventProvider).methods({startRouting:function(){this._callCurrentRoutingAction(),this._listenToUrl()},route:function(a,b,c){var d=this._addRouteMethods(a,b);return this._routes.push({name:a,path:b,fn:c,method:d}),d},staticRoute:function(a,b){var c=this;this.route(a,b,function(){c.constructor.performRedirect(b)})},redirectRoute:function(a,b,c){var d=this;this.route(a,b,function(a,b){d.redirectTo(d.routeMethods[c](a,b))})},redirectTo:function(a){this.performRoute(a,!0)},routeTo:function(a){this.performRoute(a,!1)},performRoute:function(a,b){if(!this.routingEnabled)return;if(this.pageViewsPerRefresh<=this.viewedPagesCount)return this.constructor.performRedirect(a);this.viewedPagesCount++;if(!this._useHistory()&&this.constructor.shouldRedirect(this.constructor.getCurrentPath(),a))return this.constructor.performRedirect(a);this._changeUrlAndCallAction(a,b)},shouldRedirectTo:function(a){return this._useHistory()?!1:this.constructor.shouldRedirect(this.constructor.getCurrentPath(),a)},findMatchingRoute:function(a){for(var b=0;b<this._routes.length;b++){var c=this.constructor.match(a,this._routes[b].path);if(c)return{name:this._routes[b].name,fn:this._routes[b].fn,args:c,method:this._routes[b].method,path:this._routes[b].path}}return!1},getCurrentRoute:function(){return this.findMatchingRoute(this.constructor.getCurrentPath())},_setLocationHash:function(a){$.browser.safari&&!navigator.userAgent.match(/Chrome/)?window.location.href=window.location.href.split("#")[0]+a:window.location.hash=a},replaceHashWithoutRouting:function(a){this.ignoreNextHashChange=!0,window.location.hash=a},_changeUrlAndCallAction:function(a,b){if(!this.routingEnabled)return;var c=!1,d=!1,e=this.findMatchingRoute(a);this._useHistory()&&(b?window.history.replaceState(null,null,a):window.history.pushState(null,null,a),d=!0);var f=this.constructor.getHashUpdate(this.constructor.getCurrentPath(),a);f&&(b?window.location.replace(a):(this._setLocationHash(f),c=!0,d=!0)),c||this._callRoutingActionFor(e),this.trigger("routed",[e,a]),d&&this.trigger("urlChanged",[e])},_callRoutingActionForPath:function(a){var b=this.findMatchingRoute(a);return b&&this.trigger("routeFollowed",[b,a]),this._callRoutingActionFor(b)},_callCurrentRoutingAction:function(){return this._callRoutingActionForPath(this.constructor.getCurrentPath())},_callRoutingActionFor:function(a){if(!this.routingEnabled)return;if(!a){this.trigger("routeNotFound");return}return a.fn.call(null,a.args,this.constructor.getCurrentQueryStringParams())},lookupAndNormalizeRoute:function(a){var b=this.findMatchingRoute(a);return b?this.routeMethods[b.name](b.args):a},_addRouteMethods:function(a,b){var c=this.constructor.generatePathFunction(b),d=a+"Path";return this[d]=c,this.routeMethods[a]=c,this.trigger("routeAdded",[d,c]),c},_listenToUrl:function(){var a=this;$(window).hashchange(function(b){if(a.ignoreNextHashChange){a.ignoreNextHashChange=!1;return}a._callCurrentRoutingAction()}),this.constructor.detectHistorySupport()&&$(window).bind("popstate",function(b){a._useHistory()&&a._callCurrentRoutingAction()})},_useHistory:function(){return twttr.secrets&&twttr.secrets.html5Routing&&this.constructor.detectHistorySupport()},_current_path_and_hash:function(){return window.location.pathname+window.location.hash},_current_query_params:function(){return window.location.search},shouldRedirectToCanonicalUrl:function(a){var b=this.swiftRoutes[a.name];if(!b||!twttr.decider.isAvailable(b.decider))return!1;a.args.screen_name&&(a.args.screen_name=a.args.screen_name.replace(/^@/,""));var c=a.method(a.args),d=this._current_path_and_hash().split("?")[0];if(d!=="/"&&d!==c){var e=this._current_query_params();return c.toLowerCase().replace(/(?=#|$)/,function(){return e})}return!1}}),a(twttr.Router)})});provide("streams/Stream",function(a){using("_","mixins/serverRenderableObject").as(function(b,_,c){twttr.stream=twttr.klass;var d=twttr.klass("twttr.streams.Stream",function(a,b,c){this.params=a||{},b=b||[],b instanceof twttr.API.util.BaseCollection&&(b=b.array),this.items=b,this.screenName=this.params.screenName,this.newItemsCount=this.items.length,this.itemViewClass=this.params.itemViewClass||this.itemViewClass,this.streamItemClass=this.params.streamItemClass||"stream-item",this.additionalStreamItemClass=this.params.additionalStreamItemClass||this.additionalStreamItemClass,this.oldItemsCount=0,this._page=1,this.focusedItemId=null,this.highlightedItemId=null,this.scribbler=this.params.scribbler||new twttr.Scribbler(!1),this.scribeComponentName="stream",this.ignoreScribeItemPosition=!0,this.streamManager=c,this.streamManagerDomNodeSelector=c?c.domNodeSelector:null,this.params._setHeader&&this.methods({_setHeader:a._setHeader});var d=twttr.views[this.streamViewClass];d||(twttr.development&&console.warn("Stream view class '"+this.streamViewClass+"' not found. Defaulting to twttr.views.Stream"),d=twttr.views.Stream),this.$node=this.$domNode(function(){return(new d({})).$html()}),twttr.isT1&&this.$node.attr("data-component-term",this.scribeComponentName)}).mixin(c).methods(twttr.EventProvider).methods({domNodeSelector:function(){if(!this.streamManagerDomNodeSelector)return null;var a=this._namespace.match(/\.([^.]+)$/)[1];return streamClass=twttr.util.underscore(a)+"-stream",this.streamManagerDomNodeSelector+" div."+streamClass},NEW_ITEMS_COUNT_MAX:100,NEW_ITEMS_COUNT_CUTOFF:40,_shouldCache:!0,_expandable:!0,streamViewClass:"Stream",itemViewClass:null,afterSwitchingToAgain:function(a){a?a():$.noop},afterFirstSwitchingTo:function(a){a?a():$.noop},beforeSwitchingAway:function(){},_setTitle:function(){},_getHeaderComponent:function(){},hasPromotedContent:function(){return!1},getMoreOldItems:function(a){var b=this;if(this._loadingMoreLock||this.noMoreOldItems||this._errorComponent)return;var c=this.page||this.cursor||this._sinceId;this.isLoadingMore(),using(twttr.bundleMore,function(){b._fetchItems(function(d,e){if(e!==twttr.streams.SUCCESS)b._showError(e);else{var f=b.items.slice(b.items.length-b.oldItemsCount);c&&c>0?b.onGotOldItems(f):b.onGotInitialResults(b.items),b._showOldItems(),b._page++}b.doneLoadingMore(),b.updateHeader(),a&&a(d,e),twttr.decider.isInfiniteScroll()&&b.showLoadingSpinner()})})},getCurrentlyFocusedItem:function(){return this.focusedItemId?this.$streamItems().find(this.itemSelector(this.focusedItemId)):null},getCurrentlyHighlightedItem:function(){return this.highlightedItemId?this.$streamItems().find(this.itemSelector(this.highlightedItemId)):null},getFirstItem:function(){return this.$streamItems().find("."+this.streamItemClass+":first")},focusItem:function(a){this.focusedItemId=a.attr("data-item-id"),a.focus()},unfocusItem:function(a){this.focusedItemId=null,a.blur()},highlightItem:function(a){var b=this.getCurrentlyHighlightedItem();b&&b.removeClass("hovered-stream-item").removeClass("js-had-hovered-stream-item"),this.focusedItemId=a.attr("data-item-id"),this.highlightedItemId=a.attr("data-item-id"),a.hasClass("open")?a.addClass("js-had-hovered-stream-item"):a.addClass("hovered-stream-item")},highlightNext:function(){this.shiftHighlight(!1)},highlightPrevious:function(){this.shiftHighlight(!0)},shiftHighlight:function(a){var b=this.getCurrentlyHighlightedItem();if(!b){this.highlightItem(this.getFirstItem());return}var c=a?b.prev():b.next();c.length&&(this.highlightItem(c),this.scrollStreamTo(c))},scrollStreamTo:function(a){var b=a.offset().top,c=Math.round(b-twttr.$win.height()/2);twttr.$win.scrollTop(c)},dom:function(){return this.$node},$streamItems:function(){return this.$find("div.stream-items")},$find:function(){var a=this.dom();return a.find.apply(a,arguments)},itemSelector:function(a){return"."+this.streamItemClass+"[data-item-id='"+a+"']"},selectedItem:function(a){return this.$streamItems().find(this.itemSelector(a))},unshift:function(a){twttr.is.array(a)?(this.newItemsCount+=a.length,this.items.unshift.apply(this.items,a)):(this.newItemsCount+=arguments.length,this.items.unshift(arguments)),this.trigger("newItemsCountChanged",[this.newItemsCount])},addAsNewItem:function(a){this.items.unshift(a),this.newItemsCount++,this.allowRerender(a)},push:function(a){twttr.is.array(a)?(this.oldItemsCount+=a.length,this.items.push.apply(this.items,a)):(this.oldItemsCount+=arguments.length,this.items.push(arguments))},splice:function(a,b){var c;twttr.is.array(b)?(c=[a,0].concat(b),this.items.splice.apply(this.items,c)):(c=Array.prototype.slice.call(arguments),c.splice(1,0,0),this.items.splice.apply(this.items,c))},markAsRendered:function(a){this.itemIds=this.itemIds||{};var b=this.streamItemId?this.streamItemId(a):a.id;this.itemIds[b]=1},isDuplicate:function(a){var b=this.streamItemId?this.streamItemId(a):a.id;return this.itemIds=this.itemIds||{},!!this.itemIds[b]},allowRerender:function(a){var b=this.streamItemId?this.streamItemId(a):a.id;this.itemIds=this.itemIds||{},delete this.itemIds[b]},_renderItemHtml:function(a){function b(){return f.render_withheld&&f.render_withheld()}var c=this.streamItemId?this.streamItemId(a):a.id;this.markAsRendered(a);var d;twttr.is.fn(this.itemViewClass)?d=this.itemViewClass(a):d=twttr.views[this.itemViewClass];var e=a;this.itemForRender&&twttr.is.fn(this.itemForRender)&&(e=this.itemForRender.call(this,a));var f=new d(e);f.query=this.params.query||f.query;var g=twttr.views.StreamItem;this.itemViewWrapperClass&&(g=twttr.views[this.itemViewWrapperClass]);var i=this.streamItemClass?[this.streamItemClass]:[];if(this.additionalStreamItemClass){var j=twttr.is.fn(this.additionalStreamItemClass)?this.additionalStreamItemClass(a):this.additionalStreamItemClass;i.push(j)}if(this._expandable&&twttr.decider.isExpando()&&!b()){i.push("expanding-stream-item");if(twttr.expando!==!0&&twttr.expando!=="expando")switch(twttr.expando){case"labels":i.push("yes-to-labels");break;case"more":i.push("more-not-open");break;case"colorful":i.push("colorful-links")}}return b()?i.push("withheld-item"):f.is_withheld&&f.is_withheld()&&f.is_current_user()&&i.push("withheld-own-item"),(new g({item_html:f.html(),item_id:c,item_type:this.streamItemType,item_class:i.join(" ")})).html()},_renderItemsHtml:function(a){var b=this,c=[];return $.each(a,function(a,d){b.isDuplicate(d)||c.push(b._renderItemHtml(d))}),c.join("")},_renderItems:function(a){return $(this._renderItemsHtml(a))},remove:function(a){this.selectedItem(a).remove()},rerenderItem:function(a,b){this.selectedItem(a).replaceWith(this._renderItemHtml(b))},_showNewItems:function(a){var b=this.$streamItems();this.beforeShowNewItems(),this.newItemsCount>this.NEW_ITEMS_COUNT_MAX&&(b.empty(),this.items=this.items.slice(0,this.NEW_ITEMS_COUNT_CUTOFF),this.newItemsCount=this.NEW_ITEMS_COUNT_CUTOFF);var c=this.items.slice(0,this.newItemsCount),d=this._renderItems(c);a=="initial"?this.onGotInitialResults(this.items):a!="initial"&&this.newItemsCount>0&&this.onGotNewItems(c),b.prepend(d),this.onShowNewItems(d),this.newItemsCount=0,this.trigger("newItemsCountChanged",[0])},_showOldItems:function(a){var b=this.$streamItems();this.beforeShowOldItems();var c=this.items.slice(this.items.length-this.oldItemsCount),d=this._renderItems(c);b.append(d),this.onShowOldItems(d),this.oldItemsCount=0},render:function(){this._showNewItems("initial"),this._showOldItems(!0)},isEmpty:function(){return this.items.length===0},reachedTheEnd:function(){this.noMoreOldItems||(this.noMoreOldItems=!0,this.markStreamEnd(),this.hideLoadingSpinner(),this.trigger("streamEnd"))},markStreamEnd:function(){var a=this;if(this._alreadyMarkedEnd)return;this._alreadyMarkedEnd=!0,using(twttr.bundleMore,function(){a.endOfStreamComponent=a.isEmpty()?a._getEmptyStreamComponent():a._getStreamEndComponent(),a.endOfStreamComponent&&a.endOfStreamComponent.$node.appendTo(a.$node)})},switchEndOfStreamMarker:function(){if(this.endOfStreamComponent){var a=this._getStreamEndComponent();a&&(this.endOfStreamComponent.$node.replaceWith(a.$node),this.endOfStreamComponent=a)}},_showError:function(a){var b=this;using(twttr.bundleMore,function(){b.hideLoadingSpinner(),b._errorComponent&&(b._errorComponent.destroy(),delete b._errorComponent);var c=b._getStreamErrorComponent(a);if(!c)return;c.bind("tryAgain",function(a){c.destroy(),delete b._errorComponent,b.getMoreOldItems()}),b._errorComponent=c,c.$node.appendTo(b.dom())})},_getStreamEndComponent:function(){return new twttr.components.StreamEnd(this._getStreamEndHtml(),this._getStreamEndShowBird())},_getEmptyStreamComponent:function(){return new twttr.components.StreamEnd(this._getEmptyStreamHtml())},_getStreamErrorComponent:function(a){return a===twttr.streams.DECIDER?new twttr.components.StreamEnd(this._getStreamErrorHtml(a)):new twttr.components.StreamWhaleEnd(this._getStreamWhaleText())},_getStreamLoadingComponent:function(){return new twttr.views.StreamLoading},_getStreamWhaleText:function(){return _("加载推文似乎需要更多时间。      ")},_getEmptyStreamHtml:function(){},_getStreamEndHtml:function(){return this.items.length<20?"":_("<a href='#' class='back-to-top'>返回顶部 &uarr;</a>")},_getStreamErrorHtml:function(a){return _("此功能暂时不可用。")},_getStreamEndShowBird:function(){return!0},isLoadingMore:function(){this._loadingMoreLock=!0,this.showLoadingSpinner()},showLoadingSpinner:function(){var a=this.dom();a.find("div.stream-loading").length===0&&!this._alreadyMarkedEnd&&!this._errorComponent&&this._getStreamLoadingComponent().render(a,"append")},stream_user_is_current_user:function(){return twttr.currentUser&&this.screenName&&twttr.currentUser.screenName===this.screenName},doneLoadingMore:function(){this._loadingMoreLock=!1,this.hideLoadingSpinner(),this.trigger("doneLoadingMore")},hideLoadingSpinner:function(){this.dom().find("div.stream-loading").remove()},onGotInitialResults:function(a){this._scribeResults("initial",a)},onInsertItems:function(a){this._scribeResults("insert",a)},onGotNewItems:function(a){this._scribeResults("get_newer",a)},onGotOldItems:function(a){this._scribeResults("get_older",a)},_scribeResults:function(a,b,c){$.inArray(a,["initial","error","insert"])==-1&&this.scribbler.scribe({component:"stream",action:a},{item_count:b.length,cursor_or_page:this._cursorOrPage()})},_scribeEmptyResults:function(a,b,c){var d=this._cursorOrPage();if(a=="error"||a=="initial"&&!b.length){var e={item_count:0,event_value:0,referring_event:a};d&&(e.cursor_or_page=d),a=="error"&&c&&c.status_code&&(e.status_code=c.status_code),this.scribbler.scribe({component:"stream",action:a=="error"?"error":"no_results"},e)}else if(a!="initial"&&a!="insert"){var f={item_count:b.length};d&&(f.cursor_or_page=d),this.scribbler.scribe({component:"stream",action:a},f)}},_cursorOrPage:function(){return this._sinceId||this.cursor||this.page&&this.page>0&&this.page||this._page&&this._page>0&&this._page||-1},_registerAddToStreamEvent:function(a,b,c){var d=this;this._registerEvent(a,b,function(){var a=c.apply(this,arguments);a&&(d.addAsNewItem(a),d._showNewItems())})},_registerRemoveFromStreamEvent:function(a,b,c,d){var e=this;this._registerEvent(a,b,function(){var a=c.apply(this,arguments);a&&(d=d||"id",e.remove(a[d]),e.items=twttr.filter(e.items,function(b){return b[d]!==a[d]?b:null}),e.isEmpty()&&e.reachedTheEnd())})},_registerUpdateStreamEvent:function(a,b,c,d){var e=this;this._registerEvent(a,b,function(){var a=c.apply(this,arguments);a&&(d=d||"id",e.items=twttr.map(e.items,function(b){return b[d]===a[d]?a:b}),e.rerenderItem(a[d||"id"],a))})},_registerEvent:function(a,b,c){this._boundEvents||(this._boundEvents=[]),a.bind(b,c),this._boundEvents.push({obj:a,name:b,cb:c})},unbindEvents:function(){this._boundEvents&&(twttr.each(this._boundEvents,function(a){a.obj.unbind(a.name,a.cb)}),this._boundEvents=[])},beforeShowNewItems:function(){},beforeShowOldItems:function(){},onShowNewItems:function(a){},onShowOldItems:function(a){}});twttr.aug(twttr.streams,{SUCCESS:1,ERROR:2,PROTECTED:3,DECIDER:4,WHALE:5,TIMEOUT:6}),twttr.isT1?d.methods({_setHeader:null,_expandable:!1,updateHeader:function(){var a=this.streamManager&&this.streamManager.$headerContainer();if(!a)return;this._updateHeaderFromStream(a)},_updateHeaderFromStream:function(a){}}):d.methods({updateHeader:function(){this.header||(this.header=this._getHeaderComponent())&&this.$find("div.stream-items").prepend(this.header.$node.addClass("stream-header"))}}),a(twttr.streams.Stream)})});provide("scribbles",function(a){using().as(function(b){twttr.augmentString("twttr.scribbles",{logViewProfileDetails:function(a){var b=$(this),c={},d=$(a.target),e="view-profile";d.is("img")?c.target="image":d.is("a")&&(c.target="link");if(b.is("div.dashboard .user-profile-link"))c.component="dashboard",b.is(".new-followers .user-profile-link")&&(c.subcomponent="new-followers");else if(b.is("div.details-pane .user-profile-link, div.details-pane .twitter-atreply")){c.component="details-pane";if(b.is(".related-tweets .user-profile-link, .related-tweets .twitter-atreply")){var f=b.closest(".tweet");twttr.viewHelpers.addRelatedTweetsLogging(f,c,e)}}else b.is(".stream-tweet .user-profile-link, .stream-tweet .twitter-atreply")?c.component="stream":b.is(".twttr-dialog .user-profile-link")&&(c.component="dialog",c.dialog_type=b.closest(".twttr-dialog").attr("type"));c.input="click",c.tweet_id=b.closest(".tweet").attr("data-tweet-id")||"",c.profile_id=b.data("user-id")||b.data("screen-name")||b.closest(".js-profile-popup-actionable").data("user-id"),scribble(e,c)}}),a(twttr.scribbles)})});provide("multiGlobals/client_app_tracking",function(a){using("util","constants").as(function(b){(function(){twttr.Scribbler.clientAppDefaultTerms=function(){var a={client:"web"},c=twttr.audit.currentPage();c&&(a.page=b.util.underscore(c));var d=twttr.audit.currentAction();return d&&(a.section=b.util.underscore(d)),a},twttr.Scribbler.clientAppEventNameGenerator=function(a,b){return b=b||twttr.Scribbler.clientAppDefaultTerms(),a=twttr.merge(b,a),[a.client,a.page,a.section,a.component,a.element,a.action].join(":")},twttr.Scribbler.clientEvent=new twttr.Scribbler({},{noob_level:function(){var a=twttr.loggedIn?twttr.helpers.userNoobLevel(twttr.currentUser):-1;return a>=0?a:null},internal_referer:function(){return twttr.audit&&twttr.audit.path(1)||null},referring_event:function(a){if(twttr.isT1&&a){if(twttr.is.object(a)&&a["action"]=="impression")return twttr.clicks.lastClick();if(twttr.is.string(a)){var b=a.split(":");if(b[b.length-1]=="impression")return twttr.clicks.lastClick()}}}},"client_event",twttr.Scribbler.clientAppEventNameGenerator),twttr.Scribbler.getElementEventNameTerms=function(a){var b=$(a),c=b.closest("[data-element-term]"),d=b.closest("[data-component-term]"),e=b.closest("[data-section-term]"),f=c.attr("data-element-term");componentTerm=d.attr("data-component-term"),sectionTerm=e.attr("data-section-term");var g={};if(componentTerm&&f)g.component=componentTerm+"_"+f;else if(componentTerm||f)g.component=componentTerm||f;return sectionTerm&&(g.section=sectionTerm),g},twttr.Scribbler.clientEvent.spawnWithTerms=function(a,b){var c=function(b){var c=twttr.Scribbler.clientAppDefaultTerms();return scribeTerms=twttr.merge({},b,a),twttr.Scribbler.clientAppEventNameGenerator(scribeTerms,c)},d=this.spawn(b,c);return d.spawnWithTerms=this.spawnWithTerms,d},window.trackClient=twttr.trackClient=function(a,b){return arguments[1]&&typeof arguments[1]=="string"&&(arguments[1]={context:arguments[1]}),twttr.Scribbler.clientEvent.scribe.apply(twttr.Scribbler.clientEvent,arguments)},window.trackElement=twttr.trackElement=function(a,b,c){typeof b=="string"&&(b={action:b});var d=twttr.merge(twttr.Scribbler.getElementEventNameTerms(a),b);d.component&&trackClient(d,c)},window._scribble=function(){twttr.decider.isAvailable("old_webclient_events")&&twttr.Scribbler.global.scribe.apply(twttr.Scribbler.global,arguments)}})(),twttr.app.waitForSignal("init",function(){twttr.isT1?twttr.app.bind("streamSwitchedTo",function(a,b){var c={},d=b.pageNameUnderscore;b.addImpressionData&&b.addImpressionData(c),trackClient({action:"impression"},c)}):($("#logo").click(function(){trackClient({section:"top_nav",component:"logo",action:"click"})}),$("#global-actions li a").click(function(){var a=$(this).parent().attr("data-global-action");trackClient({section:"top_nav",component:a+"_nav",action:"click"})})),$("button.js-global-new-tweet,a.js-global-new-tweet").click(function(){trackClient({section:"top_nav",component:"new_tweet_button",action:"click"})}),twttr.decider.isAvailable("scribe_general_reliability_events")&&window.setTimeout(function(){twttr.ScribeBuffer.instance.sendReliabilityEvent(function(){trackClient({page:"scribe",section:"reliability",component:"client",action:"impression"})})},3e4)}),a()})});provide("mixins/streamablePageDetailsPane",function(a){using("_","util").as(function(b,_){var c=twttr.klass.mixin("twttr.mixins.streamablePageDetailsPane",function(){return this.click({".stream span.js-actions, .stream ul.js-actions":function(a,b){return a.stopPropagation(),a.preventDefault(),!1},"div.details-pane div.stream-item":function(a,b){if($(a.target).is(".twitter-timeline-link"))return;var c=b.find(".tweet"),d=c.attr("data-tweet-id"),e={component:"details-pane"};b.is(".related-tweets .stream-item")?twttr.viewHelpers.addRelatedTweetsLogging(c,e,"tweet-click"):b.is(".in-reply-to .stream-item")&&(e.subcomponent="in-reply-to"),e.embedded_media_types=c.find(".icons .media").map(function(a,b){var c=$(b);return[c.data("media-type"),c.data("media-class")]}).get();var f=c.attr("data-impression-id");this.loadItemInDetailsPane(d,"tweet",{log:e,push:!0,impressionId:f})},"div.details-pane .user-detailed-list-item .user-screen-name":function(a,b){var c=parseInt(b.attr("data-user-id"),10);return this.loadItemInDetailsPane(c,"user",{push:!0}),a.stopPropagation(),a.preventDefault(),!1},".stream-tabs .stream-tab > a, .stream-tabs .dropdown-link .stream-link > a":function(a,b){var c=b.parent(),d=b.attr("href");if(d!="#"){var e=twttr.router.findMatchingRoute(d);if(e&&e.fn.pageName&&e.fn.actionName){var f=twttr.util.underscore(e.fn.actionName),g=twttr.util.underscore(e.fn.pageName);trackClient({page:g,section:f,component:"stream_nav_tab",action:"click"})}}else if(!c.hasClass("stream-tab-lists")&&c.closest(".stream-tab-lists").length){var i=twttr.audit.currentPage()=="home"?"list_in_home":"lists";trackClient({section:i,component:"stream_nav_tab",action:"create"})}},".stream .stream-item":function(a,b){$eventTarget=$(a.target);var c=$eventTarget.is("div.stream-item a.tweet-timestamp, div.stream-item a.tweet-timestamp *"),d=$eventTarget.is("div.stream-item a.twitter-timeline-link"),e=$eventTarget.is("div.stream-user-buttons *"),f=$eventTarget.parents("div.stream-item").is("div.feedback-shown"),g=$eventTarget.is('div.stream-item a.twitter-timeline-link[data-twitter-media-url="true"]'),i=$eventTarget.is("div.withheld-item *"),j=b.is(".js-activity")&&!b.is(".js-activity-retweet, .js-activity-favorite, .js-activity-reply, .js-activity-mention");if(c||d&&!g||e||f||j||i)return;this.toggleFocus(b),twttr.decider.isAvailable("turkey_prevent_timeline_click")&&g&&a.preventDefault()},".stream-item-activity .user-content-medium":function(a,b){var c=b.parents(".stream-item"),d=b.closest(".sub-stream-item"),e=c.hasClass("focused-stream-item")&&d.hasClass("expand-activity-item")&&this.panes.size()<=1;return e||(d.siblings().removeClass("expand-activity-item"),d.addClass("expand-activity-item"),c.removeClass("focused-stream-item")),this.toggleFocus(c),!1},".stream .user-profile-link, .stream .twitter-atreply, div.details-pane .user-profile-link, div.details-pane .twitter-atreply":function(a,b){var c=twttr.helpers.getUserIdentifier(b),d={},e={component:"stream"};d.log=e,b.is("div.details-pane .user-profile-link, div.details-pane .twitter-atreply")&&(d.push=!0,e.component="details-pane");var f=b.closest(".promoted-tweet").attr("data-impression-id")||b.closest(".promoted-account").attr("data-impression-id");b.is("div.details-pane .user-profile-link, .stream .user-profile-link")&&(d.impressionId=f),twttr.app.isOnPage("search")&&b.is(".stream .user-profile-link, .stream .twitter-atreply")&&(d.searchClick=b.closest(".stream-tweet")),twttr.scribbles.logViewProfileDetails.call(b,a);var g=b.is("div.withheld-item *");return g||this.loadItemInDetailsPane(c,"user",d),a.stopPropagation(),a.preventDefault(),!1},".stream .twitter-hashtag":function(a,b){a.stopPropagation()},".stream .twitter-place, div.details-pane .twitter-place":function(a,b){var c=b.closest(".tweet").attr("data-tweet-id"),d={placeId:b.attr("data-place-id")};return b.is("div.details-pane .js-tweets-at-this-place")&&(d.push=!0),this.loadItemInDetailsPane(c,"tweet_geo",d),!1},".stream .twitter-listname":function(a,b){return twttr.router.routeTo(twttr.router.lookupAndNormalizeRoute($this.attr("href"))),a.stopPropagation(),a.preventDefault(),!1},".js-tweet-geo-text, div.details-pane .js-tweets-at-this-place":function(a,b){var c=b.attr("data-tweet-id"),d={placeId:b.attr("data-place-id")};return b.is("div.details-pane .js-tweets-at-this-place, div.details-pane .tweet-geo-text")&&(d.push=!0),this.loadItemInDetailsPane(c,"tweet_geo",d),a.stopPropagation(),a.preventDefault(),!1},".pane-toolbar a.pane-close":function(a,b){return this.unfocusStreamItem(),a.stopPropagation(),a.preventDefault(),!1},".pane-toolbar a.pane-back":function(a,b){return this.panes.pop(),a.stopPropagation(),a.preventDefault(),!1}}).focus({".stream span.js-actions, .stream ul.js-actions":function(a,b){return a.stopPropagation(),!1}}).methods({toggleFocus:function(a){a.hasClass("focused-stream-item")&&this.panes.size()<=1?(this.streamManager.getCurrent().unfocusItem(a),this.unfocusStreamItem()):(this.streamManager.getCurrent().focusItem(a),this.focusStreamItem(a))},focusStreamItem:function(a){a.addClass("focused-stream-item").siblings().removeClass("focused-stream-item").removeClass("light");var b,c,d=a.attr("data-item-type"),e={};d==="list"||d==="message_thread"||d==="tweet"?b=a.attr("data-item-id"):d==="activity"?(a.is(".js-activity-reply, .js-activity-mention")?c=a.find(".stream-item-content"):a.is(".js-activity-retweet, .js-activity-favorite")?(c=a.find(".activity-truncated-tweet .tweet"),c.length||(c=a.find(".sub-stream-item:not('.sub-stream-item-hidden') .stream-item-content"))):c=a.find(".expand-activity-item .stream-item-content"),c.is(".tweet")?(d="tweet",b=c.attr("data-item-id")):c.is(".user-content-medium")&&(d="user",b=parseInt(c.attr("data-user-id"),10)),e.streamType="activity-stream",e.itemType=d,e.activityType=a.find(".stream-item-activity").attr("data-activity-type"),e.activityId=b):b=parseInt(a.attr("data-item-id"),10),e.stream=this.streamManager.getCurrent().constructor._name,e.component="stream",e.page_number=this.streamManager.getCurrent()._page;var f=a.find(".tweet").attr("data-impression-id")||a.find(".user-content-medium").attr("data-impression-id");d==="tweet"&&(e.embedded_media_types=a.find(".icons .media").map(function(a,b){return[[b.getAttribute("data-media-type"),b.getAttribute("data-media-class")]]}).get()),a.addClass("focused-stream-item").siblings().removeClass("focused-stream-item"),this.loadItemInDetailsPane(b,d,{log:e,impressionId:f,searchClick:twttr.app.isOnPage("search")&&a.is(".stream .stream-item")?a.children(".stream-tweet"):null});var g=this.streamManager&&this.streamManager.getCurrent();if(g){var i=d=="user"?"select.user":"select.tweet";g.trigger(i,[a,a,"select"])}},unfocusStreamItem:function(){var a=this.$detailsPane().hasClass("opened");if(this.closeDetailsPane()!==!1){var b=this.$node.find("div.focused-stream-item");this.$node.find("div.stream-item").removeClass("focused-stream-item");if(a){var c=this.streamManager&&this.streamManager.getCurrent();if(c){var d=b.attr("data-item-type")=="user"?"deselect.user":"deselect.tweet";c.trigger(d,[b,b,"deselect"])}}}},loadItemInDetailsPane:function(a,b,c){this.yScroll=twttr.$win.scrollTop();if(!b)return;var d=this,e={},c=c||{};c.log&&twttr.merge(e,c.log),b==="tweet"?(this.loadTweetInDetailsPane(a,c),this.openDetailsPane()):b==="user"?(this.loadUserInDetailsPane(a,c),this.openDetailsPane()):b==="tweet_geo"?(this.loadTweetGeoInDetailsPane(a,c),this.openDetailsPane()):b==="list"?twttr.router.routeTo(twttr.router.lookupAndNormalizeRoute(a)):b==="message_thread"&&(this.loadMessageThreadInDetailsPane(a,c),this.resizeDetailsPane()),c.searchClick&&twttr.components.pages.Search.addSearchClickLogging(c.searchClick,e),e.details_type=b,e.item_id=a,e.input="click",scribble("load-details-pane",e),$("div.tipsy").remove()},viewId:function(a,b,c){return a+b+(c?"_"+c:"")},loadTweetInDetailsPane:function(a,b){var c=this,d=b.impressionId,e=this.viewId("tweet_pane_",a,d),f=new twttr.views.DetailsPane(e),g=this.panes.cached(e),i=b.push?this.panes.push(f):this.panes.reset(f),j=i.$dom;g?j.find(".map_canvas:visible").trigger("refreshMap"):(this.$find(".pane-components-inner").addClass("tweet-components"),using(twttr.bundleMore,function(){twttr.API.Status.find(a,function(a){i._backLabel=_("@{{screen_name}} 的推文",{screen_name:a.user.screenName}),d&&(a=twttr.API.util.PromotedStore.getPromotedStatusInstance(a,d),twttr.API.util.PromotedContent.logShowDetails(d));var b=c.streamManager.getCurrent();new twttr.components.Conversation(a,b,function(d){d.bind("deleted",function(){c.panes.contains(i)&&(c.panes.remove(i),c.panes.reset(),c.closeDetailsPane())});var e=[],f=j.find(".component:visible:first"),g=j.width();f.length!==0&&(g=f.width()),g-=55;var k=new twttr.components.Media(a,g);e.push(d,new twttr.components.TweetGeoSmall(a),new twttr.components.MachineTranslatedTweet(a)),twttr.decider.isActivityEnabled()&&twttr.decider.isAvailable("activity_social_context")?(e.push(new twttr.components.TweetActivity(a)),e.push(new twttr.components.Replies(a,b,d.resultGroups))):(e.push(new twttr.components.Replies(a,b,d.resultGroups)),e.push(new twttr.components.Retweeters(a,10))),e.push(new twttr.components.MentionedInTweet(a)),c.addComponentsToDetailsPane(j,e),k.$node.appendTo(j.find("div.js-tweet-media-container"))})})}))},loadUserInDetailsPane:function(a,b){var c=twttr.is.string(a)?"user_pane_by_screen_name_":"user_pane_by_id_",d=this,e=b.impressionId,f=this.viewId(c,a,e),g=new twttr.views.DetailsPane(f),i=this.panes.cached(f),j=b.push?this.panes.push(g):this.panes.reset(g),k=j.$dom;i||(twttr.ui.toggleSpinner(k,!0),using(twttr.bundleMore,function(){twttr.API.User.find(a,{success:function(a){twttr.ui.toggleSpinner(k),twttr.app.trigger("view_profile_pane",a),j._backLabel=_("@{{screen_name}} 的个人资料",{screen_name:a.screenName}),e&&(a=twttr.API.util.PromotedStore.getPromotedUserInstance(a,e)),d.addComponentsToDetailsPane(k,[new twttr.components.ProfilePane(a),new twttr.components.UserMedia(a,{itemWidth:48,itemHeight:48,itemDisplayWidth:50,width:320,noSpacer:!0}),new twttr.components.RecentTweets(a)])},error:function(a){d.addComponentsToDetailsPane(k,[new twttr.components.NoUserExists])}})}))},loadTweetGeoInDetailsPane:function(a,b){var c=this,d=this.viewId("tweet_geo_pane_",a,b.placeId),e=new twttr.views.DetailsPane(d),f=this.panes.cached(d),g=b.push?this.panes.push(e):this.panes.reset(e),i=g.$dom;f?i.find(".map_canvas:visible").trigger("refreshMap"):using(twttr.bundleMore,function(){twttr.API.Status.find(a,function(a){var d=b.placeId||(a.place?a.place.id:null);g._backLabel=_("@{{screen_name}} 的推文位置",{screen_name:a.user.screenName});var e=function(b){var e=[new twttr.components.TweetGeoBig(a,d)];b&&e.push(new twttr.components.PlaceTweets(b)),c.addComponentsToDetailsPane(i,e)};d?a.place&&a.place.id==d?e(a.place):twttr.API.Place.find(d,{success:function(a){e(a.data())},error:function(){e()}}):e()})})},loadMessageThreadInDetailsPane:function(a,b){if(!twttr.loggedIn)throw"Something went wrong. You're not supposed to be able to load a message pane while logged out...";var c=this,d=this.viewId("message_thread_pane_",a),e=new twttr.views.DetailsPane(d,{closable:!1}),f=c.panes.cached(d),g=c.panes.reset(e),i=g.$dom;using(twttr.bundleMore,function(){twttr.messageManager.getThread(a,function(b){var d=twttr.decider.isAvailable("phoenix_use_conversation_endpoint")?twttr.components.ConversationThread:twttr.components.MessageThread,e=new d(b);g._backLabel=_("与 {{screen_name}} 的对话",{screen_name:b.threadId});if(!f){var j=new twttr.components.SendMessageBox(a,522);j.bind("sentMessage",function(a,b){twttr.messageManager.addMessage(b)}),j.$node.appendTo(i.find(".pane-toolbar"))}c.addComponentsToDetailsPane(i,[e])})})},$detailsPane:function(){return this.$find(".details-pane")},openDetailsPane:function(){if(this._detailsPaneDisabled())return!1;var a=this.$detailsPane();a.hasClass("opened")||(a.show(),this._slideDetailsPaneTo(this.$mainContent.width()-10),this.$dashboard.hide(),a.addClass("opened")),this.repositionDetailsPane(),this.resizeDetailsPane()},_slideDetailsPaneTo:function(a,b){this.$detailsPane()[Modernizr.csstransitions?"animateWithCss":"animate"](twttr.i18n&&twttr.i18n.rtl?{right:a}:{left:a},250,Modernizr.csstransitions?"ease-out":"linear",b)},closeDetailsPane:function(){if(this.isDPLocked===!0)return this.isDPLocked=!1,!1;if(this._detailsPaneDisabled())return!1;var a=this.$detailsPane();a.hasClass("opened")&&(this.panes.top().hide(),this.$dashboard.show(),this._slideDetailsPaneTo(10,function(){$(this).hide()}),a.removeClass("opened"),scribble("close-details-pane",{input:"click",current_tweet_id:this.streamManager.getCurrent().focusedItemId}))},resizeDetailsPane:function(){var a=this.$detailsPane();$pageOuter=$("#page-outer"),pagePaddingTop=parseInt($pageOuter.css("padding-top"),10);if(a.length>0){var b=$("#page-container"),c=$("#page-container").width(),d=this.$mainContent?this.$mainContent.width():0,e=c-d,f=twttr.$win.height()-pagePaddingTop,g=f-a[0].offsetTop-8;this.$mainContent&&this.$mainContent.css("min-height",f),a.height(g),a.width(e),a.find(".pane-components").height(g-a.find(".inner-pane.active .pane-toolbar").outerHeight())}},repositionDetailsPane:function(){if(!twttr.decider.goodAtCss()||!this.$detailsPaneOuter)return;if(this.windowHasHorizontalScroll()){var a=twttr.$win.scrollTop();this.$detailsPaneOuter.addClass("tracking-vertically"),this.$detailsPaneOuter.css({"margin-top":a,top:0})}else{var b=this.getTopPositionForDetailsPane();this.$detailsPaneOuter.removeClass("tracking-vertically"),this.$detailsPaneOuter.css({"margin-top":null,top:b})}},getTopPositionForDetailsPane:function(){var a=twttr.$win.scrollTop(),b=parseInt($("#page-outer").css("padding-top"),10),c=$("#page-container").position().top-a;return c<b&&(c=b),c},windowHasHorizontalScroll:function(){return twttr.$win.width()<1e3},addComponentToDetailsPane:function(a,b,c){c=c||"append",a.find(".pane-components-inner")[c](b.$node)},addComponentsToDetailsPane:function(a,b){for(var c=0;c<b.length;c++)this.addComponentToDetailsPane(a,b[c])}}).addAfterRender(function(){this.$dashboard=this.$find(".dashboard"),this.$mainContent=this.$find("div.main-content"),this.$detailsPaneOuter=this.$find("#details-pane-outer"),this.resizeDetailsPane(),this.streamManager||(this.streamManager=new twttr.streams.StreamManager(this.pageNameUnderscore,this.$node),this.streamManager.bind("newItemsCountChanged",twttr.bind(this,function(a,b){this.hasNewItems(b)})),this.streamManager.bind("notFound",twttr.bind(this,function(a){this.trigger("notFound")})),this.streamManager.bind("switchTo",twttr.bind(this,function(a){this.closeDetailsPane()})),twttr.decider.isExpando()&&this.streamManager.bind("doneLoadingMore",twttr.bind(this,function(a){this.$find(".expanding-stream-item").removeClass("expanding-stream-item")}))),this.streamManager.preRendered||this.$node.find("div.js-stream-manager-container").append(this.streamManager.$node),this.panes=new twttr.ViewStack(this.$detailsPane(),"append"),this.trigger("streamManagerReady")}).addOnSwitchTo(function(){twttr.decider.isExpando()&&($("#page-container").removeClass("expando-container"),$("#page-outer").removeClass("flush-to-top"));var a=twttr.audit.trail()[1];a&&a.page.match(/userMedia/)&&(this.isDPLocked=!0,this.yScroll&&twttr.$win.scrollTop(this.yScroll)),this.resizeDetailsPane()}),this});a(c)})});provide("mixins/streamablePageDropdownEdition",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.streamablePageDropdownEdition",function(a){var b=$("html, body"),c=8,d=700,e=50,f=30,g=436,i=75,j=105,k={toggle:function(a,b){a.is(".js-original-tweet")&&(b.topLevelExpansion=!0,!b.autoExpanded&&b.containerClass===".expanding-stream-item"&&(b.fullExpansion=!0));var c=k.expandTweetDom(a,b.containerClass),d=0;return c.$target.hasClass("animating")?0:(c.$target.data("dropdown.showing")?(k.close(c,b),k.scribeClose(c,b.currentStream),d=-1):b.forceClose||(c.$target.data("dropdown.loaded")?k.open(c,b):(k.load(c,b),b.autoExpanded&&setTimeout(function(){c.$target.next().addClass("after-expanded")},0)),d=1,k.scribeLoad(c,b.currentStream)),b.topLevelExpansion?d:0)},expandTweetDom:function(a,b){var c=b?a.closest(b):a;return{$target:c,$tweet:a,$expansion:a.parent(),$ancestors:c.find("div.js-tweet-ancestors"),$replies:c.find("div.js-conversation-replies")}},open:function(a,b){a.$target.data("dropdown.showing",!0).addClass("animating"),k.enterExpandedState(a.$target,b),k.showHideContent(!1,k.expandTweetDom(a.$tweet,b.containerClass),b),a.$tweet.trigger("expanded.tweet")},close:function(a,b){a.$target.data("dropdown.showing",!1).addClass("animating"),k.exitExpandedState(a.$target,b),k.showHideContent(!0,a,b,function(){a.$target.find(".opened-tweet").each(function(){k.toggle($(this),{noAnimation:!0,currentStream:b.currentStream})}),a.$tweet.trigger("collapsed.tweet")})},enterExpandedState:function(a,b){a.addClass("open").filter(".js-stream-item").animate({marginTop:a.index()===0?0:c,marginBottom:c},{duration:b.noAnimation?0:i,queue:!1}).prev().addClass("before-expanded").end().next().addClass("after-expanded"),a.hasClass("hovered-stream-item")&&a.removeClass("hovered-stream-item").addClass("js-had-hovered-stream-item")},exitExpandedState:function(a,b){a.removeClass("open").filter(".js-stream-item").animate({marginTop:0,marginBottom:0},{duration:b.noAnimation?0:i,queue:!1,complete:function(){a.prev().removeClass("before-expanded").end().next().removeClass("after-expanded"),a.hasClass("js-had-hovered-stream-item")&&a.removeClass("js-had-hovered-stream-item").addClass("hovered-stream-item")}})},simpleShowHideContent:function(a,b){var c=b.children().height();b.animate({height:a?0:c},{duration:k.guessGoodSpeed(c)})},showHideContent:function(a,d,f,g){d.$target.addClass("animating"),!a&&d.$tweet.addClass("opened-tweet");var i=d.$expansion.data("height")||0,j=d.$ancestors.height()||d.$ancestors.data("height")||0,l=d.$tweet.innerHeight(),m=(d.$replies.height()||d.$replies.data("height")||0)+l,n=m-i,o=f.noAnimation?0:k.guessGoodSpeed(j,n),p=twttr.$win.scrollTop(),q=d.$target.offset().top-c,r=p+e-q;a||d.$expansion.height(i),d.$expansion.animate({height:a?i:m},{duration:o,step:function(c){var e=c-i,g=e/n;d.$ancestors.height(j*g),r>0&&a&&!f.noAnimation&&b.scrollTop(p-r*(1-g))},complete:function(){k.resetEmbeddedContent(d,a),d.$target.removeClass("animating"),a&&d.$tweet.removeClass("opened-tweet"),d.$expansion.height("auto"),d.$ancestors.height("auto"),g&&g();var b=d.$tweet.data("inline-tweetbox");f.focusOnReply&&b&&!a&&b.focus()}})},guessGoodSpeed:function(){var a=Math.max.apply(Math,arguments);return Math.round(.35*Math.log(a)*j)},load:function(a,b){a.$target.addClass("animating").data("dropdown.loaded",!0),b.tweet?using(twttr.bundleMore,function(){k.loadWithTweet(a,b,b.tweet)}):twttr.API.Status.find(a.$tweet.attr("data-tweet-id"),function(c){k.loadWithTweet(a,b,c)})},loadWithTweet:function(a,b,c){(new twttr.views.TweetDetails(c)).render(a.$target.find("div.js-tweet-details-dropdown"),"append");var d=a.$tweet.find("div.js-tweet-media-container");a.$expansion=k.wrapComponents(a,a.$tweet.outerHeight());var e=k.sumMediaEmbedHeights(a.$tweet.find("a.twitter-timeline-link"));e>0?d.css("min-height",e):d.hide(),k.open(a,b),l.media(c,d),l.translation(c,a.$target.find("div.js-machine-translated-tweet-container"));var f=b.fullExpansion?7:6;l.socialProof(c,a.$target.find("div.js-tweet-stats-container"),f),l.geo(c,a.$target.find("div.js-tiny-geo"));if(b.fullExpansion&&!b.autoExpanded){l.conversation(c,a,b);var g=a.$tweet.attr("data-impression-id");g&&(c=twttr.API.util.PromotedStore.getPromotedStatusInstance(c,g),twttr.API.util.PromotedContent.logShowDetails(g))}},sumMediaEmbedHeights:function(a){return twttr.reduce(a,0,function(a,b,c){var e=$(c),i=e.data("media-type");if(i){var j=e.data("media-h")||i.height,k=e.data("media-w");k&&k>g&&(j=g*(j/k));var l=j?Math.min(j,d)+f:75;return a+l}return a+0})},wrapComponents:function(a,b){var c=$("<div/>",{"class":"expansion-container js-expansion-container",height:b,data:{height:b}});return a.$tweet.wrap(c),a.$target.find("div.js-expansion-container")},resetEmbeddedContent:function(a,b){var c=a.$target.find("*[has-playable-media='true'] div.tweet-media");c.length&&(b?c.height(c.height()).empty():c.filter(":empty").trigger("showMedia"))},scribeLoad:function(a,b){var c=a.$tweet.find("span.js-icon-container .media").map(function(a,b){return[[b.getAttribute("data-media-type"),b.getAttribute("data-media-class")]]}).get();scribble("load-details-pane",{component:"stream",details_type:"tweet",item_id:a.$target.attr("data-item-id"),stream:b.constructor._name,page_number:b._page,embedded_media_types:c}),b.trigger("select.tweet",[a.$target,a.$target,"select"])},scribeClose:function(a,b){scribble("close-details-pane",{input:"click",current_tweet_id:b.focusedItemId}),b.trigger("deselect.tweet",[a.$target,a.$target,"deselect"])}},l={media:function(a,b){using("components/Media",function(c){if(!b.is(":empty"))return;(new c(a,g,{afterRender:function(a){var c=a.icon();(c==="video"||c==="song")&&b.attr("has-playable-media",!0).show()},whenNotDisplayed:function(a){b.css("min-height",0).show()}})).$node.appendTo(b)})},translation:function(a,b){using("components/MachineTranslationBackend",function(c){if(!b.is(":empty"))return;(new twttr.components.MachineTranslatedTweet(a)).$node.appendTo(b)})},conversation:function(a,b,c){using("components/Conversation","components/Replies",function(d,e){var f;new d(a,null,function(d){new e(a,null,d.resultGroups,function(){if(b.$expansion.find(".js-conversation-replies").length)return;var a=$("<div class='replies js-conversation-replies'></div>").height(0).appendTo(b.$expansion);this.$node.appendTo(a),f=new twttr.components.InlineReplyBox(b.$tweet,a,this.$node,421)});if(b.$tweet.data("is-reply-to")&&b.$target.find(".js-tweet-ancestors").length===0){b.$target.addClass("animating");var g=d.$node.find(".js-tweet-ancestors");g.attr("data-component-term","conversation"),g.height(0).prependTo(b.$target)}setTimeout(function(){var a=k.expandTweetDom(b.$tweet,c.containerClass),d=!c.noAnimation&&b.$target.data("dropdown.showing");m(a.$ancestors,d),m(a.$replies,d,function(){f&&(b.$tweet.data("inline-tweetbox",f),c.focusOnReply&&f.focus())})},0)})})},socialProof:function(a,b,c){using("components/TweetStats","components/Retweeters",function(d,e){var f=$.trim(b.html())=="";if(!f)return;var g=twttr.decider.isActivityEnabled()&&twttr.decider.isAvailable("activity_status_summary")?d:e;(new g(a,c,function(){b.show()})).$node.appendTo(b)})},geo:function(a,b){using("components/TweetGeoSmall",function(c){if(!b.is(":empty"))return;(new c(a)).$node.appendTo(b)})}},m=function(a,b,c){if(!a.length)return;var d=a.children().height();a.data("height",d),b?a.animate({height:d},k.guessGoodSpeed(d),function(){a.parent().removeClass("animating"),a.height("auto"),c&&c()}):a.height("auto")};return a.mixin(twttr.mixins.profilePopupActionable).keypress({l:function(){this.closeAllTweets()}}).click({"div.js-tiny-geo .map_canvas":function(a,b){a.stopPropagation()},".js-activity-tweet":function(a,b){this.handleExpandoClick(a,b,".supplement")},".expanding-stream-item .js-original-tweet":function(a,b){this.handleExpandoClick(a,b,".expanding-stream-item")},".expanding-stream-item .js-expando-link":function(a,b){this.simpleShowHide(b)},".js-tweet-ancestors .js-stream-tweet, .js-conversation-replies .js-stream-tweet":function(a,b){this.handleExpandoClick(a,b)}}).methods({closeAllTweets:function(){var a=twttr.$win.scrollTop(),c=this.firstVisibleItemBelow(a);if(c){var d=c.offset().top,e=this;this.$find("div.open.expanding-stream-item div.js-original-tweet").each(function(){e.showHide($(this),{containerClass:".expanding-stream-item",noAnimation:!0})}),this.$find("div.open.expanding-stream-item div.js-expando-link").each(function(){e.simpleShowHide($(this))});var f=c.offset().top;b.scrollTop(a-(d-f))}},firstVisibleItemBelow:function(a){var b;return this.$find(".js-stream-item").each(function(){var c=$(this);if(c.offset().top>=a)return b=c,!1}),b},handleExpandoClick:function(a,b,c,d){d=d||{};var e=$(a.target).is(".js-open-close-tweet, .js-open-close-tweet *");$(a.target).hasClass("action-reply-container")&&(d.focusOnReply=!0);if(e||!this.shouldPreventClickFrom($(a.target))){var f=twttr.tco.getSelection();a.preventDefault(),a.stopPropagation();if(e||f.isCollapsed||f.htmlText===""){d.containerClass=c,this.showHide(b,d);var g="tweet_anatomy_2_231";!b.is(".open")&&twttr.isT1&&twttr.abdecider.choose(g)&&($(a.target).is(".open-tweet")?twttr.abdecider.track(g,"open-tweet-open-label"):$(a.target).is(".view-open")?twttr.abdecider.track(g,"open-tweet-view-label"):twttr.abdecider.track(g,"open-tweet-whitespace"))}}},shouldPreventClickFrom:function(a){var b=a.is("a, a *")&&!a.is(".js-details *"),c=a.is("embed,object");return b||c},getTweetFromItems:function(a,b){var c,d=b&&b.items;if(d)for(var e=0,f=d.length;e<f;e++)if(a===d[e].id){c=d[e];break}return c},simpleShowHide:function(a){var b=".expanding-stream-item",c=a.closest(b),d={},e=a.closest(".stream-item").find(".js-expando-control-expanded"),f=e.hasClass("show");f?(this.updateExpandoControl(!0,e),k.exitExpandedState(c,d),k.simpleShowHideContent(!0,c.find("div.js-expando-content")),a.trigger("simpleExpandoContract"),this.openCount+=-1):(this.updateExpandoControl(!1,e),k.enterExpandedState(c,d),k.simpleShowHideContent(!1,c.find("div.js-expando-content")),a.trigger("simpleExpandoExpand"),this.openCount+=1),this.showHideCloseAllButton()},showHide:function(a,b){b=b||{},b.currentStream=this.streamManager.getCurrent(),b.tweet=this.getTweetFromItems(a.attr("data-tweet-id"),b.currentStream),this.openCount+=k.toggle(a,b),this.showHideCloseAllButton()},toggleFocus:function(a){this.showHide(a.find(".js-original-tweet"),{containerClass:".expanding-stream-item"})},showHideCloseAllButton:function(){this.$closer&&(this.openCount>0?this.$closer.fadeIn("fast"):this.$closer.fadeOut("fast"))},updateExpandoControl:function(a,b){var c=b.closest(".stream-item");c.find(".js-expando-control-expanded").removeClass(a?"show":"hide").addClass(a?"hide":"show"),c.find(".js-expando-control-unexpanded").removeClass(a?"hide":"show").addClass(a?"show":"hide")},resetCloseAllButton:function(){this.$closer=$("a.js-close-all-tweets"),this.openCount=this.$find("div.open").length,this.openCount>0?this.$closer.show():this.$closer.hide()},dropdown:k,focusStreamItem:twttr.util.noopInT1,unfocusStreamItem:twttr.util.noopInT1,resizeDetailsPane:twttr.util.noopInT1,repositionDetailsPane:twttr.util.noopInT1}).addAfterRender(function(){this.$dashboard=this.$find("div.dashboard"),this.$mainContent=this.$find("div.main-content");var a=this;this.streamManager||(this.streamManager=new twttr.streams.StreamManager(this.pageNameUnderscore,this.$node),this.streamManager.bind("newItemsCountChanged",twttr.bind(this,function(a,b){this.hasNewItems(b)})),this.streamManager.bind("notFound",twttr.bind(this,function(a){this.trigger("notFound")})),this.streamManager.bind("switchTo didNotSwitch",twttr.bind(this,function(b){twttr.app.trigger("streamSwitchedTo",[this]),setTimeout(function(){a.resetCloseAllButton(),a.$find("div.tweet-media").trigger("showMedia")},0)}))),this.streamManager.preRendered||this.$node.find("div.js-stream-manager-container").append(this.streamManager.$node),this.panes=[],this.$find(".stream-item").addClass("expanding-stream-item"),this.trigger("streamManagerReady")}).addOnSwitchAway(function(){this.$closer&&this.$closer.hide()})}),a()})});provide("mixins/itemActionableScribing",function(a){using("util","constants").as(function(b){twttr.klass.mixin("twttr.mixins.itemActionableScribing",function(a){return a.methods({_registerTweetActionScribeListeners:function(){var a=this;this.bind("favorite.tweet unfavorite.tweet retweet.tweet unretweet.tweet delete.tweet reply.tweet dismiss.tweet not_relevant.tweet deselect.tweet permalink_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c);a._itemScribe(e,{event_info:e},f)}),this.bind("select.tweet",function(b,c,d,e){var f=a._itemMetadata(c),g={event_info:e};if(d.find(".sm-image").length){var i=d.find("a[data-expanded-url]").attr("data-expanded-url");i&&(g.url=i)}a._itemScribe(e,g,f)}),this.bind("avatar_click.tweet screen_name_click.tweet promoted_badge_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c);f.itemDetails.target_id=d.find("[data-user-id]").attr("data-user-id")||d.attr("data-user-id")||d.closest("[data-user-id]").attr("data-user-id"),a._itemScribe("profile_click",{event_info:e},f)}),this.bind("hashtag_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c);a._itemScribe("search",{event_info:"hashtag",query:d.text()},f)}),this.bind("mention_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c);a._itemScribe("mention_click",{event_info:"mention"},f)}),this.bind("external_link_click.tweet",function(b,c,d,e){var f=a._itemMetadata(c),g=d.attr("data-expanded-url")||d.attr("href");a._itemScribe("open_link",{event_info:"external_link",url:g},f),twttr.externalURLStore.setData(g,f),twttr.abdecider.chooseWithoutImpression("long_tweet_urls_2_259")&&(d.attr("data-long_tweet_urls_2_259")?twttr.abdecider.track("long_tweet_urls_2_259","open_link_expanded"):twttr.abdecider.track("long_tweet_urls_2_259","open_link_short"))})},_registerUserActionScribeListeners:function(){var a=this;this.bind("follow.user unfollow.user follow.tweet",function(b,c,d,e){var f=a._itemMetadata(c);f.itemDetails.target_id=d.attr("data-user-id"),a._itemScribe(e,{event_info:e},f),c.attr("data-impression-id")&&trackClient({component:"promoted_user_recommendations",action:e})}),this.bind("select.user deselect.user dismiss.user reply.user block.user unblock.user add_to_list.user report_as_spam.user accept.user deny.user dm.user",function(b,c,d,e){var f=a._itemMetadata(c);a._itemScribe(e,{event_info:e},f)}),this.bind("avatar_click.user screen_name_click.user promoted_badge_click.user",function(b,c,d,e){var f=a._itemMetadata(c);f.itemDetails.target_id=d.find("[data-user-id]").attr("data-user-id")||d.attr("data-user-id"),a._itemScribe("profile_click",{event_info:e},f),c.attr("data-impression-id")&&trackClient({component:"promoted_user_recommendations",action:"profile_click"})})},getScribbler:function(){if(this.scribbler)return this.scribbler;if(this.getStreamManager){var a=this.getStreamManager(),b=a&&a.getCurrent();if(b&&b.scribbler)return b.scribbler}return twttr.Scribbler.clientEvent},_getScribeComponentName:function(){return this.scribeComponentName?this.scribeComponentName:this.constructor&&this.constructor._name?b.util.underscore(this.constructor._name):""},_itemScribe:function(a,b,c){var d={component:this._getScribeComponentName(c.targetItem),action:a};if(c.targetObj){var e=twttr.Scribbler.getElementEventNameTerms(c.targetObj);e.component&&(d.component=e.component)}if(c.itemType&&c.itemId){var f={};f[c.itemId+""]=c.itemDetails,c.scribeData.item_details=f}this.getScribbler().scribe(d,twttr.merge(b,c.scribeData)),twttr.profileUser&&twttr.profileUser.verified&&twttr.app.currentPageName()=="profile"&&twttr.abdecider.track("replies_stripped_on_verified_profiles_222",a),this._itemDetailsScribe(a,c.itemType,c.itemObj)},_itemDetailsScribe:function(a,b,c){var d="tweet_anatomy_2_231";if(b==="tweet"&&twttr.isT1&&twttr.abdecider.choose(d)){if(a==="impression"){var e=c.attr("data-tweet-id"),f=window.__tweet_anatomy_2_231_impressionSink;f||(f=window.__tweet_anatomy_2_231_impressionSink=[]);if($.inArray(e,f)!==-1)return;f.unshift(e),f.length>5e3&&(f.length=5e3)}var g={hashtag:".twitter-hashtag",link:".twitter-timeline-link",username:".twitter-atreply",photo:".sm-image",video:".sm-video",audio:".sm-audio",geo:".sm-geo",convo:".sm-convo",embed:".sm-embed",retweet:".sm-rt",reply:".sm-reply",promoted:".badge-promoted"},i=c.find(g.promoted).length?"-promoted":"-organic";twttr.abdecider.track(d,a+i);for(var j in g)c.find(g[j]).length&&twttr.abdecider.track(d,a+i+"-has-"+j);$.each(c.find(".twitter-timeline-link"),function(b,c){var e=c.getAttribute("data-expanded-url")||c.href;e===c.getAttribute("data-ultimate-url")?twttr.abdecider.track(d,a+i+"-has-link-expanded"):twttr.abdecider.track(d,a+i+"-has-link-short")})}},_itemMetadata:function(a){var c=this._findOrCurrent(a,".js-actionable-tweet, .js-actionable-user"),d=this._closestOrCurrent(c,"[data-item-type]"),e=d.attr("data-item-type"),f={item_count:1},g={},i,j,k,l;$.inArray(e,["tweet","user","activity"])==-1&&(c.is(".js-actionable-tweet")?e="tweet":c.is(".js-actionable-user")&&(e="user"));if(d.length){switch(e){case"tweet":k=!!this._findOrCurrent(c,".top-tweet").length,j=this._findOrCurrent(c,"[data-impression-id]").attr("data-impression-id");var m=j?"promotedTweet":k?"popularTweet":"tweet";g.item_type=b.constants.clientEvent.itemType[m],i=this._findOrCurrent(c,"[data-tweet-id]").attr("data-tweet-id"),this.ignoreScribeItemPosition||(g.item_position=this._itemPosition(c,"tweet"));break;case"user":j=this._findOrCurrent(d,"[data-impression-id]").attr("data-impression-id");var n=d.attr("data-feedback-token"),m=j?"promotedUser":"user";g.item_type=b.constants.clientEvent.itemType[m],i=d.attr("data-item-id")||d.attr("data-user-id"),this.ignoreScribeItemPosition||(g.item_position=this._itemPosition(c,"user")),n&&(f.item_names=[n]);break;case"activity":var o=this._activityType(d);g.item_type=b.constants.clientEvent.itemType.activity,g.item_description=o;var p=d.attr("data-item-id");i=this._findOrCurrent(d,"div[data-activity-min-position]").attr("data-activity-min-position")||p.split("_")[0];var q=a.attr("data-tweet-id");q&&(g.target_id=q),f.item_names=[p];break;default:i=d.attr("data-item-id")}j&&(g.item_token=j),g.item_description&&!f.item_names&&(f.item_names=[g.item_description]),i&&(f.item_ids=[i])}return{scribeData:f,itemId:i,itemType:e,itemDetails:g,itemObj:d,targetObj:a,impressionId:j,popular:k}},_activityType:function(a){var b=this._findOrCurrent(a,".stream-item-activity").attr("data-activity-type"),c;return b||(a.is(".reply")?b="reply":a.is(".mention")&&(b="mention")),b},MAX_ITEM_POSITION:40,_itemPosition:function(a,b){var c=b=="tweet"?"div.js-actionable-tweet":"div.js-actionable-user, li.js-actionable-user",d=b=="tweet"?"data-tweet-id":"data-user-id",e=a.attr(d),f=[];return this.$node.find(c).each(function(a,b){f.push($(b).attr(d))}),$.inArray(e,twttr.util.arrayUniq(f).slice(0,this.MAX_ITEM_POSITION))},_findOrCurrent:function(a,b){return a.is(b)?a:a.find(b)},_closestOrCurrent:function(a,b){var c=a.is(b)?a:a.closest(b);return c.length?c:a}}),a}),a()})});provide("mixins/streamablePage",function(a){using("_","util").as(function(b,_){twttr.klass.mixin("twttr.mixins.streamablePage",function(){this.addViewData(function(){var a={};return a["active_tab_"+this._activeTab]=1,a}).addOnSwitchAway(function(){this.streamManager&&this.streamManager.onSwitchAway()}).keydown({f:function(a){if($(a.target).is(":not(input)")){a.preventDefault();var b=this.streamManager.getCurrent();if(!b.focusedItemId)return;b.tweetActionFavorite(b.getCurrentlyFocusedItem().find(".tweet"),"keyboard")}},r:function(a){if($(a.target).is(":not(input)")){a.preventDefault();var b=this.streamManager.getCurrent();if(!b.focusedItemId)return;b.tweetActionReply(b.getCurrentlyFocusedItem().find(".js-original-tweet"),"keyboard")}},t:function(a){if($(a.target).is(":not(input)")){a.preventDefault();var b=this.streamManager.getCurrent();if(!b.focusedItemId)return;b.tweetActionRetweet(b.getCurrentlyFocusedItem().find(".tweet"),"keyboard")}}}).keypress({k:function(a){this.streamManager.getCurrent().highlightPrevious(),a.preventDefault()},j:function(a){this.streamManager.getCurrent().highlightNext(),a.preventDefault()},"return":function(a){var b=this.streamManager.getCurrent(),c=this.$find('.stream-item[data-item-id="'+b.highlightedItemId+'"]');if(c.length===0)return;a.preventDefault(),this.toggleFocus(c)},period:function(a){twttr.$win.scrollTop(0);var b=this.streamManager.getCurrent();b.fetchTweets(twttr.bind(this,function(a){a.newItemsCount>0&&(a._showNewItems(),a.restartFetcher());var b=a.getFirstItem();a.highlightItem(b),a.scrollStreamTo(b),twttr.$win.scrollTop(0)})),twttr.components.JapaneseAd.refreshAds()}}).methods({getStreamManager:function(){return this.streamManager},focusStreamTab:function(a){var b;this.$node.find("ul.stream-tabs li.stream-tab, ul.stream-subtabs").removeClass("active"),a&&(b="ul.stream-tabs li.stream-tab-"+a+", ul.stream-subtabs-"+a,this.$node.find(b).addClass("active")),this._activeTab=a,scribble("subnav",{item:a})},focusStreamSubtab:function(a){var b;this.$node.find("ul.stream-subtabs li.stream-tab").removeClass("active"),a&&this.$node.find("ul.stream-subtabs li.stream-subtab-"+a).addClass("active"),this._activeSubtab=a,scribble("subsubnav",{item:a})},_detailsPaneDisabled:function(){return!twttr.decider.goodAtCss()||twttr.isT1}});var a={Messages:1,WhoToFollow:1,SimilarTo:1,WelcomeLearnFlow:1};return!twttr.decider.isExpando()||this._name in a?this.mixin(twttr.mixins.streamablePageDetailsPane):this.mixin(twttr.mixins.streamablePageDropdownEdition)}),a(twttr.mixins.streamablePage)})});provide("mixins/userActionableT1",function(a){using().as(function(b){var c=twttr.klass.mixin("twttr.mixins.userActionableT1",function(){return this.methods({getActionableUser:function(a){return a.closest(".js-actionable-user")},getComboButton:function(a){return this.$node.find('.js-follow-combo[data-user-id="'+a+'"]')},getDropdownButton:function(a){return this.$node.find('.js-action-profilemenu[data-user-id="'+a+'"]')},getUserId:function(a){return twttr.helpers.getUserIdentifier(a)},getUserRelationship:function(a,b){var c=this,d=this.getActionableUser(a),e=+d.attr("data-user-id");if(d.data("user")){var f=d.data("user");this.getRelationship(f,b)}else twttr.API.User.find(e,function(a){d.data("user",a),c.getRelationship(a,b)})},getRelationship:function(a,b){if(!twttr.loggedIn){var c={notifications:!1,following:!1,followedBy:!1,blocking:!1,followRequestSent:!1,wantRetweets:!1,canDM:!1};b(c,{user:a,id:a.id,name:a.name,screen_name:a.screenName,notifications:c.notifications,following:c.following,followed_by:c.followedBy,blocking:c.blocking,follow_request_sent:a.followRequestSent,want_retweets:c.wantRetweets,can_dm:c.canDM,reported:!1});return}twttr.currentUser.relationshipWith(a,function(c){var d={user:a,id:a.id,name:a.name,screen_name:a.screenName,notifications:c.notifications,following:c.following,followed_by:c.followedBy,blocking:c.blocking,follow_request_sent:a.followRequestSent,want_retweets:c.wantRetweets,can_dm:c.canDM,reported:!1};b(c,d)})},showFollowOrUnfollow:function(a){var b=this;twttr.helpers.isCurrentUser(a)||b.getRelationship(a,function(a,c){c.followed_by&&b.$node.find(".js-follows-you").show()})},showMiniSocialProof:function(a){var b=this;twttr.currentUser&&!twttr.helpers.isCurrentUser(a)&&twttr.currentUser.followingFollowersOf(a.id,function(c){if(c.length()){var d=b.makeLongSocialContextHtml(a.screenName,c.toArray());b.$find(".js-mini-social-proof-container").html(d)}})},showUserProfileMenu:function(a){var b=this;$(document).trigger("click.button"),a.addClass("open"),a.closest(".js-stream-item").addClass("has-follow-dropdown-open"),$(document).bind("click.button",function(){b.hideUserProfileMenu(a)})},hideUserProfileMenu:function(a){a.removeClass("open"),a.closest(".js-stream-item").removeClass("has-follow-dropdown-open"),$(document).unbind("click.button")},toggleUserProfileMenu:function(a){var b=this,c=this.getActionableUser(a),d=+c.attr("data-user-id"),e=this.getDropdownButton(d);if(c.attr("data-dropdown")){c.hasClass("open")?this.hideUserProfileMenu(c):this.showUserProfileMenu(c);return}this.getUserRelationship(a,function(a,d){b.renderUserProfileMenu(c,e,d),b.showUserProfileMenu(c)})},renderUserProfileMenu:function(a,b,c){c.want_retweets&&a.addClass("including"),twttr.currentUser&&twttr.currentUser.deviceSetup&&c.notifications?a.addClass("notifying"):a.removeClass("notifying"),c.blocking&&a.addClass("blocked").removeClass("following not-following follow-request-sent"),c.can_dm&&a.addClass("can-dm"),(new twttr.views.ComboFollowButtonDropdown(c)).render(b,"append"),a.attr("data-dropdown",!0)},onUserActionFollowSync:function(a,b){var c=this.getComboButton(a);c.length?this.updateButtonFollow(c,b):this.updateFollowStateLink(a,!0,b)},onUserActionFollowSuccess:function(a,b,c){var d=this.getActionableUser(c);this.updateButtonFollow(d,b)},updateButtonFollow:function(a,b){b?a.removeClass("not-following").addClass("follow-request-sent"):a.removeClass("not-following").addClass("following including")},updateFollowStateLink:function(a,b,c){if(b)var d=c?twttr.views.FollowRequestSentLink:twttr.views.UnfollowLink;else var d=twttr.views.FollowLink;var e=this.$node.find('.js-follow-state .js-link[data-user-id="'+a+'"]');(new d({id:a})).render(e,"replaceWith")},onUserActionUnfollowSuccess:function(a,b){var c=this.getActionableUser(b);this.updateButtonUnfollow(c)},onUserActionUnfollowSync:function(a){var b=this.getComboButton(a);b.length?this.updateButtonUnfollow(b):this.updateFollowStateLink(a,!1)},updateButtonUnfollow:function(a){a.removeClass("following follow-request-sent").addClass("not-following")},updateUserAttributesFromRelationship:function(a){twttr.decider.isAvailable("profile_pane_fresh")&&$.extend(this.user.attributes,{following:a.following,blocking:a.blocking,notifications:a.notifications,can_dm:a.canDM,want_retweets:a.wantRetweets})},onUserActionFollowError:function(a,b){twttr.helpers.showErrorFromResponse(a,"follow")},onUserActionUnfollowError:function(a){twttr.helpers.showErrorFromResponse(a,"follow")},registerFollowAction:function(){var a=this;this.$node.delegate(".js-action-follow, .js-action-follow-request","click",function(b){var c=$(this),d=a.getActionableUser(c);return twttr.loggedIn&&(d.removeClass("not-following"),d.hasClass("protected")?d.addClass("follow-request-sent first-hover"):d.addClass("following including first-hover")),d.one("mouseleave",function(){d.removeClass("first-hover")}),a.userActionFollow(c),b.preventDefault(),b.stopPropagation(),!1})},registerUnfollowAction:function(){var a=this;this.$node.delegate(".js-action-unfollow","click",function(b){var c=a.getActionableUser($(this));return c.removeClass("following follow-request-sent").addClass("not-following"),a.userActionUnfollow($(this)),b.preventDefault(),b.stopPropagation(),!1})},registerProfileMenuAction:function(){var a=this;this.$node.delegate(".js-action-profilemenu","click",function(b){return a.toggleUserProfileMenu($(this)),b.preventDefault(),b.stopPropagation(),!1})},registerBlockAction:function(){var a=this;this.$node.delegate(".js-action-block","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id"),e=c.attr("data-impression-id"),f="block";return a.markAsPending(c,f),c.addClass("blocked").removeClass("following not-following follow-request-sent"),twttr.API.User.find(d,function(b){var d="not-following";b.following?d="following":b.followRequestSent&&(d="follow-request-sent"),b.block({impression_id:e,complete:function(){a.markAsComplete(c,f)},timeout:function(a){a.retry()},success:function(b){a.trigger("block.user",[c,$(this),"block"]),c.addClass("blocked").removeClass("following not-following follow-request-sent")},error:function(){twttr.showError(_("哇噢! 我们未能屏蔽该用户。请稍后再试。")),c.removeClass("blocked").addClass(d)}})}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerUnblockAction:function(){var a=this;this.$node.delegate(".js-action-unblock","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id"),e=c.attr("data-impression-id"),f="unblock";return a.markAsPending(c,f),c.removeClass("blocked").addClass("not-following"),twttr.API.User.find(d,function(b){b.unblock({impression_id:e,before:function(){$('.stream .stream-tweet[data-user-id="'+b.id+'"]').closest(".stream-item").show()},complete:function(){a.markAsComplete(c,f)},success:function(){a.trigger("unblock.user",[c,$(this),"unblock"]),c.removeClass("blocked").addClass("not-following")},error:function(){c.addClass("blocked").removeClass("not-following following follow-request-sent")}})}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerReportAction:function(){var a=this;this.$node.delegate(".js-action-spam","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id"),e=c.attr("data-impression-id"),f="report";return a.markAsPending(c,f),c.addClass("blocked").removeClass("following not-following follow-request-sent"),twttr.API.User.find(d,function(b){var d="not-following";b.following?d="following":b.followRequestSent&&(d="follow-request-sent"),b.report({impression_id:e,before:function(){$('.stream .stream-tweet[data-user-id="'+b.id+'"]').closest(".stream-item").hide()},complete:function(){a.markAsComplete(c,f)},success:function(d){twttr.showMessage(_("你已报告 {{screenName}} 发送垃圾信息",b)),a.trigger("report_as_spam.user",[c,$(this),"report_as_spam"]),c.addClass("blocked").removeClass("following not-following follow-request-sent")},error:function(a){twttr.errors.showErrorFromResponse(a,"report"),c.removeClass("blocked").addClass(d)}})}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerMentionAction:function(){var a=this;this.$node.delegate(".js-action-mention","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id");return twttr.API.User.find(d,function(b){(new twttr.widget.TweetDialog({template:{title:"Mention "+b.screenName},draggable:!0,defaultContent:"@"+b.screenName+" ",origin:"profile-actions-dropdown-mention"})).open().focus(),a.trigger("reply.user",[c,$(this),"reply"])}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerAddToListAction:function(){var a=this;this.$node.delegate(".js-action-add-to-list","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id");return twttr.API.User.find(d,function(b){(new twttr.widget.ListMembershipDialog(b)).open(),a.trigger("add_to_list.user",[c,$(this),"add_to_list"])}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerDeviceNotificationToggle:function(){var a,b,c,d=this;this.$node.delegate(".js-device-notifications","click",function(e){var f=d.getActionableUser($(this)),g=+f.attr("data-user-id"),i=f.hasClass("notifying"),j=i?"setNotificationsOff":"setNotificationsOn";return twttr.API.User.find(g,function(d){if(!twttr.currentUser.deviceSetup){!twttr.currentUser.deviceVerified&&(!twttr.currentUser.pushTweetsDecidered||!twttr.currentUser.pushDevice)?(a={title:_("设置移动通知"),content:(new twttr.views.PhoneSetupPrompt({screen_name:d.screenName,ok:_("设置手机"),cancel:_("取消")})).html()},b=twttr.router.devicesPath()):(a={title:_("开启移动终端提醒"),content:(new twttr.views.PhoneTweetsOffPrompt({screen_name:d.screenName,ok:_("启用推文通知"),cancel:_("关闭")})).html()},twttr.currentUser.pushDevice&&twttr.currentUser.pushTweetsDecidered?b=twttr.router.pushHelpPath():b=twttr.router.devicesPath()),(new twttr.widget.Prompt({modal:!0,callback:function(a){a&&(c=function(){twttr.router.routeTo(b)},twttr.API.User.bind("subscribe",c),d.setNotificationsOn())},template:a})).open();return}d[j](),i?f.removeClass("notifying"):f.addClass("notifying")}),e.preventDefault(),e.stopPropagation(),!1})},registerRetweetToggle:function(){var a=this;this.$node.delegate(".js-retweet-setting","click",function(b){var c=a.getActionableUser($(this)),d=+c.attr("data-user-id"),e=c.hasClass("including"),f=e?"setWantRetweetsOff":"setWantRetweetsOn";return twttr.API.User.find(d,function(a){a[f](),e?(c.removeClass("including"),twttr.showMessage(_("来自 @{{screenName}} 的转推将不再出现在你的时间轴里\n      ",a))):(c.addClass("including"),twttr.showMessage(_("来自 @{{screenName}} 的转推将会出现在你的时间轴上\n      ",a)))}),a.hideUserProfileMenu(c),b.preventDefault(),b.stopPropagation(),!1})},registerDirectMessageAction:function(){var a=this;this.$node.delegate(".js-direct-message-action","click",function(b){var c=$(this),d=a.getActionableUser(c),e=+d.attr("data-user-id");return twttr.API.User.find(e,function(b){twttr.dialogs.dmSingle({user:{screenName:b.screenName,user_id:e,name:b.attributes.name,profile_image_url:b.attributes.profile_image_url},origin:"user-actionable-direct-message"}).open(),a.trigger("dm.user",[d,c,"dm"])}),a.hideUserProfileMenu(d),b.preventDefault(),b.stopPropagation(),!1})},registerProfileAction:function(){var a=this;this.$node.delegate(".js-action-profile-avatar","click",function(b){var c=$(this);a.trigger("avatar_click.user",[a.getActionableUser(c),c,"avatar"])}),this.$node.delegate(".js-action-profile-name","click",function(b){var c=$(this);a.trigger("screen_name_click.user",[a.getActionableUser(c),c,"screen_name"])}),this.$node.delegate(".js-action-profile-promoted","click",function(b){var c=$(this);a.trigger("promoted_badge_click.user",[a.getActionableUser(c),c,"promoted_badge"])}),this.$node.delegate(".js-account-group, .js-mini-profile-user","click",function(b){var c=a.$node.find(".js-actionable-user"),d=+c.attr("data-user-id"),e=c.closest("[data-impression-id]").attr("data-impression-id");a._updateTwttrPromotedAccount(d,e)})},registerUserActionEvents:function(){var a=this;this.registerFollowAction(),this.registerUnfollowAction(),this.registerProfileAction(),this.registerPromotedUserActionEvents(),twttr.loggedIn&&(this.registerProfileMenuAction(),this.registerBlockAction(),this.registerUnblockAction(),this.registerReportAction(),this.registerMentionAction(),this.registerAddToListAction(),this.registerDeviceNotificationToggle(),this.registerRetweetToggle(),this.registerDirectMessageAction(),this._registerUserActionAPIListeners(),this._registerUserActionScribeListeners())}}),this});a(c)})});provide("mixins/userActionable",function(a){using(twttr.isT1?"mixins/userActionableT1":[]).as(function(b){twttr.klass.mixin("twttr.mixins.userActionable",function(a){return a.mixin(twttr.mixins.itemActionableScribing,twttr.mixins.pendingActions).methods({userActionFollow:function(a,b){var c=this,d=twttr.helpers.getUserId(a),e=a.closest(".js-actionable-user, .js-actionable-tweet"),f=e.attr("data-impression-id")||e.closest("[data-impression-id]").attr("data-impression-id"),g="follow";this.markAsPending(e,g),twttr.API.User.find(d,function(i){var j=i["protected"]&&!i.following;twttr.loggedIn?(c._updateTwttrPromotedAccount(d,f),i.follow({complete:function(){c.markAsComplete(e,g)},success:function(f){b=b||(e.is(".js-actionable-tweet")?"follow.tweet":"follow.user"),c.trigger(b,[e,a,"follow"]);var g=e.closest(".js-stream-item").length;j&&!g&&twttr.showMessage(_("已向 {{user}} 发送关注请求。",{user:i.name||i.screenName})),c.onUserActionFollowSuccess(d,j,a)},error:function(a){c.onUserActionFollowError(a,j)},impression_id:f})):twttr.dialogs.signinOrSignup({follow:i,justSignup:twttr.isT1}).open()})},userActionUnfollow:function(a){var b=this,c=twttr.helpers.getUserId(a),d=a.closest(".js-actionable-user"),e=d.attr("data-impression-id")||d.closest("[data-impression-id]").attr("data-impression-id"),f="unfollow";this.markAsPending(d,f),twttr.API.User.find(c,function(g){g.unfollow({complete:function(){b.markAsComplete(d,f)},success:function(){b._updateTwttrPromotedAccount(c,e),b.trigger("unfollow.user",[d,a,"unfollow"]),b.onUserActionUnfollowSuccess(c,a)},error:function(a){b.onUserActionUnfollowError(a)},impression_id:e})})},userActionMenu:function(a){var b=this,c=twttr.helpers.getUserIdentifier(a);if(a.attr("data-opened"))return;a.attr("data-opened",!0),twttr.API.User.find(c,function(c){twttr.currentUser.relationshipWith(c,twttr.bind(this,function(d){var e={user:c,id:c.id,screen_name:c.screenName,notifications:d.notifications,following:d.following,followed_by:d.followedBy,blocking:d.blocking,follow_request_sent:c.followRequestSent,want_retweets:d.wantRetweets,reported:!1};b.userProfileActionsDropdown=b._getUserActionsDropdown(c,a,e),b.userProfileActionsDropdown.render(a,"after").open()}))})},onUserActionFollowSync:function(a,b){var c=this.$node.find(".js-action-follow[data-user-id='"+a+"']"),d;c.length&&(c.is(".js-button")?d=b?twttr.views.FollowRequestSentButton:twttr.views.UnfollowButton:c.is(".js-link")&&(d=b?twttr.views.FollowRequestSentLink:twttr.views.UnfollowLink),this._updateFollowState(a,c,d))},onUserActionUnfollowSync:function(a){var b=this.$node.find(".js-action-unfollow[data-user-id='"+a+"']"),c;b.length&&(b.is(".js-button")?c=twttr.views.FollowButton:b.is(".js-link")&&(c=twttr.views.FollowLink),this._updateFollowState(a,b,c))},_updateFollowState:function(a,b,c){c&&(new c({id:a})).render(b,"replaceWith")},_userLinkHtml:function(a){return(new twttr.views.UserLink(a)).html()},makeShortSocialContextHtml:function(a,b){var c="";return b.length==1?c+=_("被 {{{user}}} 关注",{user:this._userLinkHtml(b[0])}):c+=_('被 {{{user}}} 及<a href="{{url}}" class="pretty-link">其他<b>人</b></a>关注',{user:this._userLinkHtml(b[0]),url:twttr.router.followersYouFollowPath({screen_name:a})}),c},makeLongSocialContextHtml:function(a,b){var c="";switch(b.length){case 1:c+=_("被 {{{user}}} 关注。",{user:this._userLinkHtml(b[0])});break;case 2:c+=_("被 {{{first}}} 和 {{{second}}} 关注。",{first:this._userLinkHtml(b[0]),second:this._userLinkHtml(b[1])});break;case 3:c+=_("被 {{{first}}}、{{{second}}} 和 {{{third}}} 关注。",{first:this._userLinkHtml(b[0]),second:this._userLinkHtml(b[1]),third:this._userLinkHtml(b[2])});break;case 4:c+=_("被 {{{first}}}、{{{second}}}、{{{third}}} 及另外{{{other}}}人关注。",{first:this._userLinkHtml(b[0]),second:this._userLinkHtml(b[1]),third:this._userLinkHtml(b[2]),other:this._userLinkHtml(b[3])});break;default:c+=_('被 {{{first}}}、{{{second}}}、{{{third}}} 及<a href="{{url}}" class="pretty-link"><b>另外{{count}}人</b></a>关注。',{first:this._userLinkHtml(b[0]),second:this._userLinkHtml(b[1]),third:this._userLinkHtml(b[2]),count:b.length>13?"10+":b.length-3,url:twttr.router.followersYouFollowPath({screen_name:a})})}return c},makeSocialContextHtml:function(a,b){var c=this;if(a.socialContext)var d=a.socialContext,e=a.screenName;else var d=a.attributes.connections,e=a.user.screenName;var f="";return!this.screenName&&d&&d.length&&(b?f+=this.makeLongSocialContextHtml(e,d):f+=this.makeShortSocialContextHtml(e,d)),f},onUserActionFollowSuccess:function(a,b,c){},onUserActionFollowError:function(a,b){twttr.helpers.showErrorFromResponse(a,"follow")},onUserActionUnfollowSuccess:function(a,b){},onUserActionUnfollowError:function(a){twttr.helpers.showErrorFromResponse(a,"follow")},registerPromotedUserActionEvents:function(){var a=this;this.$node.delegate(".js-actionable-user .js-action-dismiss","click",function(b){var c=$(this),d=c.closest(".js-actionable-user"),e=d.attr("data-impression-id");a._updateTwttrPromotedAccount(parseInt(d.attr("data-user-id")),e),twttr.API.util.PromotedContent.logDismissUser(e),a.trigger("dismiss.user",[d,c,"dismiss"])}),this.$node.delegate(".js-actionable-user img.user-profile-link, .js-actionable-user .js-action-profile-avatar","click",function(b){var c=$(this),d=c.closest(".js-actionable-user"),e=d.attr("data-impression-id");a._updateTwttrPromotedAccount(parseInt(d.attr("data-user-id")),e),twttr.API.util.PromotedContent.logProfileImageClick(e),a.trigger("avatar_click.user",[d,c,"avatar"])}),this.$node.delegate(".js-actionable-user .js-promoted-badge","click",function(b){var c=$(this),d=c.closest(".js-actionable-user"),e=d.attr("data-impression-id");a._updateTwttrPromotedAccount(parseInt(d.attr("data-user-id")),e),twttr.API.util.PromotedContent.logFooterProfileClick(e),a.trigger("promoted_badge_click.user",[d,c,"promoted_badge"])}),this.$node.delegate(".js-actionable-user .user-name .user-profile-link, .js-actionable-user .js-action-profile-name","click",function(b){var c=$(this),d=c.closest(".js-actionable-user"),e=d.attr("data-impression-id");a._updateTwttrPromotedAccount(parseInt(d.attr("data-user-id")),e),twttr.API.util.PromotedContent.logScreenNameClick(e),a.trigger("screen_name_click.user",[d,c,"screen_name"])})},registerUserActionEvents:function(){var a=this;this.$node.delegate(".js-actionable-user .js-action-follow, .js-actionable-tweet .js-action-follow","click",function(b){return a.userActionFollow($(this)),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actionable-user .js-action-unfollow","click",function(b){return a.userActionUnfollow($(this)),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actionable-user .js-action-profilemenu","click",function(b){return a.userActionMenu($(this)),b.preventDefault(),b.stopPropagation(),!1}),this.registerPromotedUserActionEvents(),this._registerUserActionAPIListeners(),this._registerUserActionScribeListeners()},_registerUserActionAPIListeners:function(){var a=this;twttr.API.User.bind("follow",{before:function(b,c){var d=c.requestParameters[0].user_id;twttr.API.User.find(d,function(a){a.sync("following",!0),a.sync("followers_count",a.followersCount+1)}),a.onUserActionFollowSync(d)},error:function(b,c,d){var e=d.requestParameters[0].user_id;twttr.API.User.find(e,function(a){a.sync("following",!1),a.sync("followers_count",a.followersCount-1)}),a.onUserActionUnfollowSync(e)}}),twttr.API.User.bind("follow_request",{before:function(b,c){var d=c.requestParameters[0].user_id;twttr.API.User.find(d,function(a){a.sync("follow_request_sent",!0)}),a.onUserActionFollowSync(d,!0)},error:function(b,c,d){var e=d.requestParameters[0].user_id;twttr.API.User.find(e,function(a){a.sync("following_request_sent",!1)}),a.onUserActionUnfollowSync(e)}}),twttr.API.User.bind("unfollow",{before:function(b,c){var d=c.requestParameters[0].user_id;twttr.API.User.find(d,function(a){a.sync("following",!1),a["protected"]||a.sync("followers_count",a.followersCount-1)}),a.onUserActionUnfollowSync(d)},error:function(b,c,d){var e=d.requestParameters[0].user_id;twttr.API.User.find(e,function(a){a.sync("following",!0),a["protected"]||a.sync("followers_count",a.followersCount+1)}),a.onUserActionFollowSync(e)}})},_updateTwttrPromotedAccount:function(a,b){b?twttr.promotedAccountStore.setAccount(a,b):twttr.promotedAccountStore.clear()},_getUserActionsDropdown:function(a,b,c){var d=this,e=b.closest(".js-actionable-user"),f=[];return f.push({label:_("提及 {{screen_name}}",c),icon:"mention",className:"js-action-reply",handlers:{click:function(){(new twttr.widget.TweetDialog({template:{title:"Mention "+a.screenName},draggable:!0,defaultContent:"@"+a.screenName+" ",origin:"profile-actions-dropdown-mention"})).open().focus(),d.trigger("reply.user",[e,b,"reply"])}}}),f.push({label:_("添加到列表"),icon:"user-list",className:"js-action-addtolist",handlers:{click:function(){(new twttr.widget.ListMembershipDialog(a)).open(),d.trigger("add_to_list.user",[e,b,"add_to_list"])}}}),c.blocking?f.push({label:_("取消屏蔽 {{screen_name}}",c),icon:"block",className:"js-action-unblock",handlers:{click:function(){var c=$("div.profile-pane").attr("data-impression-id");a.unblock({before:function(){$('.stream .stream-tweet[data-user-id="'+a.id+'"]').closest(".stream-item").show()},success:function(){d.trigger("unblock.user",[e,b,"unblock"])},impression_id:c})}}}):f.push({label:_("屏蔽 {{screen_name}}",c),icon:"block",className:"js-action-block",handlers:{click:function(){var c=$("div.profile-pane").attr("data-impression-id");a.block({timeout:function(a){a.retry()},error:function(){twttr.showError(_("哇噢! 我们未能屏蔽该用户。请稍后再试。"))},success:function(a){d.trigger("block.user",[e,b,"block"])},impression_id:c})}}}),c.blocking||f.push({label:_('报告 <span class="truncate">{{screen_name}}</span> 发送垃圾信息',c),icon:"spam",className:"js-action-spam",handlers:{click:function(){var c=$("div.profile-pane").attr("data-impression-id");a.report({before:function(){$('.stream .stream-tweet[data-user-id="'+a.id+'"]').closest(".stream-item").hide()},error:function(a){twttr.errors.showErrorFromResponse(a,"report")},success:function(a){d.trigger("report_as_spam.user",[e,b,"report_as_spam"])},impression_id:c})}}}),new twttr.control.Dropdown(b,{itemView:twttr.views.UserDropdownItem,items:f,direction:"right"})}}),twttr.isT1&&a.mixin(b.mixins.userActionableT1),a}),a(twttr.mixins.userActionable)})});provide("mixins/profilePopupActionable",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.profilePopupActionable",function(){this.methods({showProfilePopup:function(a){using("widget/MiniProfileDialog",function(b){(new b(a)).open()})}}).click({".user-profile-link,          .js-user-profile-link,          .twitter-atreply,          .js-account-group":function(a,b){var c=this;if(b.is(".withheld-item .twitter-atreply"))return!1;b.hasClass("js-bubble-event")||(a.stopPropagation(),a.preventDefault());var d=b.data("user-id")||b.attr("data-screen-name")||b.closest(".js-profile-popup-actionable").data("user-id");if(!d){twttr.development&&console.log("can't open profile popup: no user identifier found");return}var e=b.closest(".js-actionable-tweet, .js-actionable-user"),f=e.attr("data-impression-id");twttr.API.User.find(d,{success:function(d){d=twttr.API.util.PromotedStore.getPromotedUserInstance(d,f),c.showProfilePopup(d),b.data("user-id",d.id),twttr.scribbles.logViewProfileDetails.call(b,a)},error:function(a){twttr.errors.showErrorFromResponse(a)}})}})}),a(twttr.mixins.profilePopupActionable)})});provide("mixins/listActionable",function(a){using("_").as(function(b,_){var c=twttr.klass.mixin("twttr.mixins.listActionable",function(){return this.methods({listDeleted:function(){},listUpdated:function(){},_setListFollowing:function(a,b,c){var d=c?"subscribe":"unsubscribe";twttr.API.User.find(a,function(a){a.lists.find(b,function(a){a[d]({error:function(){c?twttr.showError(_("订阅该列表时发生错误")):twttr.showError(_("取消订阅该列表时发生错误"))}})})})},unfollowList:function(a,b){this._setListFollowing(a,parseInt(b,10),!1)},followList:function(a,b){this._setListFollowing(a,parseInt(b,10),!0)}}).click({".js-delete-list-action":function(a,b){return(new twttr.widget.Prompt({modal:!0,template:{title:_("确定要删除该列表?")},callback:function(a){a&&twttr.currentUser.lists.find(parseInt(b.attr("data-list-id"),10),function(a){twttr.app.currentPage().send("listDeleted",[a]),a.destroy({error:function(){twttr.showError(_("删除列表时出错"))},success:function(){twttr.app.currentPage().send("listDeleted",[a])}})})}})).open(),a.stopPropagation(),!1},".js-edit-list-action":function(a,b){return twttr.currentUser.lists.find(parseInt(b.attr("data-list-id"),10),function(a){(new twttr.widget.ListDialog({list:a,onSuccess:function(a){twttr.app.currentPage().send("listUpdated",[a])}})).open()}),a.stopPropagation(),!1},".js-unfollow-list-action":function(a,b){return this.unfollowList(b.attr("data-screen-name"),parseInt(b.attr("data-list-id"),10)),a.stopPropagation(),!1},".js-follow-list-action":function(a,b){return this.followList(b.attr("data-screen-name"),parseInt(b.attr("data-list-id"),10)),a.stopPropagation(),!1}}),this});a(c)})});provide("mixins/tweetActionable",function(a){using("_").as(function(b,_){twttr.klass.mixin("twttr.mixins.tweetActionable",function(a){return a.mixin(twttr.mixins.itemActionableScribing,twttr.mixins.pendingActions).methods({deletedTweetCacheDuration:6e5,_updateTweetDisplay:function(a,b){var c=this;b==="delete"?(twttr.showMessage(_("你的推文已删除。")),c.onTweetActionDelete(a)):twttr.API.Status.find(a,function(d){var e=c.$find("div.js-actionable-tweet[data-tweet-id="+a+"]");switch(b){case"favorite":d.sync("favorited",!0),e.addClass("favorited");break;case"unfavorite":d.sync("favorited",!1),e.removeClass("favorited");break;case"retweet":d.sync("current_user_retweet",!0),e.addClass("retweeted");break;case"unretweet":d.sync("current_user_retweet",!1),e.removeClass("retweeted");break;case"hide":c.onTweetActionHide(a);break;case"show":c.onTweetActionShow(a)}c.rerenderTweetActionsView(b,d,e)})},onTweetActionDelete:function(a){this._getActionableTweets(a).remove()},onTweetActionHide:function(a){this._getActionableTweets(a).hide()},onTweetActionShow:function(a){this._getActionableTweets(a).show()},getTweetId:function(a){return a.attr("data-tweet-id")},getScreenName:function(a){return a.attr("data-screen-name")},getImpressionId:function(a){return a.attr("data-impression-id")},getScribeComponent:function(a){return a.is("div.details-pane .js-actionable-tweet")?"details-pane":a.is("div.stream .js-actionable-tweet")?"stream":"generic-component"},getStreamName:function(){var a=twttr.app.currentPage(),b=a.getInstanceProperty("streamManager");return b?b.getCurrent().constructor._name:null},tweetActionFavorite:function(a,b){if(!a||a.length===0||!twttr.loggedIn)return;var c=this.getTweetId(a),d=a.hasClass("favorited"),e=d?"unfavorite":"favorite",f=this.getImpressionId(a);twttr.API.Status[e](c,{impression_id:f,cacheOptions:{skipOverwrite:!0}});var g=twttr.app.currentPage().getInstanceProperty("streamManager"),i={input:b,tweet_id:c,favorited:!d,component:this.getScribeComponent(a),stream:g&&g.getCurrent().constructor._name};d?twttr.viewHelpers.addActivityItemLogging(a,i,"unfavorite-tweet"):twttr.viewHelpers.addExtraLogging(a,i,"favorite-tweet");var j=d?"unfavorite":"favorite";this.trigger(j+".tweet",[a,a.find("a.js-toggle-fav"),j]),_scribble("favorite-tweet",i)},tweetActionRetweet:function(a,b){if(!a||a.length===0||!twttr.loggedIn)return;var c=this.getTweetId(a),d=this.getScreenName(a),e=this.getImpressionId(a),f=a.hasClass("retweeted"),g=this.getScribeComponent(a),i=this.getStreamName(),j=!!a.attr("data-protected");if(twttr.helpers.isCurrentUser(d)||j&&!f)return;if(f){var k=a.attr("data-my-retweet-id");k&&(this.trigger("unretweet.tweet",[a,a.find("a.js-toggle-rt"),"unretweet"]),twttr.API.Status.unretweet(k))}else{var l=this;using([twttr.bundleMore,"dialogs"],function(){twttr.API.Status.find(c,function(d){twttr.dialogs.retweet(c,d.text,function(d){d&&(twttr.API.Status.retweet(c,{impression_id:e}),l.trigger("retweet.tweet",[a,a.find("a.js-toggle-rt"),"retweet"]),_scribble("tweet",{tweet_type:"retweet",origin:"tweet-action-retweet",input:b,component:g,stream:i}))}).open()})})}var m={input:b,tweet_id:c,component:g,stream:i};twttr.viewHelpers.addExtraLogging(a,m,"retweet-tweet-opened"),_scribble("retweet-tweet-opened",m)},tweetActionReply:function(a,b,c){if(!a||a.length===0||!twttr.loggedIn)return;var d=this.getTweetId(a),e=this.getImpressionId(a),f=this.getScreenName(a),g=this.getScribeComponent(a),i=this.getStreamName(),j={$tweet:a,tweetId:d,impressionId:e,screenName:f,origin:"tweet-action-reply",input:b,component:g,stream:i};if(!c){var k=this;using([twttr.bundleMore,"dialogs"],function(){var b=twttr.dialogs.reply(j);b.view.tweetBox.bind("sendingTweet",function(b,c){k.trigger("reply.tweet",[a,a.find("a.js-action-reply"),"reply"])}),b.open()})}var l={input:b,tweet_id:d,component:g,stream:i};return twttr.viewHelpers.addExtraLogging(a,l,"reply-to-tweet-opened"),_scribble("reply-to-tweet-opened",l),j},tweetActionDismiss:function(a,b){var c=this.getImpressionId(a),d=a.parent(".js-stream-item");d.hasClass("focused-stream-item")&&twttr.app.currentPage().send("closeDetailsPane"),d.fadeOut(300,function(){d.remove()});for(var e=0;e<this.items.length;e++)if(this.items[e].impressionId==c){this.items.splice(e,1);break}twttr.API.util.PromotedContent.logDismissOther(c),this.trigger("dismiss.tweet",[a,a.find("a.js-action-dismiss, div.js-action-dismiss"),"dismiss"]),twttr.promotedTweetStore.clear()},tweetActionNotRelevant:function(a){var b={query:a.find("a.js-action-notrel").attr("data-search-query"),tweet_id:this.getTweetId(a),stream_index:String(a.closest(".stream-item").parent().find('.stream-tweet:not([data-promoted="true"])').index(a))};this.trigger("not_relevant.tweet",[a,a.find("a.js-action-notrel"),"not_relevant"]),_scribble("not-relevant-tweet",b)},tweetActionDelete:function(a,b){var c=this;if(!a||a.length===0||!twttr.loggedIn)return;var d=this.getTweetId(a);using([twttr.bundleMore,"widget/Prompt"],function(){(new twttr.widget.Prompt({template:{title:_("确定要删除这条推文?")},callback:function(a){a&&twttr.API.Status.find(d).destroy({success:function(){twttr.app.caches.deletedTweets.set(d,!0,c.deletedTweetCacheDuration)},error:function(a){twttr.errors.showErrorFromResponse(a,"delete")}})}})).open()}),this.trigger("delete.tweet",[a,a.find("a.js-action-del"),"delete"]);var e={input:b,tweet_id:d,component:this.getScribeComponent(a)};_scribble("delete-tweet-opened",e)},_getActionableTweets:function(a){return this.$find("div.js-actionable-tweet[data-tweet-id="+a+"]")},_getActionableMyRetweets:function(a){return this.$find("div.js-actionable-tweet[data-my-retweet-id="+a+"]")},_registerTweetActionAPIListeners:function(){var a=this;twttr.API.Status.bind("favorite",{before:function(b,c){var d=c.requestParameters[0];a.markAsPending(a._getActionableTweets(d),"favorite"),a._updateTweetDisplay(d,"favorite")},complete:function(b,c,d){var e=d.requestParameters[0];a.markAsComplete(a._getActionableTweets(e),"favorite")},error:function(b,c,d){var e=d.requestParameters[0];a._updateTweetDisplay(e,"unfavorite"),twttr.errors.showErrorFromResponse(c,"favorite")}}),twttr.API.Status.bind("unfavorite",{before:function(b,c){var d=c.requestParameters[0];a.markAsPending(a._getActionableTweets(d),"unfavorite"),a._updateTweetDisplay(d,"unfavorite")},complete:function(b,c,d){var e=d.requestParameters[0];a.markAsComplete(a._getActionableTweets(e),"unfavorite")},error:function(b,c,d){var e=d.requestParameters[0];a._updateTweetDisplay(e,"favorite"),twttr.errors.showErrorFromResponse(c,"unfavorite")}}),twttr.API.Status.bind("retweet",{before:function(b,c){var d=c.requestParameters[0];a.markAsPending(a._getActionableTweets(d),"retweet"),a._updateTweetDisplay(d,"retweet")},complete:function(b,c,d){var e=d.requestParameters[0];a.markAsComplete(a._getActionableTweets(e),"retweet")},error:function(b,c,d){var e=d.requestParameters[0];a._updateTweetDisplay(e,"unretweet"),twttr.errors.showErrorFromResponse(c,"retweet")},success:function(b,c){var d=c.retweetingStatus.id,e=c.id;c.sync("current_user_retweet",{id:d}),a.$find("div.js-actionable-tweet[data-tweet-id="+e+"]").attr("data-my-retweet-id",d)}}),twttr.API.Status.bind("unretweet",{before:function(b,c){var d=c.requestParameters[0].id,e=a._getActionableMyRetweets(d);a.markAsPending(e,"unretweet");var f=e.attr("data-tweet-id");a._updateTweetDisplay(f,"unretweet")},complete:function(b,c,d){var e=d.requestParameters[0].id,f=a._getActionableMyRetweets(e);a.markAsComplete(f,"unretweet")},error:function(b,c,d){var e=d.requestParameters[0].id,f=a._getActionableMyRetweets(e),g=f.attr("data-tweet-id");a._updateTweetDisplay(g,"retweet")},success:function(b,c,d){var e=c.id,f=c.retweetingStatus.id;a._updateTweetDisplay(e,"unretweet"),a._getActionableTweets(e).attr("data-my-retweet-id",null)}}),twttr.API.Status.bind("delete",{before:function(b,c){var d=c.requestParameters[0].id;a.markAsPending(a._getActionableTweets(d),"delete"),a._updateTweetDisplay(d,"hide")},complete:function(b,c,d){var e=d.requestParameters[0].id;a.markAsComplete(a._getActionableTweets(e),"delete")},error:function(b,c,d){var e=d.requestParameters[0].id;a._updateTweetDisplay(e,"show")},success:function(b,c,d){var e=c.id;a._updateTweetDisplay(e,"delete")}})},registerTweetActionEvents:function(){var a=this;this.$node.delegate(".js-actionable-tweet .js-action-profile-avatar","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logProfileImageClick(e),a.trigger("avatar_click.tweet",[d,c,"avatar"])}),this.$node.delegate(".js-actionable-tweet .js-action-profile-name","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logScreenNameClick(e),a.trigger("screen_name_click.tweet",[d,c,"screen_name"])}),this.$node.delegate(".js-actionable-tweet .js-action-profile-promoted","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logFooterProfileClick(e),a.trigger("promoted_badge_click.tweet",[d,c,"promoted_badge"])}),this.$node.delegate(".js-actionable-tweet .twitter-hashtag","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logHashtagClick(e,c.text()),a.trigger("hashtag_click.tweet",[d,c,"hashtag"])}),this.$node.delegate(".js-actionable-tweet .twitter-atreply","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logUserMentionClick(e,c.text()),a.trigger("mention_click.tweet",[d,c,"mention"])}),this.$node.delegate(".js-actionable-tweet .twitter-timeline-link","click",function(b){var c=$(this),d=c.closest(".js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logUrlClick(e,c.text()),a.trigger("external_link_click.tweet",[d,c,"external_link"])}),this.$node.delegate(".js-stream-item .js-permalink","click",function(b){var c=$(this),d=c.closest(".js-stream-item").find("div.js-actionable-tweet"),e=d.attr("data-impression-id");e&&twttr.API.util.PromotedContent.logPermalinkClick(e),a.trigger("permalink_click.tweet",[d,c,"permalink"])}),this.$node.delegate(".js-actions .js-toggle-fav","click",function(b){return twttr.loggedIn?a.tweetActionFavorite($(this).closest(".js-actionable-tweet"),"click"):twttr.dialogs.signinOrSignup().open(),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actions .js-action-reply","click",function(b){if(twttr.loggedIn){var c=$(this).closest(".js-actionable-tweet");if(twttr.decider.hasInlineReplies()&&c.hasClass("original-tweet")&&!c.hasClass("js-activity-tweet"))if(!c.hasClass("opened-tweet"))c.find(".action-reply-container").trigger("click");else{var d=c.data("inline-tweetbox");d&&d.focus()}else a.tweetActionReply(c,"click")}else twttr.dialogs.signinOrSignup().open();return b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-action-dismiss","click",function(b){return a.tweetActionDismiss($(this).closest(".js-actionable-tweet"),"click"),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actions .js-action-del","click",function(b){return a.tweetActionDelete($(this).closest(".js-actionable-tweet"),"click"),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actions .js-toggle-rt","click",function(b){return twttr.loggedIn?a.tweetActionRetweet($(this).closest(".js-actionable-tweet"),"click"):twttr.dialogs.signinOrSignup().open(),b.preventDefault(),b.stopPropagation(),!1}),this.$node.delegate(".js-actions .js-action-notrel","click",function(b){return a.tweetActionNotRelevant($(this).closest(".js-actionable-tweet"),"click"),b.preventDefault(),b.stopPropagation(),!1}),this._registerTweetActionAPIListeners(),this._registerTweetActionScribeListeners()}}),twttr.isT1?this.methods({rerenderTweetActionsView:twttr.util.noopInT1}):this.methods({rerenderTweetActionsView:function(a,b,c){var d=new twttr.views.TweetActions(b);a==="unretweet"&&(d.retweeted=!1),c.find("span.js-actions, ul.js-actions").replaceWith(d.html())}}),a}),a(twttr.mixins.tweetActionable)})});provide("mixins/pendingActions",function(a){using().as(function(b){var c=twttr.klass.mixin("twttr.mixins.pendingActions",function(){function a(a){var b=a.attr("data-pending");return b?b.split(" "):[]}function b(a,b){b.length===0?a.removeAttr("data-pending"):a.attr("data-pending",b.join(" "))}var $=jQuery;return this.methods({markAsPending:function(c,d){var e=a(c);$.inArray(d,e)==-1&&(e.push(d),b(c,e))},markAsComplete:function(c,d){var e=a(c),f=$.inArray(d,e);f>=0&&(e.splice(f,1),b(c,e))}}),this});a(c)})});provide("mixins/i18nTweet",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.i18nTweet",function(){var a=.3,b=twttr.constants.regexps.rtlChar,c=/((<a[^>+]+>.+?<\/a>|[ ^]RT:|:-?[DP\$\)\(])+)/g;this.methods({updateI18nDisplay:function(){var a=this;this.$find("div.tweet, div.tweet-row").each(function(){a.updateRtlDisplay($(this))})},getMachedRtlChars:function(a){return a.match(b)},shouldBeRTL:function(b,c){var d=twttr.txt.extractMentions(b).concat(twttr.txt.extractUrls(b)),e=0;d.length>0&&(e=d.length*2+d.join("").length);var f=b.length-e;return f!=0&&c.length/f>a},updateRtlDisplay:function(a){var b=this,d=a.find("div.js-tweet-text, p.js-tweet-text");if(d.hasClass("tweet-text-rtl"))return;var e=this.getMachedRtlChars(d.text());e!=undefined&&(d.find(".twitter-hashtag").each(function(){var a=$(this).attr("title");if(!a)return;a.match(twttr.constants.regexps.rtlHashtag)?$(this).html("‫"+$(this).html()+"‬"):$(this).html("‪"+$(this).html()+"‬")}),this.shouldBeRTL(d.text(),e)&&(d.addClass("tweet-text-rtl"),d.html(d.html().replace(c,"‎$1‏")),d.addClass("tweet-rtl")))}})}),a(twttr.mixins.i18nTweet)})});provide("mixins/i18nTweetBox",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.i18nTweetBox",function(){this.mixin(twttr.mixins.i18nTweet).methods({registerTextDirEvents:function(){this.editor.bind("didChangeContent",twttr.bind(this,this._toggleTextDir))},_insertLTRMarker:function(a){var b=0,c=[];return $(twttr.txt.extractMentionsWithIndices(a)).each(function(d,e){c.push(a.substring(b,e.indices[0])),(e.indices[0]===0||a[e.indices[0]-1]!=="‎")&&c.push("‎"),c.push(a.substring(e.indices[0],e.indices[1])),(e.indices[1]===0||a[e.indices[1]+1]!=="‏")&&c.push("‏"),b=e.indices[1]}),c.push(a.substr(b)),a=c.join(""),b=0,c.length=0,$(twttr.txt.extractHashtagsWithIndices(a)).each(function(d,e){c.push(a.substring(b,e.indices[0])),!a[e.indices[0]+1].match(twttr.constants.regexps.rtlChar)&&(e.indices[0]===0||a[e.indices[0]-1]!=="‎")&&c.push("‎"),b=e.indices[0]}),c.push(a.substr(b)),a=c.join(""),b=0,c.length=0,$(twttr.txt.extractUrlsWithIndices(a)).each(function(d,e){c.push(a.substring(b,e.indices[1])),e.indices[1]!==0&&a[e.indices[1]+1]!=="‎"&&c.push("‎"),b=e.indices[1]}),c.push(a.substr(b)),a=c.join(""),a},_eraseCheck:function(a){if(this._prev_txt&&this._prev_txt.length-a.length===1)for(i=0;i<this._prev_txt.length;++i)if(this._prev_txt[i]!==a[i]&&(this._prev_txt[i]==="‎"||this._prev_txt[i]==="‏"))return a.substring(0,i-1)+a.substr(i);return a},_markAtmarkLTR:function(a){function b(a){var b=0;if(document.selection){var c=document.selection.createRange();if(c&&c.parentElement()===a){var d=a.value.length,e=a.createTextRange();e.moveToBookmark(c.getBookmark());var f=a.createTextRange();f.collapse(!1),e.compareEndPoints("StartToEnd",f)>-1?b=d:b=-e.moveStart("character",-d)}}else if(a.selectionStart||a.selectionStart=="0")b=a.selectionStart;return b}function c(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var d=a.parents("body").length!==0,e=0;d&&(e=b(a[0]));var f=a.val().length,g=this._eraseCheck(a.val()).replace(twttr.constants.regexps.dirMark,"");g=this._insertLTRMarker(g);if(d&&this._prev_txt!==g){this._prev_txt=g,a.val(g);var i=e+g.length-f;c(a[0],i)}},markPunctuation:function(a,b){var c=b.val(),d=c.match(twttr.constants.regexps.rtlChar),e=twttr.isRTL;d?e=this.shouldBeRTL(c,d):c.length!==0&&(e=!1),b.attr("dir",e?"rtl":"ltr"),d&&($.browser.mozilla||$.browser.webkit&&a&&a.type==="keydown"||$.browser.msie&&a&&a.type==="keyup")&&this._markAtmarkLTR(b)},_toggleTextDir:function(a,b,c){this.markPunctuation(c,this.editor.$editor)}})}),a(twttr.mixins.i18nTweetBox)})});provide("mixins/promotedTweetStream",function(a){using("_").as(function(b,_){var c=twttr.klass.mixin("twttr.mixins.promotedTweetStream",function(a){return a.methods({hasPromotedContent:function(){for(var a=0,b=this.items.length;a<b;a++)if(this.items[a].isPromoted())return!0;return!1},logPromotedImpressions:function(a){function b(a){a.logImpressionIfPromoted()}a.each?a.each(b):twttr.each(a,b)},movePromotedTweetToTop:function(){var a=this.getMostRecentPromotedTweet();a&&(this.removePromotedTweetDOMElements(),this.removePromotedTweetItems(),this.addAsNewItem(a))},getMostRecentPromotedTweet:function(){for(var a=this.newItemsCount,b=this.items.length;a<b;a++)if(this.items[a].isPromoted())return this.items[a]},promotedTweetIsExpanded:function(){var a=this.$find(".promoted-tweet").closest(".js-stream-item");return a.hasClass("open")},removePromotedTweetDOMElements:function(){this.$find(".promoted-tweet").closest(".js-stream-item").remove()},removePromotedTweetItems:function(){for(var a=this.newItemsCount;a<this.items.length;a++)this.items[a].isPromoted()&&this.items.splice(a,1)}}),a});a(c)})});provide("mixins/componentEvents",function(a){using("util","constants").as(function(b){var c;twttr.klass.mixin("twttr.mixins.componentEvents",function(a){return $.each(b.constants.jQueryEvents,function(c,d){a[d]=function(a){return twttr.is.inArray(d,["keypress","keydown","keyup"])&&$.each(a,function(b,c){a[b]=function(a){return a.ctrlKey||a.metaKey||a.altKey?undefined:c.apply(this,arguments)}}),this.prototype.hasOwnProperty("_"+d)||(this.uberclass&&this.uberclass.prototype["_"+d]?this.prototype["_"+d]=b.util.create(this.uberclass.prototype["_"+d]):this.prototype["_"+d]={}),twttr.augmentObject(this.prototype["_"+d],a),this}}),a.statics({debugUserEvents:function(a){c=typeof a=="undefined"?!0:a}}),a.methods({initComponentEvents:function(a){var d=this;a=a||this.$node,$.each(b.constants.jQueryEvents,function(b,e){if(twttr.is.inArray(e,["keypress","keydown","keyup"]))return;$.each(d["_"+e]||{},function(b,f){var g=[b,e],i=$.isArray(f)?f:[f];$.each(i,function(a,f){g.push(function(a){c&&console.log("User event fired",{component:d,event:e,selector:b,handler:f});if(!a.isImmediatePropagationStopped())return f.call(d,a,$(this))})}),a.delegate.apply(a,g)})})}}),a}),a(twttr.mixins.componentEvents)})});provide("mixins/protectedUserActionable",function(a){using("_").as(function(b,_){twttr.klass.mixin("twttr.mixins.protectedUserActionable",function(a){return a.methods({registerProtectedUserActions:function(){var a=this;this.$node.delegate(".js-actionable-user .js-action-deny","click",function(b){var c=$(this),d=c.closest(".js-actionable-user");return twttr.currentUser.friends.deny(parseInt(d.attr("data-user-id")),function(b){a.trigger("deny.user",[d,c,"deny"]),d.parents(".js-stream-item").remove()}),b.stopImmediatePropagation(),!1}),this.$node.delegate(".js-actionable-user .js-action-accept","click",function(b){var c=$(this),d=c.closest(".js-actionable-user");return twttr.currentUser.friends.accept(parseInt(d.attr("data-user-id")),function(b){a.trigger("accept.user",[d,c,"accept"]),(new twttr.views.StreamUser(b)).render(d,"replaceWith")}),b.stopImmediatePropagation(),!1})}}),a}),a(twttr.mixins.protectedUserActionable)})});provide("mixins/serverRenderableObject",function(a){using("libwrap/jquery").as(function(b,$){twttr.klass.mixin("twttr.mixins.serverRenderableObject",function(a){return a.methods({preRendered:!1,$domNode:function(a){return this.$node?this.$node:(this.isPresentInDom()?(this.preRendered=!0,this.$node=$(this.selectorAsString())):(this.preRendered=!1,typeof a=="function"&&(a=a.call(this)),this.$node=$(a),this.$node.length>1&&(this.$node=$("<div />").html(a))),this.$node)},domNodeSelector:null,selectorAsString:function(){return typeof this.domNodeSelector=="function"?this.domNodeSelector():this.domNodeSelector},isPresentInDom:function(){var a=this.selectorAsString();return a&&$(a).length===1}}),a}),a(twttr.mixins.serverRenderableObject)})});provide("mixins/welcomeScribing",function(a){using().as(function(b){twttr.klass.mixin("twttr.mixins.welcomeScribing",function(a){return a.methods({setWelcomeSkipCookie:function(){twttr.mixins.welcomeScribing._noWelcomeSkipCookie=!1,$.cookie("welcome","1",{expires:new Date(+(new Date)+36e5)})},clearWelcomeSkipCookie:function(){twttr.mixins.welcomeScribing._noWelcomeSkipCookie||(twttr.mixins.welcomeScribing._noWelcomeSkipCookie=!0,$.cookie("welcome",null))},maybeScribeWelcomeSkip:function(){if(twttr.mixins.welcomeScribing._noWelcomeSkipCookie||$.cookie("welcome")!="1"){twttr.mixins.welcomeScribing._noWelcomeSkipCookie=!0;return}var a={page:"welcome",section:"finished",action:"skip"};trackClient(a),this.clearWelcomeSkipCookie()}}),a}),a()})});provide("mixins/t1/emptyTimelineRecommendations",function(a){using().as(function(){twttr.klass.mixin("twttr.mixins.emptyTimelineRecommendations",function(){this.statics({showing:!1}).methods({insertEmptyTimeline:function(a){var a=a||{},b=this;using([twttr.bundleMore,"components/t1/EmptyTimelineRecommendations"],function(){if(!twttr.decider.isAvailable("empty_timeline_recommendations"))return b._dontShowSignalCompleted(b);if(!twttr.util.params().empty_timeline){if(twttr.cache.local.shownWelcomeFlow&&twttr.currentUser.friendsCount>0)return b._dontShowSignalCompleted(b);if(twttr.currentUser.friendsCount>=twttr.components.t1.EmptyTimelineRecommendations.avatarLimit)return b._dontShowSignalCompleted(b);if(Math.floor((new Date).getTime()-new Date(twttr.currentUser.createdAt))/864e5>60&&twttr.currentUser.followersCount>100&&twttr.currentUser.friendsCount>0)return b._dontShowSignalCompleted(b)}var c=b.$find("#js-empty-timeline-recommendations-module-hook"),d=b.$find(".js-stream-manager-container, .js-stream-header");c.show(),twttr.mixins.emptyTimelineRecommendations.showing=!0,twttr.router.one("routed.EmptyTimelineRecommendations",function(a,b){e===b.name?twttr.router.one("routed.EmptyTimelineRecommendations",arguments.callee):(c.hide(),d.show())});var e=twttr.router.getCurrentRoute().name;if(c.find(".js-empty-timeline").size()>0){b.signal("emptyTimelineModuleLogicCompleted");return}var f=new twttr.components.t1.EmptyTimelineRecommendations({scribeComponentName:"empty_timeline_recommendations"});twttr.currentUser.friendsCount===0&&d.hide(),c.html(f.$node),f.trigger("addedToPage"),typeof a.onDestroyCb=="function"&&f.bind("destroyed",a.onDestroyCb);var g={success:function(){var c=b.streamManager.streams.current;a.reloadStream&&c.trigger("reloadCurrentStream",c.constructor),d.show()}};twttr.API.User.bind("follow.EmptyTimelineRecommendations",g);var g={success:function(){var c=b.streamManager.streams.current;a.reloadStream&&c.trigger("reloadCurrentStream",c.constructor),twttr.currentUser.friendsCount===0&&d.hide()}};twttr.API.User.bind("unfollow.EmptyTimelineRecommendations",g),b.signal("emptyTimelineModuleLogicCompleted")})},_dontShowSignalCompleted:function(a){twttr.mixins.emptyTimelineRecommendations.showing=!1,a.signal("emptyTimelineModuleLogicCompleted")}})}),a(twttr.mixins.emptyTimelineRecommendations)})});provide("lib/natcompare",function(a){using().as(function(b){var c=twttr.augmentString("twttr.natcompare",function(){var a=function(a){var b;return b=a.charCodeAt(0),b<=32?!0:!1},b=function(a){var b;return b=a.charCodeAt(0),b>=48&&b<=57?!0:!1},c=function(a,c){var d=0,e=0,f=0,g,i;for(;;e++,f++){g=a.charAt(e),i=c.charAt(f);if(!b(g)&&!b(i))return d;if(!b(g))return-1;if(!b(i))return 1;g<i?d==0&&(d=-1):g>i&&d==0&&(d=1)}};return function(d,e){typeof d=="number"&&(d=d.toString()),typeof e=="number"&&(e=e.toString());var f=0,g=0,i=0,j=0,k,l,m;for(;;){i=j=0,k=d.charAt(f),l=e.charAt(g);while(a(k)||k=="0")k=="0"?i++:i=0,k=d.charAt(++f);while(a(l)||l=="0")l=="0"?j++:j=0,l=e.charAt(++g);if(b(k)&&b(l)&&(m=c(d.substring(f),e.substring(g)))!=0)return m;if(k==0&&l==0)return i-j;if(k<l)return-1;if(k>l)return 1;++f,++g}}}());twttr.augmentString("twttr.util.natcompare",c),a(c)})});provide("$lib/twitter-text-1.4.16.js",function(a){/*!
 * twitter-text-js 1.4.16
 *
 * Copyright 2011 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this work except in compliance with the License.
 * You may obtain a copy of the License at:
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 */if(typeof window=="undefined"||window===null)window={twttr:{}};window.twttr==null&&(window.twttr={});if(typeof twttr=="undefined"||twttr===null)twttr={};(function(){function a(a,b){return b=b||"",typeof a!="string"&&(a.global&&b.indexOf("g")<0&&(b+="g"),a.ignoreCase&&b.indexOf("i")<0&&(b+="i"),a.multiline&&b.indexOf("m")<0&&(b+="m"),a=a.source),new RegExp(a.replace(/#\{(\w+)\}/g,function(a,b){var c=twttr.txt.regexen[b]||"";return typeof c!="string"&&(c=c.source),c}),b)}function b(a,b){return a.replace(/#\{(\w+)\}/g,function(a,c){return b[c]||""})}function c(a,b,c){var d=String.fromCharCode(b);return c!==b&&(d+="-"+String.fromCharCode(c)),a.push(d),a}function d(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function e(a,b,c){return c?!a||a.match(b)&&RegExp["$&"]===a:typeof a=="string"&&a.match(b)&&RegExp["$&"]===a}twttr.txt={},twttr.txt.regexen={};var f={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};twttr.txt.htmlEscape=function(a){return a&&a.replace(/[&"'><]/g,function(a){return f[a]})};var g=String.fromCharCode,i=[g(32),g(133),g(160),g(5760),g(6158),g(8232),g(8233),g(8239),g(8287),g(12288)];c(i,9,13),c(i,8192,8202);var j=[g(65534),g(65279),g(65535)];c(j,8234,8238),twttr.txt.regexen.spaces_group=a(i.join("")),twttr.txt.regexen.spaces=a("["+i.join("")+"]"),twttr.txt.regexen.invalid_chars_group=a(j.join("")),twttr.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,twttr.txt.regexen.atSigns=/[@＠]/,twttr.txt.regexen.extractMentions=a(/(^|[^a-zA-Z0-9_!#$%&*@＠])(#{atSigns})([a-zA-Z0-9_]{1,20})/g),twttr.txt.regexen.extractReply=a(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),twttr.txt.regexen.listName=/[a-zA-Z][a-zA-Z0-9_\-\u0080-\u00ff]{0,24}/,twttr.txt.regexen.extractMentionsOrLists=a(/(^|[^a-zA-Z0-9_!#$%&*@＠])(#{atSigns})([a-zA-Z0-9_]{1,20})(\/[a-zA-Z][a-zA-Z0-9_\-]{0,24})?/g);var k=[];c(k,1024,1279),c(k,1280,1319),c(k,11744,11775),c(k,42560,42655),c(k,1425,1469),c(k,1471,1471),c(k,1473,1474),c(k,1476,1477),c(k,1479,1479),c(k,1488,1514),c(k,1520,1522),c(k,64274,64296),c(k,64298,64310),c(k,64312,64316),c(k,64318,64318),c(k,64320,64321),c(k,64323,64324),c(k,64326,64335),c(k,1552,1562),c(k,1568,1631),c(k,1646,1747),c(k,1749,1756),c(k,1758,1768),c(k,1770,1775),c(k,1786,1788),c(k,1791,1791),c(k,1872,1919),c(k,2208,2208),c(k,2210,2220),c(k,2276,2302),c(k,64336,64433),c(k,64467,64829),c(k,64848,64911),c(k,64914,64967),c(k,65008,65019),c(k,65136,65140),c(k,65142,65276),c(k,8204,8204),c(k,3585,3642),c(k,3648,3662),c(k,4352,4607),c(k,12592,12677),c(k,43360,43391),c(k,44032,55215),c(k,55216,55295),c(k,65441,65500),c(k,12449,12538),c(k,12540,12542),c(k,65382,65439),c(k,65392,65392),c(k,65296,65305),c(k,65313,65338),c(k,65345,65370),c(k,12353,12438),c(k,12441,12446),c(k,13312,19903),c(k,19968,40959),c(k,173824,177983),c(k,177984,178207),c(k,194560,195103),c(k,12291,12291),c(k,12293,12293),c(k,12347,12347),twttr.txt.regexen.nonLatinHashtagChars=a(k.join(""));var l=[];c(l,192,214),c(l,216,246),c(l,248,255),c(l,256,591),c(l,595,596),c(l,598,599),c(l,601,601),c(l,603,603),c(l,611,611),c(l,616,616),c(l,623,623),c(l,626,626),c(l,649,649),c(l,651,651),c(l,699,699),c(l,7680,7935),twttr.txt.regexen.latinAccentChars=a(l.join("")),twttr.txt.regexen.endScreenNameMatch=a(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),twttr.txt.regexen.hashtagAlpha=a(/[a-z_#{latinAccentChars}#{nonLatinHashtagChars}]/i),twttr.txt.regexen.hashtagAlphaNumeric=a(/[a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}]/i),twttr.txt.regexen.endHashtagMatch=/^(?:[#＃]|:\/\/)/,twttr.txt.regexen.hashtagBoundary=a(/(?:^|$|[^&\/a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}])/),twttr.txt.regexen.autoLinkHashtags=a(/(#{hashtagBoundary})(#|＃)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),twttr.txt.regexen.autoLinkUsernamesOrLists=/(^|[^a-zA-Z0-9_!#\$%&*@＠]|RT:?)([@＠]+)([a-zA-Z0-9_]{1,20})(\/[a-zA-Z][a-zA-Z0-9_\-]{0,24})?/g,twttr.txt.regexen.autoLinkEmoticon=/(8\-\#|8\-E|\+\-\(|\`\@|\`O|\&lt;\|:~\(|\}:o\{|:\-\[|\&gt;o\&lt;|X\-\/|\[:-\]\-I\-|\/\/\/\/Ö\\\\\\\\|\(\|:\|\/\)|∑:\*\)|\( \| \))/g,twttr.txt.regexen.validPrecedingChars=a(/(?:[^-\/"'!=A-Za-z0-9_@＠$#＃\.#{invalid_chars_group}]|^)/),twttr.txt.regexen.invalidDomainChars=b("#{punct}#{spaces_group}#{invalid_chars_group}",twttr.txt.regexen),twttr.txt.regexen.validDomainChars=a(/[^#{invalidDomainChars}]/),twttr.txt.regexen.validSubdomain=a(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),twttr.txt.regexen.validDomainName=a(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),twttr.txt.regexen.validGTLD=a(/(?:(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx)(?=[^a-zA-Z]|$))/),twttr.txt.regexen.validCCTLD=a(/(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)(?=[^a-zA-Z]|$))/),twttr.txt.regexen.validPunycode=a(/(?:xn--[0-9a-z]+)/),twttr.txt.regexen.validDomain=a(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),twttr.txt.regexen.validAsciiDomain=a(/(?:(?:[a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),twttr.txt.regexen.invalidShortDomain=a(/^#{validDomainName}#{validCCTLD}$/),twttr.txt.regexen.validPortNumber=a(/[0-9]+/),twttr.txt.regexen.validGeneralUrlPathChars=a(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~|&#{latinAccentChars}]/i),twttr.txt.regexen.validUrlBalancedParens=a(/\(#{validGeneralUrlPathChars}+\)/i),twttr.txt.regexen.validUrlPathEndingChars=a(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),twttr.txt.regexen.validUrlPath=a("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),twttr.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,twttr.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,twttr.txt.regexen.extractUrl=a("((#{validPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),twttr.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,twttr.txt.regexen.validateUrlUnreserved=/[a-z0-9\-._~]/i,twttr.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,twttr.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,twttr.txt.regexen.validateUrlPchar=a("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),twttr.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,twttr.txt.regexen.validateUrlUserinfo=a("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),twttr.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,twttr.txt.regexen.validateUrlIpv4=a(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),twttr.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,twttr.txt.regexen.validateUrlIp=a("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),twttr.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,twttr.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,twttr.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,twttr.txt.regexen.validateUrlDomain=a(/(?:(?:#{validateUrlSubDomainSegment]}\.)*(?:#{validateUrlDomainSegment]}\.)#{validateUrlDomainTld})/i),twttr.txt.regexen.validateUrlHost=a("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),twttr.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,twttr.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,twttr.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,twttr.txt.regexen.validateUrlUnicodeDomain=a(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),twttr.txt.regexen.validateUrlUnicodeHost=a("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),twttr.txt.regexen.validateUrlPort=/[0-9]{1,5}/,twttr.txt.regexen.validateUrlUnicodeAuthority=a("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),twttr.txt.regexen.validateUrlAuthority=a("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),twttr.txt.regexen.validateUrlPath=a(/(\/#{validateUrlPchar}*)*/i),twttr.txt.regexen.validateUrlQuery=a(/(#{validateUrlPchar}|\/|\?)*/i),twttr.txt.regexen.validateUrlFragment=a(/(#{validateUrlPchar}|\/|\?)*/i),twttr.txt.regexen.validateUrlUnencoded=a("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var m="tweet-url",n="list-slug",o="username",p="hashtag",q=' rel="nofollow"';twttr.txt.autoLink=function(a,b){return b=d(b||{}),twttr.txt.autoLinkUsernamesOrLists(twttr.txt.autoLinkUrlsCustom(twttr.txt.autoLinkHashtags(a,b),b),b)},twttr.txt.autoLinkUsernamesOrLists=function(a,c){c=d(c||{}),c.urlClass=c.urlClass||m,c.listClass=c.listClass||n,c.usernameClass=c.usernameClass||o,c.usernameUrlBase=c.usernameUrlBase||"https://twitter.com/",c.listUrlBase=c.listUrlBase||"https://twitter.com/";if(!c.suppressNoFollow)var e=q;var f="",g=twttr.txt.splitTags(a);for(var i=0;i<g.length;i++){var j=g[i];i!==0&&(f+=i%2===0?">":"<"),i%4!==0?f+=j:f+=j.replace(twttr.txt.regexen.autoLinkUsernamesOrLists,function(a,d,f,g,i,j,k){var l=k.slice(j+a.length),m={before:d,at:c.usernameIncludeSymbol?"":f,at_before_user:c.usernameIncludeSymbol?f:"",user:twttr.txt.htmlEscape(g),slashListname:twttr.txt.htmlEscape(i),extraHtml:e,preChunk:"",postChunk:""};for(var n in c)c.hasOwnProperty(n)&&(m[n]=c[n]);if(i&&!c.suppressLists){var o=m.chunk=b("#{user}#{slashListname}",m);return m.list=twttr.txt.htmlEscape(o.toLowerCase()),b('#{before}#{at}<a class="#{urlClass} #{listClass}" href="#{listUrlBase}#{list}"#{extraHtml}>#{preChunk}#{at_before_user}#{chunk}#{postChunk}</a>',m)}return l&&l.match(twttr.txt.regexen.endScreenNameMatch)?a:(m.chunk=m.user,m.dataScreenName=c.suppressDataScreenName?"":b('data-screen-name="#{chunk}" ',m),b('#{before}#{at}<a class="#{urlClass} #{usernameClass}" #{dataScreenName}href="#{usernameUrlBase}#{chunk}"#{extraHtml}>#{preChunk}#{at_before_user}#{chunk}#{postChunk}</a>',m))})}return f},twttr.txt.autoLinkHashtags=function(a,c){c=d(c||{}),c.urlClass=c.urlClass||m,c.hashtagClass=c.hashtagClass||p,c.hashtagUrlBase=c.hashtagUrlBase||"https://twitter.com/#!/search?q=%23";if(!c.suppressNoFollow)var e=q;return a.replace(twttr.txt.regexen.autoLinkHashtags,function(a,d,f,g,i,j){var k=j.slice(i+a.length);if(k.match(twttr.txt.regexen.endHashtagMatch))return a;var l={before:d,hash:twttr.txt.htmlEscape(f),preText:"",text:twttr.txt.htmlEscape(g),postText:"",extraHtml:e};for(var m in c)c.hasOwnProperty(m)&&(l[m]=c[m]);return b('#{before}<a href="#{hashtagUrlBase}#{text}" title="##{text}" class="#{urlClass} #{hashtagClass}"#{extraHtml}>#{hash}#{preText}#{text}#{postText}</a>',l)})},twttr.txt.autoLinkUrlsCustom=function(a,c){c=d(c||{}),c.suppressNoFollow||(c.rel="nofollow"),c.urlClass&&(c["class"]=c.urlClass,delete c.urlClass);var e,f,g;if(c.urlEntities){e={};for(f=0,g=c.urlEntities.length;f<g;f++)e[c.urlEntities[f].url]=c.urlEntities[f]}return delete c.suppressNoFollow,delete c.suppressDataScreenName,delete c.listClass,delete c.usernameClass,delete c.usernameUrlBase,delete c.listUrlBase,delete c.urlEntities,a.replace(twttr.txt.regexen.extractUrl,function(a,d,f,g,i,j,k,l,m){var n;if(i){var o="",p="";g.match(twttr.txt.regexen.validTcoUrl)&&(g=RegExp.lastMatch,p=RegExp.rightContext);var q=g,r=twttr.txt.htmlEscape(q);if(e&&e[g]&&e[g].display_url){var q=e[g].display_url,s=e[g].expanded_url;c.title||(c.title=s);var t=q.replace(/…/g,"");if(s.indexOf(t)!=-1){var u=s.indexOf(t),v={displayUrlSansEllipses:t,beforeDisplayUrl:s.substr(0,u),afterDisplayUrl:s.substr(u+t.length),precedingEllipsis:q.match(/^…/)?"…":"",followingEllipsis:q.match(/…$/)?"…":""};$.each(v,function(a,b){v[a]=twttr.txt.htmlEscape(b)}),v.invisible="style='font-size:0; line-height:0'",r=b("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",v)}}for(var w in c){var x=c[w].toString();o+=b(' #{k}="#{val}" ',{k:w,val:twttr.txt.htmlEscape(x)})}var y={before:f,htmlAttrs:o,url:twttr.txt.htmlEscape(g),linkText:r,after:p};return b('#{before}<a href="#{url}"#{htmlAttrs}>#{linkText}</a>#{after}',y)}return d})},twttr.txt.extractMentions=function(a){var b=[],c=twttr.txt.extractMentionsWithIndices(a);for(var d=0;d<c.length;d++){var e=c[d].screenName;b.push(e)}return b},twttr.txt.extractMentionsWithIndices=function(a){if(!a)return[];var b=[],c=0;return a.replace(twttr.txt.regexen.extractMentions,function(d,e,f,g,i,j){var k=j.slice(i+d.length);if(!k.match(twttr.txt.regexen.endScreenNameMatch)){var l=a.indexOf(f+g,c);c=l+g.length+1,b.push({screenName:g,indices:[l,c]})}}),b},twttr.txt.extractMentionsOrListsWithIndices=function(a){if(!a)return[];var b=[],c=0;return a.replace(twttr.txt.regexen.extractMentionsOrLists,function(d,e,f,g,i,j,k){var l=k.slice(j+d.length);if(!l.match(twttr.txt.regexen.endScreenNameMatch)){i=i||"";var m=a.indexOf(f+g+i,c);c=m+g.length+i.length+1,b.push({screenName:g,listSlug:i,indices:[m,c]})}}),b},twttr.txt.extractReplies=function(a){if(!a)return null;var b=a.match(twttr.txt.regexen.extractReply);return!b||RegExp.rightContext.match(twttr.txt.regexen.endScreenNameMatch)?null:b[1]},twttr.txt.extractUrls=function(a){var b=[],c=twttr.txt.extractUrlsWithIndices(a);for(var d=0;d<c.length;d++)b.push(c[d].url);return b},twttr.txt.extractUrlsWithIndices=function(a){if(!a)return[];var b=[];while(twttr.txt.regexen.extractUrl.exec(a)){var c=RegExp.$2,d=RegExp.$3,e=RegExp.$4,f=RegExp.$5,g=RegExp.$7,i=twttr.txt.regexen.extractUrl.lastIndex,j=i-d.length;if(!e){var k=null,l=!1,m=0;f.replace(twttr.txt.regexen.validAsciiDomain,function(a){var c=f.indexOf(a,m);m=c+a.length,k={url:a,indices:[j+c,j+m]},l=a.match(twttr.txt.regexen.invalidShortDomain),l||b.push(k)});if(k==null)continue;g&&(l&&b.push(k),k.url=d.replace(f,k.url),k.indices[1]=i)}else d.match(twttr.txt.regexen.validTcoUrl)&&(d=RegExp.lastMatch,i=j+d.length),b.push({url:d,indices:[j,i]})}return b},twttr.txt.extractHashtags=function(a){var b=[],c=twttr.txt.extractHashtagsWithIndices(a);for(var d=0;d<c.length;d++)b.push(c[d].hashtag);return b},twttr.txt.extractHashtagsWithIndices=function(a){if(!a)return[];var b=[],c=0;return a.replace(twttr.txt.regexen.autoLinkHashtags,function(d,e,f,g,i,j){var k=j.slice(i+d.length);if(k.match(twttr.txt.regexen.endHashtagMatch))return;var l=a.indexOf(f+g,c);c=l+g.length+1,b.push({hashtag:g,indices:[l,c]})}),b},twttr.txt.modifyIndicesFromUnicodeToUTF16=function(a,b){twttr.txt.convertUnicodeIndices(a,b,!1)},twttr.txt.modifyIndicesFromUTF16ToUnicode=function(a,b){twttr.txt.convertUnicodeIndices(a,b,!0)},twttr.txt.convertUnicodeIndices=function(a,b,c){if(b.length==0)return;var d=0,e=0;b.sort(function(a,b){return a.indices[0]-b.indices[0]});var f=0,g=b[0];while(d<a.length){if(g.indices[0]==(c?d:e)){var i=g.indices[1]-g.indices[0];g.indices[0]=c?e:d,g.indices[1]=g.indices[0]+i,f++;if(f==b.length)break;g=b[f]}var j=a.charCodeAt(d);55296<=j&&j<=56319&&d<a.length-1&&(j=a.charCodeAt(d+1),56320<=j&&j<=57343&&d++),e++,d++}},twttr.txt.splitTags=function(a){var b=a.split("<"),c,d=[],e;for(var f=0;f<b.length;f+=1){e=b[f];if(!e)d.push("");else{c=e.split(">");for(var g=0;g<c.length;g+=1)d.push(c[g])}}return d},twttr.txt.hitHighlight=function(a,b,c){var d="em";b=b||[],c=c||{};if(b.length===0)return a;var e=c.tag||d,f=["<"+e+">","</"+e+">"],g=twttr.txt.splitTags(a),i,j,k,l="",m=0,n=g[0],o=0,p=0,q=!1,r=n,s=[],t,u,v,w,x;for(j=0;j<b.length;j+=1)for(k=0;k<b[j].length;k+=1)s.push(b[j][k]);for(t=0;t<s.length;t+=1){u=s[t],v=f[t%2],w=!1;while(n!=null&&u>=o+n.length)l+=r.slice(p),q&&u===o+r.length&&(l+=v,w=!0),g[m+1]&&(l+="<"+g[m+1]+">"),o+=r.length,p=0,m+=2,n=g[m],r=n,q=!1;!w&&n!=null?(x=u-o,l+=r.slice(p,x)+v,p=x,t%2===0?q=!0:q=!1):w||(w=!0,l+=v)}if(n!=null){p<r.length&&(l+=r.slice(p));for(t=m+1;t<g.length;t+=1)l+=t%2===0?g[t]:"<"+g[t]+">"}return l};var r=140,s=[g(65534),g(65279),g(65535),g(8234),g(8235),g(8236),g(8237),g(8238)];twttr.txt.isInvalidTweet=function(a){if(!a)return"empty";if(a.length>r)return"too_long";for(var b=0;b<s.length;b++)if(a.indexOf(s[b])>=0)return"invalid_characters";return!1},twttr.txt.isValidTweetText=function(a){return!twttr.txt.isInvalidTweet(a)},twttr.txt.isValidUsername=function(a){if(!a)return!1;var b=twttr.txt.extractMentions(a);return b.length===1&&b[0]===a.slice(1)};var t=a(/^#{autoLinkUsernamesOrLists}$/);twttr.txt.isValidList=function(a){var b=a.match(t);return!!b&&b[1]==""&&!!b[4]},twttr.txt.isValidHashtag=function(a){if(!a)return!1;var b=twttr.txt.extractHashtags(a);return b.length===1&&b[0]===a.slice(1)},twttr.txt.isValidUrl=function(a,b,c){b==null&&(b=!0),c==null&&(c=!0);if(!a)return!1;var d=a.match(twttr.txt.regexen.validateUrlUnencoded);if(!d||d[0]!==a)return!1;var f=d[1],g=d[2],i=d[3],j=d[4],k=d[5];return(!c||e(f,twttr.txt.regexen.validateUrlScheme)&&f.match(/^https?$/i))&&e(i,twttr.txt.regexen.validateUrlPath)&&e(j,twttr.txt.regexen.validateUrlQuery,!0)&&e(k,twttr.txt.regexen.validateUrlFragment,!0)?b&&e(g,twttr.txt.regexen.validateUrlUnicodeAuthority)||!b&&e(g,twttr.txt.regexen.validateUrlAuthority):!1},typeof module!="undefined"&&module.exports&&(module.exports=twttr.txt)})(),a()});provide("setup",function(a){using("util").as(function(b){twttr.setup=function(a){function c(){var a=["webkit","mozilla","opera","msie"];for(var b=0;b<a.length;b++)if($.browser[a[b]])return a[b]}$("body").addClass(c()),twttr.hoversInCss||$(".js-hover").live("mouseenter mouseleave",function(a){$(this).toggleClass("hover",a.type=="mouseenter")}),twttr.currentUser?twttr.caches.User=new twttr.cache.local.User(twttr.currentUser.screenName):twttr.caches.User=new twttr.cache.local.User($.cookie("guest_id")),twttr.app.init(a),twttr.$win=$(window),twttr.$doc=$(document),twttr.provide("twttr.$elements",{page:$("#page-outer")}),twttr.windowHeight=twttr.$win.height(),twttr["interface"].setup(),twttr.ui.loadBar(),twttr.search.setup(),twttr.API.globalEvents.bind("rate_limited",function(a){twttr.errors.showErrorFromCode(twttr.constants.errorCodes.dailyLimit)}),twttr.API.globalEvents.bind("unknown_error",function(a){twttr.errors.showErrorFromResponse({})}),using(twttr.bundleMore,function(){var a=$("div.welcome-banner-outer");if(a.length>0){var b=twttr.banners.welcomeToPhoenix();b.bind("closed",function(){$.cookie("show_phx_welcome_"+twttr.currentUser.id,null)}),a.remove(),b.insert()}var c=$("div.became-user-banner-outer");c.length>0&&(c.remove(),twttr.banners.becameUser().insert());var d=$("div.top-bar-inside,div.banner div.banner-inside");twttr.isT1||twttr.$win.scroll(function(){d.css("left",-twttr.$win.scrollLeft())})}),twttr.router.bind("routed",function(a,b){twttr.$win.scrollTop(0)}),twttr.router.bind("urlChanged",function(a,b){twttr.trackPageView(b.name)}),twttr.router.bind("routeNotFound",function(){twttr.app.switchToPage("404").send("notFound")}),twttr.router.startRouting(),twttr.decider.isInfiniteScroll()&&b.util.lazyBind(window,"scroll",function(a){if(twttr.widget&&twttr.widget.Dialog&&twttr.widget.Dialog.currentModal)return;var b=twttr.app.currentPage();b.send("scrollEnd",[twttr.$win.scrollTop()]),Math.abs(twttr.$doc.scrollTop()+twttr.windowHeight-twttr.$doc.height())<500&&b.send("getStreamManager",function(a){a&&!a.noInfiniteScroll&&a.getMoreOldItems(function(a){_scribble("stream-scrolled",{page:a._page,stream:a._cacheKey,focused_tweet_id:a.focusedItemId||""})})})}),twttr.isT1||b.util.lazyBind(window,"scroll",function(a){twttr.app.currentPage().send("repositionDetailsPane")},100),b.util.lazyBind(window,"resize",function(a){var b=twttr.app.currentPage();twttr.windowHeight=twttr.$win.height(),b&&b.send("resizeDetailsPane"),twttr.windowHeight=twttr.$win.height()}),twttr.isT1&&using("idleDetector",function(a){a({wait:3e5})}),function(){function a(){var a=$(this),b=parseInt(a.attr("data-time"),10);if(d-b>864e5)a.removeClass("_timestamp").addClass("_old-timestamp");else{var c=twttr.helpers.timeAgo(b,JSON.parse(a.attr("data-long-form")||"false"),JSON.parse(a.attr("data-include-sec")||"false"));c!==a.text()&&a.text(c)}}function b(){var e=twttr.app.currentPage(),f=twttr.isT1&&twttr.at("widget.Dialog.currentModal",twttr);d=+(new Date),e&&e.$find('span._timestamp[data-time$="'+c+'000"]').each(a),f&&f.$find('span._timestamp[data-time$="'+c+'000"]').each(a);var g=+(new Date)-d;c++,c%=10,setTimeout(b,2e3)}var c=0,d;setTimeout(b,2e3)}(),using([twttr.bundleMore,"components/Autocomplete"],function(){twttr.API.User.bind("follow acceptFollow",function(a,b){twttr.currentUser.sync("friendsCount",++twttr.currentUser.friendsCount),twttr.components.Autocomplete.getAutocompletedUsers(function(){twttr.components.Autocomplete.addToList([b.id,b.screenName,b.name,b.profileImageUrl])}),$(document).trigger("currentUserUpdated")})}),twttr.API.User.bind("unfollow",function(a,b){twttr.currentUser.sync("friendsCount",Math.max(--twttr.currentUser.friendsCount,0)),$(document).trigger("currentUserUpdated")}),twttr.is.nil($.cookie("js"))&&$.cookie("js",1,{expires:30,path:"/"});var d=$("#loading_indicator_container");d.fadeOut("fast",function(){d.remove(),document.body.style.overflow=""})},twttr.showError=function(a){return twttr.openMessageDrawer(a,"error")},twttr.showMessage=function(a,b){var c=twttr.openMessageDrawer(a,"message",{close_button:!!b});c&&!b&&setTimeout(function(){c.$dom.css("opacity",1).animate({opacity:0},1e3,function(){c.$dom.remove(),twttr.views.MessageDrawer.isOpen=!1})},2e3)},function(){var a={close_button:!0};twttr.openMessageDrawer=function(b,c,d){d=twttr.merge({},a,d||{}),d.text=b,d.type=c,twttr.views.MessageDrawer.close();var e=new twttr.views.MessageDrawer(d);return e.render("#message-drawer","append"),twttr.views.MessageDrawer.isOpen=!0,e}}(),twttr.messageNotification=function(a){var b=new twttr.views.MessageNotification({message:a.attributes}),c=a.senderScreenName,d=a.id;$("#message-notifications").append(b.$html());var e=$("#message-notifications [data-message-id="+d+"].notification");e.bind("click",function(){var a=$(this);a.unbind(),a.find(".message-notification-reply-box").show();var b=new twttr.Editor("#message-notifications [data-message-id="+d+"].notification  .message-notification-reply-editor",function(){var a=this;this.focus(),this.height(36),$("#message-notifications [data-message-id="+d+"].notification .message-notification-reply-button").click(function(){e.html("Sent!"),setTimeout(function(){e.remove()},2e3),twttr.API.DirectMessage.send(c,a.content())})})})},twttr.provide("twttr.ui",{toggleSpinner:function(a,b){if(b)var c=$('<div class="loading-spinner"><img src="/phoenix/img/loader.gif" alt="'+_("正在加载")+'"/></div>').appendTo(a);else $(a).find("div.loading-spinner").remove()},loadBar:function(){var a=$("#global-actions");a.find("a").not(".js-dropdown-toggle").each(function(){$(this).attr("href",twttr.router.lookupAndNormalizeRoute($(this).attr("href")))}),twttr.loggedIn&&a.delegate("a","mousedown",function(a){var b=$(this);scribble("globalnav",{input:"click",name:b.text(),href:b.attr("href")})})}}),a(twttr.setup)})});provide("search",function(a){using().as(function(b){twttr.search={setup:function(){var a=this;this.$searchQuery=$("#search-query"),Modernizr.input.placeholder||(this.$searchQuery.bind({focus:function(){a.hidePlaceholder($(this))},blur:function(){a.showPlaceholder($(this))}}),this.$searchQuery[0].hasFocus?this.$searchQuery.addClass("focused"):this.$searchQuery.blur()),twttr.isT1?(twttr.app.bind("switchToPage",function(b,c){a.updatePlaceholder(c)}),twttr.loggedIn&&(this.attachTypeahead(),this.registerSearchInputEvents(),this.setupSavedSearches())):this.setupFocusP1()},setupSavedSearches:function(){if(!twttr.loggedIn)return;var a=this;this.updateSavedSearches(),twttr.API.SavedSearch.bind("create delete",function(){a.updateSavedSearches()})},updateSavedSearches:function(){var a=this;twttr.currentUser.savedSearches(function(b){b.length()>0?(a.savedSearches=b,$(".global-nav .js-search-form").addClass("has-saved-searches")):$(".global-nav .js-search-form").removeClass("has-saved-searches")})},updatePlaceholder:function(a){switch(a){case"connect":this.setPlaceholder(_("输入 @用户名 或全名"));break;case"discover":this.setPlaceholder(_("输入 #话题 或关键词"));break;default:this.setPlaceholder()}},setPlaceholder:function(a){a=a||_("搜索"),this.$searchQuery.attr("placeholder",a),!Modernizr.input.placeholder&&this.$searchQuery.data("placeholding")&&this.$searchQuery.val(this.$searchQuery.attr("placeholder")),$(document).trigger("searchPlaceholderUpdate",[a]),this.$searchQuery.blur()},hidePlaceholder:function(a){a.data("placeholding")&&(a.val(""),a.data("placeholding",!1))},showPlaceholder:function(a){!a.data("placeholding")&&a.val()===""&&(a.data("placeholding",!0),a.val(a.attr("placeholder")))},attachTypeahead:function(){var a=this;using(twttr.bundleMore,function(){a.$typeahead=new twttr.components.GlobalNavTypeahead})},queryWasEntered:function(){return this.$searchQuery.val()!==this.$searchQuery.attr("placeholder")&&this.$searchQuery.val()!==""},setupFocusP1:function(){var a=this;this.$searchQuery.bind({focus:function(){$(this).addClass("focused").select().closest("form").addClass("focused")},blur:function(){$(this).removeClass("focused").closest("form").removeClass("focused")}})},clear:function(){this.focusQuery("").blur()},isSavedSearch:function(a){if(!this.savedSearches)return!1;var b=this.savedSearches.filter(function(b){return b.query===a});return b.length()?b.first():!1},registerSearchInputEvents:function(){var a=this;$("span.js-search-action").bind({mouseenter:function(){a.mouseOverMagnifying=!0},mouseleave:function(){a.mouseOverMagnifying=!1},click:function(){!a.$searchQuery.data("placeholding")&&a.$searchQuery.val()?(twttr.lastQuerySource=twttr.search.searchQuerySource.TYPED_QUERY,twttr.search.doSearch(),a.$searchQuery.blur(),twttr.widget.Dialog.trigger("close")):a.$searchQuery.focus()}}),this.$searchQuery.bind("focus",function(b){a.$searchQuery.addClass("focus"),a.$searchQuery.siblings("#search-query-hint").addClass("focus"),a.$searchQuery.parent(".js-search-form").addClass("focus")}),this.$searchQuery.bind("blur",function(b){!a.mouseOverMagnifying&&!a.mouseIsOverTypeaheadDropdown()&&(a.$searchQuery.removeClass("focus"),a.$searchQuery.siblings("#search-query-hint").removeClass("focus"),a.$searchQuery.parent(".js-search-form").removeClass("focus"))})},mouseIsOverTypeaheadDropdown:function(){return this.$typeahead&&this.$typeahead.mouseOverDropDown},focusQuery:function(a){return!this.$searchQuery[0].hasFocus&&!twttr.isT1&&this.$searchQuery.focus(),twttr.is.def(a)&&this.$searchQuery.val(a),this.$searchQuery},doSearch:function(a){var b=this.focusQuery(a).val();if(b){trackClient({section:"top_nav",component:"searchbox",action:"search"},{query:b});var c=twttr.router.getCurrentRoute().name,d=twttr.isT1&&(twttr.app.currentPageName()=="Connect"||c=="userSearch"),e=twttr.isT1&&c=="searchTimeline",f=twttr.isT1&&c=="searchRealtime";d?twttr.router.routeTo(twttr.router.userSearchPath({query:b})):e?twttr.router.routeTo(twttr.router.searchTimelinePath({query:b})):f?twttr.router.routeTo(twttr.router.searchRealtimePath({query:b})):twttr.router.routeTo(twttr.router.searchResultsPath({query:b}))}else this.$searchQuery.blur()},latestQuery:"",formifyLatestQuery:function(a){var b=jQuery.trim(this.latestQuery).replace(/\s+/," ");if(b)if(a.is(".advanced-search form")){var c,d=/(|#|\-|@|\w+:|OR |AND )?\"([^\"]+)\"/i,e=function(b,c){var d={"#":"tag","-":"nots","@":"ref","to:":"to","from:":"from","near:":"near",or:"ors",and:"ands"},e=b?d[jQuery.trim(b).toLowerCase()]:"phrase";if(e){var f=a.find("input[name="+e+"]"),g=f.val();f.val((g?g+" ":"")+c)}};while(c=d.exec(b))c&&c[2]&&e(c[1],c[2]),b=b.replace(c[0],"");twttr.each(b.split(" "),function(b,d,f){switch(b.toLowerCase()){case":)":case":(":case"?":a.find('input[value="'+b+'"]').attr("checked","checked");break;case"include:retweets":a.find("input[name=include]").attr("checked","checked");break;case"":case"or":case"and":break;default:c=/^(#|\-|@|to:|from:|near:)(.*)/i.exec(b);if(c&&c[2]){e(c[1],c[2]);break}c=/^within:(\d+)(mi|km)*/i.exec(b);if(c){var g=a.find("select[name=within]");g.find("option[value="+c[1]+"]")&&g.val(c[1]),c[2].match(/km/i)&&a.find("input[name=units]").each(function(){var a=$(this);a.attr("checked",a.val()=="km"?"checked":"")});break}c=/^lang:(\w+)/i.exec(b);if(c){var i=a.find("select[name=lang]");i.find("option[value="+c[1]+"]")&&i.val(c[1]);break}d&&f[d-1].match(/OR/i)?e("or",b):e("and",b)}})}else a.find("input[name=q]").val(b||"")},serializeAdvancedForm:function(a){var b=a.serializeArray(),c=[];for(var d in b){var e=b[d],f=jQuery.trim(e.value);if(!f)continue;switch(e.name){case"attd":case"ands":c.push(f);break;case"ors":c.push(f.split(" ").join(" OR "));break;case"phrase":c.push('"'+f+'"');break;case"nots":c.push("-"+f.split(" ").join(" -"));break;case"tag":c.push("#"+f.replace(/#+/g,"").split(" ").join(" OR #"));break;case"from":c.push("from:"+f.replace(/@+/g,"").split(" ").join(" OR from:"));break;case"to":c.push("to:"+f.replace(/@+/g,"").split(" ").join(" OR to:"));break;case"ref":c.push("@"+f.replace(/@+/g,"").split(" ").join(" OR @"));break;case"near":c.push('near:"'+f+'" within:'+a.find("select[name=within]").val()+a.find("input:radio[name=units]:checked").val());break;case"include":c.push("include:retweets");break;case"lang":f!=="all"&&c.push("lang:"+f)}}return c.join(" ")},searchQuerySource:{UNKNOWN:"unknown",TYPED_QUERY:"typed_query",HASHTAG:"hashtag_click",TREND:"trend_click",SAVED_SEARCH:"saved_search_click",TYPEAHEAD:"typeahead_click",SPELLING_CORRECTION:"spelling_correction_click",RELATED_QUERY:"related_query_click"}},a(twttr.search)})});provide("helpers",function(a){using("_","util","constants","errors").as(function(b,_){twttr.helpers={timeStrings:function(){if(twttr.at("QUnit")||!twttr.helpers.timeStrings.memo)twttr.helpers.timeStrings.memo={words:{longForm:{singular:{now:_("现在"),seconds:_("{{one}}秒前"),minutes:_("{{one}}分钟前"),hours:_("{{one}}小时前"),days:_("{{one}}天前")},plural:{now:_("现在"),seconds:_("{{plural_number}}秒前"),minutes:_("{{plural_number}}分钟前"),hours:_("{{plural_number}}小时前"),days:_("{{plural_number}}天前")}},shortForm:{allCounts:{now:_("现在"),seconds:_("{{number}}秒"),minutes:_("{{number}}分"),hours:_("{{number}}时"),days:_("{{number}}天")}}},dates:{months:[_("1月"),_("2月"),_("3月"),_("4月"),_("5月"),_("6月"),_("7月"),_("8月"),_("9月"),_("10月"),_("11月"),_("12月")],dates:[_("1日"),_("2日"),_("3日\n      "),_("4日\n      "),_("5日\n      "),_("6日\n      "),_("7日\n      "),_("8日\n      "),_("9日\n      "),_("10日\n      "),_("11日\n      "),_("12日\n      "),_("13日\n      "),_("14日"),_("15日"),_("16日\n      "),_("17日\n      "),_("18日\n      "),_("19日"),_("20日\n      "),_("21日\n      "),_("22日\n      "),_("23日\n      "),_("24日\n      "),_("25日\n      "),_("26日\n      "),_("27日\n      "),_("28日\n      "),_("29日\n      "),_("30日\n      "),_("31日")]}};return twttr.helpers.timeStrings.memo},resolveHexColor:function(a){function b(a){return parseInt((a+a).slice(0,2),16)}if(!a||!a.match(/^#?([0-9A-F]{6}|[0-9A-F]{3})$/i)||!RegExp.$1)return;return RegExp.$1.match(/(..?)(..?)(..?)/),[b(RegExp.$1),b(RegExp.$2),b(RegExp.$3)]},hexToRGBA:function(a,b){var c=this.resolveHexColor(a);if(!c)return;return c.push(b||"1"),"rgba("+c.join(",")+")"},blendHexColor:function(a,b,c){var d=this.resolveHexColor(a),e=this.resolveHexColor(b),f=1-c;if(!d||!e)return;return twttr.map(d,function(a,b){var d=e[b],g=Math.floor(a*c+d*f);return(g+256).toString(16).slice(1)}).join("").toUpperCase()},sanitizeCssColor:function(a){if(a&&a.match(/^[0-9a-f]{3,6}$/i))return a},parseDateString:function(a){var b=new Date(a);return $.browser.msie&&a&&(b=new Date(Date.parse(a.replace(/( \+)/," UTC$1")))),+b},prettyTime:function(a,b){var c=twttr.helpers.timeStrings(),d=new Date(a),e={year4:d.getFullYear().toString(),year:d.getFullYear().toString().slice(2),month:c.dates.months[d.getMonth()],day:d.getDate(),hours24:d.getHours(),hours12:d.getHours()%12||12,minutes:d.getMinutes().toString().replace(/^(\d)$/,"0$1"),amPm:d.getHours()<12?_("上午"):_("下午"),date:c.dates.dates[d.getDate()-1]};return twttr.isT1&&!b?_("{{year}}年{{month}}{{day}}日, {{hours24}}:{{minutes}}",e):_("{{month}}{{date}}, {{hours24}}:{{minutes}}",e)},timeAgo:function(a,b,c,d){twttr.decider.isExpando()&&!d&&(b=!1);var e=twttr.helpers.timeStrings(),f=e.words[b?"longForm":"shortForm"],g=new Date,i=new Date(a),j=g-i,k=1e3,l=k*60,m=l*60,n=m*24,o=n*7,p,q,r;return isNaN(j)||j<0?"":(j<k*3?(p="",q="now",c=!1):j<l?(p=Math.floor(j/k),q="seconds",c=!1):j<m?(p=Math.floor(j/l),q="minutes",c=!1):j<n?(p=Math.floor(j/m),q="hours",c=!1):j<n*365?r=_(" {{month}}{{date}}日",{date:i.getDate(),month:e.dates.months[i.getMonth()]}):r=_("{{year}}年{{month}}{{date}}日",{date:i.getDate(),month:e.dates.months[i.getMonth()],year:i.getFullYear().toString().slice(2),year4:i.getFullYear().toString()}),r||(f.allCounts?f=f.allCounts:p===1?f=f.singular:f=f.plural,r=Mustache.to_html(f[q],{one:p,number:p,plural_number:p})),c&&(r+=" "+_("于 {{time}}",{time:i.toTimeString().split(":").slice(0,2).join(":")})),r)},timeAgoRounded:function(a){var b=new Date,c=new Date(a),d=b-c,e=1e3,f=e*60,g=f*60,i=g*24,j=i*7,k=i*30,l=i*365,m;return isNaN(d)||d<0?"":(d<=f*5?m=_("5分钟"):d<=f*15?m=_("15分钟"):d<=f*30?m=_("30分钟"):d<=f*45?m=_("45分钟"):d<=g?m=_("1小时"):d<=g*12?m=Math.floor(d/g)+_("小时"):d<g*24?m=_("超过12小时\n      "):d<=i*2?m=_("昨天\n      "):d<=i*14?m=Math.floor(d/i)+_("日"):d<k?m=_("超过2周"):d<k*2?m=_("超过1个月"):d<k*3?m=_("超过2个月"):d<l?m=_("超过6个月"):d<l*2?m=_("超过1年"):m=_("超过2年"),m)},transformProfileImageUrl:function(a,b){if(!twttr.is.string(a))return a;!b&&a.match(/default_profile_\d_normal.png$/)&&(b="bigger");var c=/_normal(\..*)?$/i;return b?a.replace(c,"_"+b+"$1"):a.replace(c,"$1")},isCurrentUser:function(a){return twttr.currentUser?twttr.is.string(a)?twttr.currentUser.screenName===a:twttr.is.object(a)?a.id===twttr.currentUser.id:twttr.currentUser.id===a:!1},isProfileUser:function(){return twttr.profileUser&&twttr.helpers.isCurrentUser(twttr.profileUser)},userNoobLevel:function(a){var c=parseInt(twttr.Router.getCurrentQueryStringParams().nooblevel,10);if(!isNaN(c))return twttr.caches.User.set("noobLevel",c),c;var d=twttr.caches.User.get("noobLevel");if(d<0)return d;var e=b.constants.noob;return a=a||twttr.currentUser,a&&twttr.decider.isAvailable("flock")?a.statusesCount==0?a.followersCount>49?e.notNoob:a.friendsCount===0?a.followersCount?e.invited:e.total:a.followersCount||a.friendsCount>9?e.silent:e.friendless:a.friendsCount>9||a.friendsCount===0&&a.followersCount>49?e.notNoob:a.friendsCount===0?a.followersCount?e.popular:e.talking:a.followersCount?e.struggling:e.lonely:e.notNoob},canViewUser:function(a){return!a["protected"]||a.following||this.isCurrentUser(a)||twttr.is.def(twttr.isAdmin)&&twttr.isAdmin},truncate:function(a,b,c){c=c||"&hellip;";var d=$("<div/>").html(c).text().length;return a.length>b&&(a=a.slice(0,b-d)+c),a},displayUrl:function(){var a=/^www\./;return function(c,d){d=d||16;var e=new b.util.Location(c),f=e.hostname.replace(a,"");e.port!=80&&e.port!=443&&(f+=":"+e.port);var g=e.pathname+e.search+e.hash;return f+twttr.helpers.truncate(g,d,"…")}}(),getUserId:function(a){var b=parseInt(a.attr("data-user-id"),10);return isNaN(b)?0:b},getUserIdentifier:function(a){var b=twttr.helpers.getUserId(a),c=a.attr("data-screen-name");return!b&&!c&&a.attr("hash")&&(c=twttr.router.findMatchingRoute(a.attr("hash")).args.screen_name),b||c},parseEmailAddress:function(a){var c=b.constants.regexps.email.exec(a.replace(/^\s+|\s+$/g,""));return c?c[0]:null},extractEmailAddresses:function(a){return a.indexOf("<")==-1?twttr.filter(twttr.map(a.split(","),twttr.helpers.parseEmailAddress),function(a){return!twttr.is.nil(a)}):[a]},handlePopupLinks:function(a){a.find(".js-popup").click(function(a){a.preventDefault(),a.stopPropagation();var b=$(this);window.open(b.attr("href"),b.attr("name")||"twttr_popup",b.attr("data-popup"))})},addFormEvents:function(a,c,d){d=d||{},a.bind("submit",function(b){if(a.hasClass("submitting")){b.preventDefault();return}if(c){b.preventDefault();var d={};$.each($(this).serializeArray(),function(){d[this.name]?(d[this.name].push||(d[this.name]=[d[this.name]]),d[this.name].push(this.value||"")):d[this.name]=this.value||""}),c.call(this,b,d)}}).bind("keydown keypress",function(c){if(c.ctrlKey||c.which==b.constants.keyCodes.escape)return;c.stopPropagation(),c.which==b.constants.keyCodes.enter&&!$(c.target).is('textarea, [autocomplete="on"]')&&(c.preventDefault(),c.target.blur(),a.submit())}),a.find((d.submitSelector||"div.button.submit")+", .js-submit").attr("tabindex",0).click(function(){a.submit()}),a.find("input:text, textarea").bind("keydown",function(a){if(a.which==b.constants.keyCodes.escape){this.blur();return}}).each(function(){var a=$(this),b=a.attr("placeholder");if(b&&!Modernizr.input.placeholder){var c=!1;a.focus(function(){c&&(a.val(""),c=!1),a.addClass("js-focused").removeClass("js-placeholded placeholded").select()}).blur(function(){!c&&a.val()===""&&(c=!0,a.val(b),a.addClass("js-placeholded placeholded")),a.removeClass("js-focused")}),setTimeout(function(){a.blur()},0)}})},addHoldingInputEvents:function(a){a.find("div.holding, div.placeholding-input").each(function(){var a=$(this),b=a.find("input");a.find("span").click(function(){b.focus()}),b.blur(function(){b.val().length||a.removeClass("hasome")}),b.keydown(function(c){setTimeout(function(){c&&c.keyCode==8||b.val().length?a.addClass("hasome"):a.removeClass("hasome")},0)})}),twttr.helpers._holdingInterval||(twttr.helpers._holdingInterval=window.setInterval(function(){$("form div.holding, form div.placeholding-input").each(function(){var a=$(this),b=a.find("input");b.val()&&b.val().length&&a.addClass("hasome")})},1111))},chainAnimate:function(a,b,c,d){var e=0;(function(){var f=c[e++];if(twttr.is.def(f)){var g={};g[b]=f,a.animate(g,d||100,arguments.callee)}})()},isModifier:function(a){return!!(a.shiftKey||a.metaKey||a.ctrlKey||a.altKey)},isTextOverflowEllipsisSupported:function(){return"textOverflow"in $("<div>")[0].style},ellipsify:function(a,b,c,d,e){if(c){$(a).ellipsis(d,e);return}return twttr.helpers.isTextOverflowEllipsisSupported()?!1:($(a).each(function(){var a=$(this),c;if(a.hasClass("ellipsify-container")){if(!b)return!0;c=a.find("span.ellip-content"),c.length&&a.html(c.html())}a.addClass("ellipsify-container").wrapInner($("<span>").addClass("ellip-content")),c=a.find("span.ellip-content");if(c.width()>a.width()){var d=$('<div class="ellip">&hellip;</div>');a.append(d),c.width(a.width()-d.width()).css("margin-right",d.width())}}),!0)},showErrorFromResponse:function(a,b){return twttr.errors.showErrorFromResponse(a,b)}},a(twttr.helpers)})});provide("errors",function(a){using("constants").as(function(b){function c(a,b,c){return{regex:a,errorCode:b,requestRegex:c}}var d=[c(/not following/,b.constants.errorCodes.notFollowing),c(/duplicate|already said that/,b.constants.errorCodes.duplicateTweet),c(/malware/,b.constants.errorCodes.malwareTweet),c(/daily|only send so many/,b.constants.errorCodes.dailyLimit),c(/140/,b.constants.errorCodes.tooLongTweet),c(/(this account|User) has been suspended/,b.constants.errorCodes.otherUserSuspended),c(/suspend/,b.constants.errorCodes.suspended),c(/photo/,b.constants.errorCodes.photoTimeout),c(/unable to follow more people/,b.constants.errorCodes.followingLimitReached),c(/blocked from following/,b.constants.errorCodes.blockedFromFollowing),c(/list's name.+25 characters/,b.constants.errorCodes.tooLongListName),c(/list's description.+100 characters/,b.constants.errorCodes.tooLongListDescription),c(/list's name.+start with a letter/,b.constants.errorCodes.noLetterStartListName),c(/Not found/,b.constants.errorCodes.tweetNotFound,/statuses\/retweet/),c(/No status found/,b.constants.errorCodes.tweetNotFound),c(/Not found/,b.constants.errorCodes.userNotFound)];twttr.errors={errorCodeFromResponse:function(a){var c,e,f,g=a.response&&(a.response.error||a.response.errors&&a.response.errors[0].message)||null;if(g)for(c=0,e=d.length;c<e;c++){f=d[c];if(f.regex.test(g)&&(!f.requestRegex||f.requestRegex.test(a.response.request)))return f.errorCode}return a.status===403?b.constants.errorCodes.permission:b.constants.errorCodes.whale},showErrorFromResponse:function(a,b){var c=twttr.errors.errorCodeFromResponse(a);return twttr.errors.showErrorFromCode(c,b)},showErrorFromCode:function(a,b){var c=twttr.errors.getViewForErrorCode(a,b);return twttr.showError(c.html()),a},getViewForErrorCode:function(a,b){var c=twttr.views[a]||twttr.views.DefaultErrorMessage;if(!b||!/^(dm|(re)?tweet|(un)?follow|(un)?block|report|delete|(un)?favorite)$/.test(b))b="generic";var d={};return d["is_"+b]=!0,new c(d)}},a(twttr.errors)})});provide("viewHelpers",function(a){using("_").as(function(b,_){twttr.viewHelpers={addRelatedTweetsLogging:function(a,b,c){b.subcomponent="related-tweets";var d;if(a&&(d=a.closest(".related-tweets")).length){var e=a.attr("data-tweet-id");b.related_tweet_info={impression_id:d.attr("data-related-impression-id"),group_name:d.attr("data-related-group-name"),annotations:d.attr("data-related-annotations"),tweet_id:e?e:"0"};var f=d.attr("data-ab-data-bucket");if(f){var g={bucket:f,experiment_key:d.attr("data-ab-data-experiment-key"),version:d.attr("data-ab-data-version")};scribble(c,g,"www_ab_testing")}}},addActivityItemLogging:function(a,b,c,d){b.streamType="activity-stream",b.activityId=a.closest(".stream-item").attr("data-item-id")},addExtraLogging:function(a,b,c){var d=a.closest(".stream-tweet"),e=twttr.app.currentPage();twttr.app.isOnPage("search")&&d.is(".stream .stream-tweet")?using([twttr.bundleMore,"components/pages/Search"],function(){twttr.components.pages.Search.addSearchClickLogging(d,b)}):d.is("div.details-pane .related-tweets .stream-tweet")?twttr.viewHelpers.addRelatedTweetsLogging(d,b,c):e.send("getStreamManager",function(a){if(a){var e=a.getCurrent();using([twttr.bundleMore,"streams/ActivityStream"],function(){e instanceof twttr.streams.ActivityStream&&twttr.viewHelpers.addActivityItemLogging(d,b,c,e)})}})}},a(twttr.viewHelpers)})});provide("components/Base",function(a){using("util").as(function(b){twttr.provide("twttr.components"),twttr.klass.component=function(a,b){return twttr.klass(a,b).subclassOf(twttr.components.Base)},twttr.deprecateAccess(twttr.klass,"component",{replacement:"twttr.klass(...).subclassOf(twttr.components.Base)",now:1313800194870,daysRemaining:30}),$.fn.component=function(){var a=$(this),b=a.parent();return a.data("component")||b.length&&b.component()},twttr.klass("twttr.components.Base",function(){var a=!this.constructor._deciderKey||twttr.decider.isAvailable(this.constructor._deciderKey);this.constructor._baseView&&a?this.$node=(new this.constructor._baseView(this.constructor._baseViewOptions)).$html():this.$node=this.$node||$("<div/>").addClass("component"),this.$node.addClass("component").data("component",this);if(!a){this._decideredOff&&this._decideredOff();return}this.constructor._initializer&&this.constructor._initializer.apply(this,arguments);if(twttr.isT1){var c=this.scribeComponentName;c||this.constructor&&this.constructor._name&&(c=b.util.underscore(this.constructor._name)),c&&this.$node.attr("data-component-term",c)}this.initComponentEvents()}).statics({initializer:function(a){return a._owner=this,this._initializer=a,this},destructor:function(a){return this._destructor=a,this},deciderKey:function(a){return this._deciderKey=a,this},setBaseView:function(a,b){return this._baseView=a,this._baseViewOptions=b,this},setBaseViewOptions:function(a){return this._baseViewOptions=a,this}}).mixin(twttr.mixins.componentEvents).methods(twttr.EventProvider).methods({hasRendered:function(){this._hasRendered=!0,!this.noSpacer&&!twttr.isT1&&this.$node.append("<hr class='component-spacer' />")},$find:function(){return this.$node.find.apply(this.$node,arguments)},_superInitializer:function(){var a=arguments.callee.caller._owner;if(a){var b=a.uberclass._initializer;b&&b.apply(this,arguments)}},destroy:function(){this.constructor._destructor&&this.constructor._destructor.apply(this),this.$node.remove(),this.trigger("destroyed"),this._boundEvents&&(twttr.each(this._boundEvents,function(a){a.obj.unbind(a.name,a.cb)}),this._boundEvents=[]),this.unbind()},_registerEvent:function(a,b,c){this._boundEvents||(this._boundEvents=[]),a.bind(b,c),this._boundEvents.push({obj:a,name:b,cb:c})}}),a(twttr.components.Base)})});provide("idleDetector",function(a){function b(){var a=(new Date).getTime();!j&&a-k>g&&($(document).trigger("inactive"),clearInterval(l),j=!0)}function c(){$(document).off(".idleDetect"),clearInterval(l),k=(new Date).getTime(),setTimeout(d,i),j&&($(document).trigger("active"),j=!1)}function d(){k=(new Date).getTime(),l=setInterval(b,i),$(document).on(m,c)}function e(){j=!0,$(document).off(".idleDetect"),clearInterval(l)}function f(a){return a=$.extend({},{wait:3e5,heartBeat:1e3},a),g=a.wait,i=a.heartBeat,d(),{deactivate:e}}var g,i,j=!0,k=0,l=0,m="mousemove.idleDetect keydown.idleDetect DOMMouseScroll.idleDetect mousewheel.idleDetect mousedown.idleDetect touchstart.idleDetect touchmove.idleDetect";a(f)});provide("interface",function(a){using("_","util","constants").as(function(b,_){twttr.klass("twttr.Interface").mixin(twttr.mixins.i18nTweetBox).methods({enableRtl:function(){twttr.i18n.rtl=!0,document.body.dir="rtl"},setup:function(){$(document).delegate("a[data-send-impression-cookie]","click",function(a){if(!a.target||a.target.hostname!=window.location.hostname||!a.target.pathname||a.target.pathname.indexOf("/#!/")==0)return;var b=$(a.target),c=b.closest("[data-impression-cookie]").attr("data-impression-cookie");if(!c)return;var d=new Date,e=6e4,f=new Date(d.getTime()+e);$.cookie("ic",c,{expires:f})}),$("a[href$='#']").live("click",function(a){a.preventDefault()}),$(".user-profile-link").live("click",twttr.scribbles.logViewProfileDetails),$("a[href^='/']").live("click",function(a){if(a.which==1&&!a.metaKey&&!a.shiftKey){var b=$(this),c=b.attr("href"),d=b.attr("target");twttr.lastQuerySource=twttr.isT1?$(a.currentTarget).data("query-source"):null;if(d&&twttr.router.shouldRedirectTo(c))return;return twttr.router.routeTo(c),a.preventDefault(),!1}}),twttr.isT1&&twttr.i18n&&$("body").hasClass("rtl")&&this.enableRtl(),$("li.user-thumb-list-member img").tipsy({live:!0,gravity:"s"}),twttr.isT1?($("div.promoted-account a.js-promoted-badge, div.promoted-account small.js-disclosure, div.promoted-tweet span.js-disclosure").tipsy({live:!0,gravity:"n",delayIn:500}),$("li.promoted-trend span.js-disclosure").tipsy({live:!0,gravity:"s",delayIn:500})):($("div.promoted-account a.icon-link, div.promoted-tweet a.icon-link, li.promoted-account a.icon-link").tipsy({live:!0,gravity:"n",delayIn:500}),$("li.promoted-trend span.icon-link").tipsy({live:!0,gravity:"s",delayIn:500}),$("form.js-search-form .js-search-action").click(function(a){$("form.js-search-form").submit()})),$("div.tweet a.twitter-timeline-link").live("mousedown",function(){var a=$(this),b={};a.is("div.dashboard a")?b.component="dashboard":a.is("div.details-pane a")?b.component="details-pane":a.is(".stream-tweet a")?b.component="stream":a.is(".twttr-dialog a")&&(b.component="dialog",b.dialog_type=a.closest(".twttr-dialog").attr("type")),twttr.viewHelpers.addExtraLogging(a,b,"tweet-link"),b.tweet_id=a.closest(".tweet").attr("data-tweet-id"),b.input="click",b.href=a.attr("href"),b.text=a.text(),scribble("tweet-link",b)}),$("a.media-attribution-link").live("mousedown",function(a){scribble("follow-attribution-link",{component:"inline-media",input:"click",type:$(this).attr("data-media-type")})}),$("a.inline-media-image").live("mousedown",function(a){scribble("open-inline-media-photo",{component:"inline-media",input:"click",type:$(this).attr("data-media-type")})}),$("button.js-global-new-tweet,a.js-global-new-tweet").click(function(a){a.stopPropagation(),a.preventDefault(),using([twttr.bundleMore,"widget/TweetDialog"],function(){(new twttr.widget.TweetDialog({draggable:!0,template:{title:_("正在发生什么?")},enableDraft:"global-tweetbox",origin:"new-tweet-titlebar-button"})).open().focus()})}).tipsy({gravity:"n",offset:6}),twttr.helpers.ellipsify($("#screen-name")),$("a.js-close-all-tweets").click(function(){$(".tipsy").remove(),twttr.app.currentPage().send("closeAllTweets")}).tipsy({gravity:"ne",delayIn:500}),$("form.js-search-form").submit(function(a){var b=$("#search-query");b.val()&&(twttr.lastQuerySource=twttr.search.searchQuerySource.TYPED_QUERY,twttr.search.doSearch()),a.preventDefault()}),$("#message-drawer").delegate(".dismiss","click",function(){return twttr.views.MessageDrawer.close(),!1}),$("#message-drawer").delegate(".js-reload","click",function(){return window.location.reload(),!1}),$("a.js-signout-button").click(function(a){a.preventDefault(),twttr.cache.LocalProvider.clearAll(),trackClient({component:"topnav",action:"logout"}),twttr.decider.isAvailable("scribe_logout_reliability_events")&&($("#signout-form .js-reliability-event").attr("value","true"),trackClient({page:"logout",section:"reliability",component:"client",action:"impression"})),$("#signout-form").submit()}),$("a.back-to-top").live("click",function(a){return $(window).scrollTop(0),a.preventDefault(),!1}),$("a.sms-codes-link").live("click",function(a){twttr.dialogs.smsCodes().open()}),$("a.use-old-twitter").live("click",function(a){$.cookie("phx_seen_dialog-"+twttr.currentUser.id,null)}),twttr.isT1||$(".contributor-account-link").each(function(a){var b=$(this),c=b.attr("data-profile-image-url");c&&(window.location.protocol==="https:"&&twttr.cdnBase&&(c=twttr.assets.getPathFromAbsoluteURL(c,{isSSL:!0,isVersioned:!1})),b.find("img").attr("src",c))});var a=this;$("#search-query").bind("keyup keypress keydown",function(b){if(b.ctrlKey)return;a.markPunctuation(b,$(this)),b.stopPropagation()}).bind("keydown",function(a){a.keyCode===b.constants.keyCodes.escape&&twttr.search.clear()});var c=parseInt(b.util.params($.cookie("twll")).l,10)||0;twttr.verifySession=function(){var a=parseInt(b.util.params($.cookie("twll")).l,10)||0;a!==c&&window.location.reload(!0)},window.setInterval(function(){twttr.verifySession()},b.constants.sessionPollInterval),$.browser.msie?document.onfocusout=function(){twttr.verifySession(),twttr.externalURLStore.scribeFocusAfterClick()}:$(window).focus(function(){twttr.verifySession(),twttr.externalURLStore.scribeFocusAfterClick()}),$(window).scrollTop(0)}}),twttr["interface"]=new twttr.Interface,a(twttr["interface"])})});provide("run/topbarDropdown",function(a){using().as(function(b){function c(){if(twttr.loggedIn&&twttr.decider.isAvailable("api_verify_credentials_counts")){var a=$(".dropdown-menu li[data-name='lists']"),b=twttr.currentUser.counts.lists,c=function(){twttr.currentUser.hasLists()||a.hide()};c(),twttr.API.List.bind("create follow",function(c){c.type=="create"?b.owned+=1:b.subscribed+=1,a.show()}),twttr.API.List.bind("delete unfollow",function(a){a.type=="delete"?b.owned-=1:b.subscribed-=1,c()})}}$(document).ready(function(){function a(){return twttr.app&&twttr.app.isOnPage("login")}var b=$(".js-session"),d=twttr.isT1?"open":"active";b.click(function(){a()?twttr.router.routeTo(twttr.router.signupPath()):(b.toggleClass(d),!twttr.loggedIn&&b.hasClass(d)&&b.find(".username input").focus())}),$(document).bind("click",function(a){var c=b.get(0);c&&a.target!==c&&!$.contains(c,a.target)&&b.removeClass(d)}).bind("keydown",function(a){a.keyCode===27&&b.removeClass(d)});if(twttr.isT1){var e=$("li.js-language-dropdown");e.click(function(a){e.toggleClass("open"),a.preventDefault()}),e.find(".js-language-link").bind("click",function(a){var b=e.find("form");b.find('input[name="lang"]').val($(this).attr("data-lang-code")),b.find('input[name="redirect"]').val(window.location.href),b.submit(),a.preventDefault(),a.stopPropagation()});var f=$("li.js-country-dropdown");f.click(function(a){f.toggleClass("open"),a.preventDefault()}),f.find(".js-country-link").bind("click",function(a){var b=$(this);twttr.countryCode=b.attr("data-country-code"),$.cookie("co",twttr.countryCode,{domain:".twitter.com",path:"/",expires:3650}),a.preventDefault(),a.stopPropagation(),location.reload()}),$("a.js-dm-dialog").click(function(a){using([twttr.bundleMore,"components/t1/DirectMessageDialog"],function(a,b){(new b).open()}),b.removeClass(d),a.stopPropagation(),a.preventDefault()}),$(document).bind("click",function(a){var b=e.get(0);b&&a.target!==b&&!$.contains(b,a.target)&&e.removeClass(d);var c=f.get(0);c&&a.target!==c&&!$.contains(c,a.target)&&f.removeClass(d)}).bind("keydown",function(a){a.keyCode===27&&e.removeClass(d)}),c()}if(!twttr.loggedIn){$("#session > a").attr("href","#");var g=$("#signin-dropdown form"),i=g.find("input");g.bind("click",function(a){a.stopPropagation()}),g.bind("submit",function(a){if(twttr.app){var b=twttr.app.isOnPage("mobile_gallery")?"/":twttr.Router.getCurrentPath();$(this).find("input[name=redirect_after_login]").val(b)}}),navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&i.each(function(){if(this.type.match(/text|password/)){var a=$(this);a.clone().appendTo(a.parent()),a.remove()}}),twttr.helpers&&twttr.helpers.addFormEvents(g),i.bind("focus",function(){a()?twttr.app.currentPage().$find(".username input").focus():b.addClass(d)})}}),a()})});provide("tco",function(a){using().as(function(b){twttr.app.waitForSignal("init",function(){$(document.body).bind("copy",twttr.bind(twttr.tco,twttr.tco.onCopy)),$(document.body).bind("aftercopy",twttr.bind(twttr.tco,twttr.tco.onAfterCopy))}),twttr.provide("twttr.tco"),twttr.tco={shouldRefreshSelection:function(){return!$.browser.msie},onCopy:function(a){var b=twttr.tco.getSelection(),c;this.shouldRefreshSelection()&&(c=this.getCurrentRange());var d=b.anchorNode?twttr.tco.nearestCommonAncestor(b.anchorNode,b.focusNode):a.target;if(!this.displayToTco(d))return;window.setTimeout(function(){$(document.body).trigger("aftercopy",[d,c])},0)},linksForTarget:function(a){var b=$(a).find("a.twitter-timeline-link");return a.tagName.toLowerCase()==="a"&&b.push(a),b},nearestCommonAncestor:function(a,b){if(a==b)return a.parentNode;var c=$.makeArray($(a).parents()).reverse().concat(a),d=$.makeArray($(b).parents()).reverse().concat(b),e=0;while(c[e]==d[e])e++;return c[e-1]},isFirstChild:function(a,b){while(a!=b){if(a!=a.parentNode.childNodes[0])return!1;a=a.parentNode}return!0},isLastChild:function(a,b){while(a!=b){var c=a.parentNode.childNodes;if(a!=c[c.length-1])return!1;a=a.parentNode}return!0},displayToTco:function(a){var b=this,c=!1,d=twttr.tco.getCurrentRange(),e=d.focusNode?$(d.focusNode).text().length:undefined,f=twttr.tco.linksForTarget(a);return $(f).each(function(a,f){var g=$(f),i=g.attr("data-expanded-url");if(!i)return;var j=d.focusNode&&!!$(f).has(d.focusNode).length;if(j){var k=twttr.tco.isFirstChild(d.focusNode,f),l=twttr.tco.isLastChild(d.focusNode,f),m=k&&d.focusOffset==0||l&&d.focusOffset==e;if(!m)return!1}g.text().indexOf("pic.twitter.com/")===0&&(i=g.attr("href").replace(/t\.co/,"pic.twitter.com")),g.data("original-child-nodes",$.map(f.childNodes,function(a){return a})),g.empty(),g.text(i),j&&d.focusOffset>0&&b.adjustTextSelectionEndpoint(),c=!0}),c},tcoToDisplay:function(a){var b=twttr.tco.linksForTarget(a);$(b).each(function(a,b){var c=$(b),d=c.data("original-child-nodes");d&&(c.empty().append(d),c.data("original-child-nodes",null))})},getCurrentRange:function(){var a=twttr.tco.getSelection();return{anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}},onAfterCopy:function(a,b,c){this.tcoToDisplay(b),c&&this.updateSelection(c)},adjustTextSelectionEndpoint:function(){var a=twttr.tco.getSelection(),b=document.createRange(),c=a.focusNode.nodeType==3?a.focusNode.length:a.focusNode.childNodes.length;b.setStart(a.anchorNode,a.anchorOffset),b.setEnd(a.focusNode,c),a.removeAllRanges(),a.addRange(b)},getSelection:function(){return window.getSelection?window.getSelection():document.selection.createRange()},updateSelection:function(a){var b=twttr.tco.getSelection(),c=document.createRange();c.setStart(a.anchorNode,a.anchorOffset),c.setEnd(a.focusNode,a.focusOffset),c.startOffset===c.endOffset&&c.anchorNode===c.focusNode&&c.anchorNode!==a.anchorNode&&c.focusNode!==a.focusNode&&(c.setStart(a.focusNode,a.focusOffset),c.setEnd(a.anchorNode,a.anchorOffset)),b.removeAllRanges(),b.addRange(c)}},a(twttr.tco)})});provide("streams/TweetStream",function(a){using().as(function(b){var c={ACTIVE:3e4,INACTIVE:9e4},d=c.ACTIVE;$(window).focus(function(){d=c.ACTIVE}),$(window).blur(function(){d=c.INACTIVE}),twttr.tweetStream=function(a,b){b||(b=function(){twttr.streams.TweetStream.apply(this,arguments)});var c=twttr.stream(a,b);return c.subclassOf(twttr.streams.TweetStream),c.prototype._updateMethod=function(){},c.update=function(a){return this.prototype._updateMethod=a,this},c.every=function(a){return this.prototype._interval=a*1e3,this},c.setTitle=function(a){return this.prototype._setTitle=a,this},c.deciderKey=function(a){return c._deciderKey=a,c},c.pollingDeciderKey=function(a){return c._pollingDeciderKey=a,c},c},twttr.klass("twttr.streams.TweetStream",function(){var a=this;twttr.streams.Stream.apply(this,arguments),twttr.API.User.bind("block",function(b,c){a.blockTweetsBy(c)}),twttr.API.User.bind("unblock",function(b,c){a.blockTweetsBy(c,!0)}),this.bind("didTweet",function(b,c){a.fetchTweets(function(a){a.render()})}),this.registerTweetActionEvents(),this.updateI18nDisplay(),this.periodicUpdater=null,this.scribbler=twttr.Scribbler.clientEvent}).subclassOf(twttr.streams.Stream).mixin(twttr.mixins.tweetActionable,twttr.mixins.i18nTweet,twttr.mixins.promotedTweetStream).methods(twttr.EventProvider).methods({itemViewClass:"StreamTweet",streamItemType:"tweet",_expandable:!0}).methods({_fetchCount:function(){},_fetchMoreCount:function(){return 20},convertToStatus:function(a){return new twttr.API.Status(a)},afterFirstSwitchingTo:function(a){var b=this,c=new Date;this._attachedTweetBarEvent||(this._attachedTweetBarEvent=!0,this.dom().delegate(".js-new-tweets-bar","click",function(){b._showNewItems()})),this.startPeriodicFetcher(),this._loadedStreamOnce=!0;if(this.preRendered){twttr.bootTimings&&(twttr.bootTimings.add("tweets_visible",twttr.tweetsVisibleTime),twttr.bootTimings.done()),$(this.streamManagerDomNodeSelector).find("div.stream-end").length==1&&(this._alreadyMarkedEnd=!0),this.items=[],this.itemIds={};var d=this.$node.find("div.js-stream-tweet, div.stream-tweet"),e=twttr.promotedTweetStore.getTweetInfo();storedPromotedTweetId=null,e&&e.data.promoted_status?storedPromotedTweetId=e.data.promoted_status.id_str:e&&(storedPromotedTweetId=e.data.id_str),d.each(function(a,c){var f=$(c),g,i,j,k,l,m,n;g=JSON.parse(f.attr("data-status"));if(storedPromotedTweetId===g.id_str){g=e.data,i=g.promoted_content.impression_id,f.attr("data-impression-id",i);var o=g.id_str+"-promoted";f.parent().attr("data-item-id",o).attr("id","stream-item-tweet-"+o)}else f.attr("data-impression-id")&&(k=d[a+1],k&&(l=$(k).attr("data-tweet-id"),j=!!f.find("i.badge-political").length,twttr.promotedTweetStore.setTweetInfo(l,g,j)));n=b.convertToStatus(g),m=new twttr.views.StreamTweet(n),m.wakeUp(),b.items.push(n),b.markAsRendered(n)}),this.items.length==0&&(this.noMoreOldItems=!0),this.updateI18nDisplay(),this.wokeUp(),this.onGotInitialResults(this.items),this._updateSinceId(this.items),this.logPromotedImpressions(this.items),this.addInlineMediaIcons(this.$node,function(){b._scribeTweetImpressions()}),using(">allCodeLoaded",function(){b.addActivityByFriendsToTweets(b.items)})}else this.isLoadingMore(),this.fetchTweets(!0,function(c,d){c.render(),twttr.tweetsVisibleTime||(twttr.tweetsVisibleTime=new Date),twttr.bootTimings&&(twttr.bootTimings.add("tweets_visible"),twttr.bootTimings.done()),twttr.util.params().show_time&&twttr.showMessage("Stream loaded at "+(+(new Date)-document.startTime)/1e3+"s"),c.doneLoadingMore(),d!==twttr.streams.SUCCESS?b._showError(d):b.fetchUntilScreenIsFull(),a?a():$.noop,b._scribeTweetImpressions()})},fetchUntilScreenIsFull:function(){var a=this;!this.noMoreOldItems&&this._isInDOM()&&this._shorterThanWindow()&&this.getMoreOldItems(function(b,c){c!==twttr.streams.SUCCESS?a._showError(c):a.fetchUntilScreenIsFull()})},_isInDOM:function(){return jQuery.contains(document.body,this.$node[0])},_shorterThanWindow:function(){return this.$node.height()<twttr.windowHeight},afterSwitchingToAgain:function(a){this.fetchTweets(twttr.bind(this,function(b){var c=this.newItemsCount;this.newItemsCount>0&&this._showNewItems(),this.restartFetcher();if(!twttr.isT1){var d=this.getFirstItem();this.highlightItem(d)}a?a():$.noop}))},_getStreamWhaleText:function(){return _("加载推文似乎需要更多时间。")},streamItemId:function(a){return a.impressionId?a.id+"-promoted":a.id},blockTweetsBy:function(a,b){var c=this.constructor._name==="User"&&this.screenName===a.screenName,d=this.constructor._name==="Search";if(c||d)return;var e=this.$find('.stream-item [data-screen-name="'+a.screenName+'"]').parent();e[b?"addClass":"removeClass"]("blocked")},onTweetActionDelete:function(a){this.remove(a);for(var b=0;b<this.items.length;b++)this.items[b].id===a&&this.items.splice(b,1)},onTweetActionHide:function(a){this.selectedItem(a).hide()},onTweetActionShow:function(a){this.selectedItem(a).show()},beforeShowNewItems:function(){var a;this.keepPromotedTweetsAtTop?a=this.$find(".js-original-tweet:not(.promoted-tweet)").first().closest(".js-stream-item"):a=this.$find(".js-stream-item").first(),this.$find(".last-new-tweet").removeClass("last-new-tweet"),a.addClass("first-old-tweet");if(a.hasClass("expanding-stream-item")){var b=a.css("margin-bottom");b&&a.css("margin-top",b)}},separateOldAndNewTweets:function(){var a=this.$find(".first-old-tweet").removeClass("first-old-tweet").first(),b=a.prev().addClass("last-new-tweet");a.is(".expanding-stream-item.open")&&b.addClass("before-expanded")},onShowNewItems:function(a){this.updateI18nDisplay();var b=this;this.addInlineMediaIcons(a,function(){b._scribeTweetImpressions()}),this.separateOldAndNewTweets(),this.$find(".js-new-tweets-bar").remove()},onShowOldItems:function(a){this.updateI18nDisplay();var b=this;this.addInlineMediaIcons(a,function(){b._scribeTweetImpressions()})},addActivityByFriendsToTweets:function(a){if(!twttr.currentUser||!twttr.decider.isActivityEnabled()||!twttr.decider.isAvailable("activity_social_context"))return;var b=this,c={},d={};return $.each(a,function(a,b){c[b.id]={retweeters:[],favoriters:[]},b.wasRetweeted&&(c[b.id].retweeters.push(b.retweetingStatus.user),d[b.retweetingStatus.user.id]=!0)}),this.activityByFriendIntersection(a,c,d)},activityByFriendIntersection:function(a,b,c){var d=this;this.loadFriends(function(e){var f={},g={};$.each(a,function(a,b){if(!b.activities)return;$.each(b.activities.favoriters,function(a,c){if(!e[c])return;g[c]||(g[c]=[]),g[c].push(b.id)}),$.each(b.activities.retweeters,function(a,d){if(!e[d]||c[d])return;f[d]||(f[d]=[]),f[d].push(b.id)})});var i=twttr.util.arrayUniq(twttr.util.objKeys(g).concat(twttr.util.objKeys(f))).slice(0,twttr.constants.users.maxLookupSize);twttr.API.User.findAll(i,{stringifiedIds:!0,success:function(a){a.each(function(a){faves=g[a.id],retweets=f[a.id],faves&&$.each(faves,function(c,d){b[d].favoriters.push(a)}),retweets&&$.each(retweets,function(c,d){b[d].retweeters.push(a)})}),d.appendActivities(b)},error:function(){d.appendActivities(b)}})})},appendActivities:function(a){for(tweetId in a){var b=a[tweetId],c=this.$node.find(".stream-item[data-item-id='"+tweetId+"']");b.retweeters.length&&(new twttr.views.StreamActivity({items:b.retweeters,item_type:"retweets"})).render(c.find(".tweet-activity-retweets"),"html"),!b.retweeters.length&&b.favoriters.length&&(new twttr.views.StreamActivity({items:b.favoriters,item_type:"favorites"})).render(c.find(".tweet-activity-favorites"),"html")}},loadFriends:function(){var a;return function(b){if(a)return b(a);twttr.currentUser.friendIds(function(c){a=twttr.inject(c,{},function(a,b,c){return a[c]=!0,a}),b(a)})}}(),onGotInitialResults:function(a){var b=a.slice(this.newItemsCount);twttr.streams.Stream.prototype.onGotInitialResults.apply(this,arguments),this.addActivityByFriendsToTweets(b)},onGotNewItems:function(a){twttr.streams.Stream.prototype.onGotNewItems.apply(this,arguments),this.addActivityByFriendsToTweets(a)},onGotOldItems:function(a){twttr.streams.Stream.prototype.onGotOldItems.apply(this,arguments),this.addActivityByFriendsToTweets(a)},_scribeTweetImpressions:function(){var a=this;twttr.abdecider.chooseWithoutImpression("tweet_anatomy_2_231")&&a.$node.find("div.js-stream-tweet").each(function(b,c){c=$(c),c.height()&&a._itemDetailsScribe("impression","tweet",c)})},_scribeResults:function(a,b,c){this._scribeEmptyResults(a,b,c);if(b.length){var d=[],e;twttr.each(b,function(a,b){var c;d.push(a.id),a.isPromoted&&a.isPromoted()?c={item_type:twttr.constants.clientEvent.itemType.promotedTweet,item_token:a.impressionId}:a.resultCategory=="popular"&&(c={item_type:twttr.constants.clientEvent.itemType.popularTweet}),c&&(e=e||{},c.item_position=b,e[a.id]=c)}),this.scribbler.scribe({component:"stream",action:"results"},{item_ids:d,item_count:d.length,event_value:d.length,cursor_or_page:this._sinceId,item_details:e,referring_event:a})}},beforeSwitchingAway:function(){this.stopPeriodicFetcher(),this.trigger("switchingAway")},_fetchItems:function(a){this.fetchTweets(!0,a)},fetchTweets:function(a,b,c){twttr.is.fn(a)&&(c=b,b=a,a=!1);if(this.preRendered&&this._alreadyMarkedEnd){b(this,twttr.streams.SUCCESS);return}if(!twttr.decider.isAvailable("tweet_streams")||this.constructor._deciderKey&&!twttr.decider.isAvailable(this.constructor._deciderKey)){b(this,twttr.streams.DECIDER);return}var d=this,e=twttr.audit.trail(),f=a?this._optionsForOld(b):this._optionsForNew(b);c=c||{},f=twttr.merge(c,f),f.include_entities=1,f.include_available_features=1,f.contributor_details=!e[1]||e[1].page!=="welcome",this._updateMethod(f,this.params,b)},_idForTweet:function(a){return a.wasRetweeted?a.retweetingStatus.id:a.id},_optionsForNew:function(a){var b=this,c={success:function(c){c instanceof twttr.API.util.BaseCollection&&(c=c.array),c=b.cleanStream(c);var d=!b.items.length;b.unshift(c),b._updateSinceId(c),d&&b.items.length&&b.switchEndOfStreamMarker(),a&&a(b,twttr.streams.SUCCESS)},error:function(c){c.status===502?a(b,twttr.streams.WHALE):a(b,twttr.streams.ERROR),b._scribeResults("error",[],{status_code:c.status})}};return this.items.length&&(c.since_id=this._sinceId),c},_updateSinceId:function(a){twttr.is.array(a)||(a=Array.prototype.slice.call(arguments));for(var b=0;b<a.length;b++){var c=a[b],d=this._idForTweet(c);if(!c.isPromoted()&&c.resultCategory!=="popular"){twttr.natcompare(d,this._sinceId||"0")>0&&(this._sinceId=d);return}}},_streamMaxId:function(){for(var a=this.items.length-1;a>=0;a--)if(!this.items[a].isPromoted())return this._idForTweet(this.items[a])},cleanStream:function(a){return a=this._filterMutedUsers(a),a=this._filterDeletedTweets(a),a=this._filterOutRetweets(a),a},_filterOutRetweets:function(a){return twttr.currentUser?twttr.filter(a,function(a){return a.wasRetweeted?a:a}):a},_filterMutedUsers:function(a){twttr.decider.isAvailable("muteUsers")||a;if(twttr.currentUser&&this.constructor._name=="Home"){var b=twttr.caches.User.get("muted");a=twttr.filter(a,function(a){if(!twttr.is.def(b)||a.wasRetweeted&&!twttr.is.def(b[a.retweetingStatus.user.id])||!a.wasRetweeted&&!twttr.is.def(b[a.user.id]))return a})}return a},_filterDeletedTweets:function(a){return twttr.filter(a,function(a){if(!twttr.app.caches.deletedTweets.get(a.id))return a})},_optionsForOld:function(a){var b=this,c={success:function(d){d instanceof twttr.API.util.BaseCollection&&(d=d.array),c.max_id&&(d=twttr.filter(d,function(a){return a.id!==c.max_id})),d=b.cleanStream(d),b.push(d),b._updateSinceId(d),d.length||b.reachedTheEnd(),a&&a(b,twttr.streams.SUCCESS)},error:function(c){c.status===502?a(b,twttr.streams.WHALE):a(b,twttr.streams.ERROR)},timeout:function(a){a.retry()},cancel:function(){a(b,twttr.streams.TIMEOUT)}};return this.items.length?(c.max_id=this._streamMaxId(),c.count=this._fetchMoreCount()+1):this._fetchCount()&&(c.count=this._fetchCount()),c},_getInterval:function(){return d},startPeriodicFetcher:function(){if(this.periodicUpdater||!twttr.decider.isAvailable("tweet_streams_polling")||this.constructor._pollingDeciderKey&&!twttr.decider.isAvailable(this.constructor._pollingDeciderKey))return;this.periodicUpdater=setTimeout(twttr.bind(this,this.fetchNewTweetsThenPoll),this._getInterval())},fetchNewTweetsThenPoll:function(){var a={headers:{"X-Twitter-Polling":!0}};this.fetchTweets(twttr.bind(this,function(a){var b=a.newItemsCount;b>0&&(this.showNewTweetsBar(b),this.trigger("newTweets",[a,b]))}),a),this.restartFetcher()},stopPeriodicFetcher:function(){this.periodicUpdater&&(clearTimeout(this.periodicUpdater),this.periodicUpdater=null)},restartFetcher:function(){this.stopPeriodicFetcher(),this.startPeriodicFetcher()},addInlineMediaIcons:function(a,b){using([twttr.bundleMore,"media/Iconifier"],function(){new twttr.media.Iconifier(a,b)}),using([twttr.bundleMore,"stork"],function(){twttr.stork.storkifyTweets(a)})},showNewTweetsBar:function(a){var b=this.$find(".js-new-tweets-bar"),c=(new twttr.views.NewTweetsBar({count:a,is_tweet:!0})).$html();b.length>0?(twttr.isT1?b.parent():b).replaceWith(c):c.hide().prependTo(this.dom()).slideDown()},screen_name:function(){return this.params.screenName},_getUserStreamErrorComponent:function(a){return this.wokeUp(),a===twttr.streams.PROTECTED?new twttr.components.ProtectedUser({screen_name:this.params.screenName}):this.constructor.uber._getStreamErrorComponent.apply(this,arguments)},wokeUp:function(){signal(">wokeUp")}}),a(twttr.streams.TweetStream)})});provide("streams/Home",function(a){using().as(function(b){twttr.tweetStream("twttr.streams.Home",function(){var a=this;twttr.streams.TweetStream.apply(this,arguments),this.unbind("didTweet"),this.bind("didTweet",function(b,c){a.fetchTweets(function(b,d){if(d!=twttr.streams.WHALE&&d!=twttr.streams.ERROR){a.insertTweetIfNotPresent(c);var e=a.$node.find(".js-stream-item:first"),f=e.length>0,g=f&&e.position().top;b._showNewItems("insert");if(f){var i=e.position().top,j=twttr.$win.scrollTop();$("html, body").scrollTop(j+(i-g))}b._showOldItems(!0)}})})}).update(function(a,b,c){a.pc=!0,twttr.currentUser.homeTimeline(a)}).methods({onShowNewItems:function(a){this.constructor.uber.onShowNewItems.apply(this,arguments),this.logPromotedImpressions(this.items.slice(0,this.newItemsCount))},onShowOldItems:function(a){this.constructor.uber.onShowOldItems.apply(this,arguments),this.logPromotedImpressions(this.items.slice(this.items.length-this.oldItemsCount)),twttr.streams.Home.scribeTweetDensity&&(this._scribeTweetDensity(a),twttr.streams.Home.scribeTweetDensity=!1)},_scribeTweetDensity:function(a){var b=a.find(".js-stream-tweet"),c={};if(b.length<10)return;for(var d=0;d<10;++d){var e=b.eq(d),f=e.attr("data-user-id");c[f]?c[f]++:c[f]=1}var g=0,i=null,j=0,k=0;$.each(c,function(a,b){b>g&&(g=b,i=a),j+=b*(b-1);var c=b/10;k+=c*Math.log(1/c)});var l=1-j/90;k/=Math.log(10),scribble("welcome-timeline-stats",{density:g,density_leader:i,diversity:l,entropy:k})},_fetchCount:function(){return null},_fetchMoreCount:function(){return 20},_getStreamEndComponent:function(){return this.constructor.uber._getStreamEndComponent.apply(this,arguments)},insertTweetIfNotPresent:function(a){a instanceof twttr.API.Status||(a=new twttr.API.Status(a));var b=this.cleanStream([a]);if(b&&!this.hasTweet(a)){var c=this.insertionIndexOfTweet(a);this.splice(c,b),this.newItemsCount++,c==0&&this._updateSinceId(b),this.onInsertItems(b)}},hasTweet:function(a){for(var b=0,c=this.items.length;b<c;b++)if(this.items[b].id==a.id)return!0;return!1},insertionIndexOfTweet:function(a){for(var b=0,c=this.items.length;b<c;b++)if(!this.items[b].isPromoted()){var d=a.id,e=this.items[b].id;if(twttr.natcompare(d,e)>=0)return b}return b}}).deciderKey("tweet_stream_home").pollingDeciderKey("tweet_stream_home_polling"),twttr.isT1?twttr.streams.Home.methods({_setTitle:function(a){a(_("推文"))},_getEmptyStreamHtml:function(){return(new twttr.views.EmptyTimelineMessage).html()}}):twttr.streams.Home.methods({_getEmptyStreamComponent:function(){var a=new twttr.components.EmptyHome,b="newItemsCountChanged.EmptyHomeComponent",c=this;return this.bind(b,function(d,e){!e&&!c.isEmpty()&&(a.destroy(),c.unbind(b),c._alreadyMarkedEnd=!1,c.markStreamEnd())}),a}}),a()})});provide("streams/StreamManager",function(a){using("_","mixins/serverRenderableObject").as(function(b,_,c){var d=twttr.klass("twttr.streams.StreamManager",function(a,b){var c=this,d="";if(a){var e=a+"-stream-manager";d=' id="'+e+'"',this.domNodeSelector="#"+e}this.$node=this.$domNode('<div class="js-stream-manager" '+d+'><div class="stream-title"></div><div class="stream-container"></div></div>'),this.$page=b||$(),twttr.decider.isInfiniteScroll()||(this.$moreButton=(new twttr.views.MoreButton).$html().appendTo(this.$node).click(function(a){c.getMoreOldItems(function(a){scribble("stream-more-button",{page:a._cacheKey,stream:a._cacheKey,focused_tweet_id:a.focusedItemId||""})}),a.stopPropagation(),a.preventDefault()})),this.resetCache(),twttr.loggedIn&&(twttr.decider.isAvailable("route_timing")||twttr.util.params().routetimer)&&(c.bind("switchingToStream didNotSwitch",function(a,b){twttr.RouteTimer.streamSwitch(b)}),c.bind("afterSwitchingTo",function(a,b,c){twttr.RouteTimer.streamAfterSwitch(b,c)})),window.ttft&&c.bind("afterSwitchingTo",function(){window.ttft.clientRendered(twttr.app.currentPageName())})}).statics({cacheKeyForStream:function(a){return a._cacheKey},cacheKeyForStreamClass:function(a,b){var c=a._name;if(b&&!$.isEmptyObject(b)){var d=twttr.filter(b,function(a,b){return!twttr.is.fn(b)&&!twttr.is.object(b)});c+=JSON.stringify(d)}return encodeURIComponent(c)}}).methods(twttr.EventProvider).mixin(c).methods({$find:function(){return this.$node.find.apply(this.$node,arguments)},getCurrent:function(){return this.streams.current},setCurrent:function(a){this.streams.current=a},getStream:function(a,b){var c=twttr.streams.StreamManager.cacheKeyForStreamClass(a,b);return this.streams[c]},onSwitchAway:function(){var a=this.getCurrent();a&&a.beforeSwitchingAway()},switchOut:function(){var a=this.getCurrent();a&&(a.beforeSwitchingAway(),a.dom().detach()),this.$headerContainer().empty(),this.titleContainer().empty()},switchTo:function(a,b,c){var d=null;b&&b.initialItems!==undefined&&(d=b.initialItems,delete b.initialItems);var e=this,f=twttr.streams.StreamManager.cacheKeyForStreamClass(a,b),g=this.getCurrent(),i,j=!1,k=function(a){return function(){e.trigger("afterSwitchingTo",[a,j]),c&&c.apply(this,arguments)}};_scribble("stream-view",{stream_name:a._name}),b=b||{};if(g){var l=twttr.streams.StreamManager.cacheKeyForStream(g);if(l===f)return this.trigger("didNotSwitch",g),j=!0,g.afterSwitchingToAgain(k(g)),g;this.switchOut()}this.trigger("switchTo"),this.streams[f]&&!d?(i=this.streams[f],j=!0):(i=new a(b,d,this),i._cacheKey=f,i.bind("newItemsCountChanged",twttr.bind(this,function(a,b){i===this.getCurrent()&&this.trigger("newItemsCountChanged",[b])})),i.bind("reloadCurrentStream",twttr.bind(this,function(a,b){i.unbindEvents(),this.clearFromCache(b),this.$node.find("div.stream-container").empty(),delete this.streams.current,this.switchTo(b)})),i.bind("notFound",twttr.bind(this,function(a){this.trigger("notFound")})),i._shouldCache&&(this.streams[f]=i),i.bind("governmentSearch",function(a,b){twttr.router.routeTo(twttr.router.governmentSearchByZipPath({zipCode:b}))})),this.trigger("switchingToStream",i);var m=this.$node.find("div.stream-container");m.has(i.$node).length===0&&m.prepend(i.$node),this.setHeader(i,b);if(e.$moreButton){function n(){e.$moreButton.toggle(!i._alreadyMarkedEnd&&!i._errorComponent)}i.bind("streamEnd doneLoadingMore",n),n()}return i.bind("doneLoadingMore",function(){e.trigger("doneLoadingMore")}),this.setCurrent(i),this.trigger("newItemsCountChanged",[i.newItemsCount]),j?i.afterSwitchingToAgain(k(i)):i.afterFirstSwitchingTo(k(i)),twttr.decider.isInfiniteScroll()&&i.showLoadingSpinner(),this.preRendered&&!i.preRendered&&!twttr.app.fullyLoaded()&&signal(">wokeUp"),i},setTitle:function(a){var b=this.titleContainer();b.empty(),a._setTitle(twttr.bind(this,function(a){if(!a)return;this.setTitleHTML(a)}))},getMoreOldItems:function(a){this.getCurrent()&&this.getCurrent().getMoreOldItems(a)},resetCache:function(){this.streams={},this.setCurrent(null)},$headerContainer:function(){return this.$page.find("div.js-stream-header")},titleContainer:function(){return twttr.isT1?this.$page.find(".js-stream-title"):this.$node.find("div.stream-title")},clearFromCache:function(a,b){b=b||{};var c=twttr.streams.StreamManager.cacheKeyForStreamClass(a,b);this.clearKeyFromCache(c)},clearKeyFromCache:function(a){delete this.streams[a]}});twttr.isT1?d.methods({setHeader:function(a,b){if(a._setHeader){var c=this;using(twttr.bundleMore,function(){a._setHeader(twttr.bind(c,function(d){c.renderHeader(a,b,d)}),b)})}else this.renderHeader(a,b,(new twttr.views.StreamHeader(b)).$html())},renderHeader:function(a,b,c){this.setHeaderHTML(c),this.setTitle(a),this.setViewToggler(a,b),this.setHeaderButton(a,b)},setHeaderHTML:function(a){this.$headerContainer().html(a)},setTitleHTML:function(a){var b=this.titleContainer();b&&b.html(a)},setViewToggler:function(a,b){$viewTogglerContainer=this.$page.find("small.js-view-toggler");if(!$viewTogglerContainer)return;$viewTogglerContainer.empty(),a._setViewToggler&&using(twttr.bundleMore,function(){a._setViewToggler(twttr.bind(this,function(a){if(!a)return;a.render($viewTogglerContainer)}),b)})},setHeaderButton:function(a,b){$headerButtonContainer=this.$page.find("span.js-header-button-container");if(!$headerButtonContainer)return;$headerButtonContainer.empty(),a._setHeaderButton&&using(twttr.bundleMore,function(){a._setHeaderButton(twttr.bind(this,function(a){if(!a)return;a.render($headerButtonContainer)}),b)})}}):d.methods({setHeader:function(a,b){this.setTitle(a)},setTitleHTML:function(a){this.titleContainer().html("<h2>"+a+"</h2>")},setViewToggler:twttr.util.noopInP1,setHeaderButton:twttr.util.noopInP1}),a(d)})});provide("view",function(a){using("util").as(function(b){twttr.augmentString("twttr.views",{makeDefaultViews:function(a){twttr.map(a,function(a,c){var d=b.util.capitalize(b.util.camelize(c));twttr.views[d]=twttr.views[d]||twttr.view("twttr.views."+d)}),signal(">defaultViews")}}),twttr.view=function(a,b){b||(b=function(){twttr.views.Base.apply(this,arguments)}),twttr.development&&twttr.at(a)&&console.error("twttr.view duplicate definition of:",a);var c=twttr.klass(a,b);return c.subclassOf(twttr.views.Base),c.template=function(a){return this._template=a,this},twttr.view._setDefaultTemplate(c,a),c._partials=twttr.templates,c},twttr.view._setDefaultTemplate=function(a,c){a.template(twttr.templates[b.util.underscore(c.split(".")[2]).toLowerCase()])},twttr.klass("twttr.ViewStack",function(a,b){this.$referenceNode=$(a),this.operation=b||"append",this._cache={},this._stack=[]}).methods({cached:function(a){return twttr.is.string(a)||(a=a.viewId),twttr.is.def(this._cache[a])},size:function(){return this._stack.length},contains:function(a){return twttr.is.inArray(a,this._stack)},remove:function(a){delete this._cache[a.viewId]},top:function(a){return this._stack[this._stack.length-1-(a||0)]},push:function(a){var b=this.top();return b&&b._backLabel&&(a._backLabel=b._backLabel,b.hide()),this.cached(a)?(a=this._cache[a.viewId],this._stack.push(a)):(this._cache[a.viewId]=a,a._viewstack=this,this._stack.push(a),a.render(this.$referenceNode,this.operation)),a.show(),a},pop:function(a){var b=this._stack.pop(),c=this._stack[this._stack.length-1];return b&&b.hide(),c&&!a&&c.show(),b?b:null},reset:function(a){while(this.pop());if(a)return this.push(a)}}),a(twttr.view)})});provide("urlResolver",function(a){using().as(function(b){twttr.augmentString("twttr.urlResolver",function(){var a={};return{expand:function(b,c){var d,e={},f=[];if(twttr.decider.isAvailable("phoenix_url_resolver")&&twttr.is.array(b)){for(var g=0,i=b.length;g<i;++g){var j=b[g];(d=a[j])?e[j]=d:f.push(j)}f.length===0?c(e):twttr.API.Urls.resolve(f,function(b){$.each(b,function(b,c){a[b]=e[b]=c}),c(e)})}}}}()),a(twttr.urlResolver)})});provide("multiGlobals/core_views",function(exports){using("util").as(function(phx){var logContext=phx.util.params().log_context;twttr.view("twttr.views.Base",function(a,b){twttr.is.string(a)?(this.viewId=a,this.obj=b):(this.obj=a,this.viewId=null);var c=twttr.audit.currentPage();c&&(this["in_"+c+"_page"]=!0);var d=twttr.audit.currentAction();d&&(this.actionName=twttr.util.underscore(d),this["in_"+this.actionName+"_action"]=!0);if(!this.obj)return;this.originalObject=this.obj,this.attach(this.obj)}).statics({formatDeciderMethodName:function(a){return twttr.util.underscore((""+a).replace(/[^A-Z0-9]/gi,"_"))},_addBucketTestMethod:function(a,b,c){var d=b+"_"+this.formatDeciderMethodName(c);c&&!this.prototype[d]&&this.method(d,function(){return c==twttr.abdecider.choose(a)})},addABTestMethods:function(a,b,c){var d="abtest_"+this.formatDeciderMethodName(a);this.prototype[d]||this.method(d,function(){return!!twttr.abdecider.choose(a)});var e=d+"_any_bucket";this.prototype[e]||this.method(e,function(){var b=twttr.abdecider.choose(a);return!!b&&b!="control"});if(c)for(var f=0;f<c.length;f++)this._addBucketTestMethod(a,d,c[f]);else this._addBucketTestMethod(a,d,b)},addDeciderMethod:function(a){this.method("decider_"+twttr.util.underscore(a),function(){return twttr.decider.isAvailable(a)})},onDeciderKeyChange:function(a,b){twttr.views.Base.addDeciderMethod(b.key)},onABTestKeyChange:function(a,b){b.current&&twttr.views.Base.addABTestMethods(b.key,b.current.bucket,b.current.bucket_names)}}).methods({anatomy_world:function(){if(twttr.isT1){var a=twttr.abdecider.choose("tweet_with_expand_209");if(a&&a!=="control"||twttr.decider.isAvailable("tweets_with_expand"))return!0}},anatomy_world_with_expand:function(){if(twttr.isT1){var a=twttr.abdecider.choose("tweet_with_expand_209");if(a&&a==="w_expand"||twttr.decider.isAvailable("tweets_with_expand"))return!0}},"debugger":function(){return twttr.development&&eval("debugger;"),""},languages:function(){return twttr.languages},languages_by_own:function(){return twttr.languages.sort(function(a,b){var c=a.name.toLowerCase(),d=b.name.toLowerCase();return c<d?-1:c===d?0:1})},render:function(a,b){this.selector=a,this.operation=b||"html";try{this.$dom=$(this.html())}catch(c){if(!c.message||c.message.indexOf("Syntax error, unrecognized expression")!=0)throw c;this.$dom=$("")}return $(this.selector)[this.operation](this.$dom),this.afterRender(this.$dom),this.$dom},attach:function(a){if(twttr.API.Base&&a instanceof twttr.API.Base)throw new Error("You failed to subclass BaseAPI with this view ("+this.constructor._name+"), so we're about to clobber all your favorite properties.  Subclass twttr.views.BaseAPI!");for(var b in a)this[b]=a[b]},hide:function(){this.$dom.hide(),this.$dom.addClass("inactive").removeClass("active")},show:function(){this.$dom.show(),this.$dom.addClass("active").removeClass("inactive")},refresh:function(){this.$dom=$(this.html(!0)),$(this.selector)[this.operation](this.$dom)},html:function(a){if(!a&&this._html)return this._html;if(!twttr.is.def(this.constructor._template))return console.log("Missing template file: ",this,this.constructor._name),"";if(logContext==""||logContext==this.constructor._name){try{var b=JSON.stringify(this.obj,null,2)}catch(c){var b=c.toString()}console.log("View inputs to",this.constructor._name+":",{originalObject:this,stringified:b})}var d=[this.constructor._template,this];this.constructor._partials&&d.push(this.constructor._partials);try{this._html=Mustache.to_html.apply(Mustache,d)}catch(c){if(c.message)throw twttr.development&&console.error("Error rendering "+this.constructor._name,c.message),c}return this.afterHtml(this._html),this._html},$html:function(a){return $(this.html())},rendering_on_server:!1,swift:!1,afterHtml:function(a){},afterRender:function(a){},subview:function(a,b){return this[a]=b,this},logged_in:function(){return!!twttr.currentUser},is_ssl:function(){return twttr.proto=="https"},is_mobile:function(){return!!twttr.isMobile},t1_actions_eligible:function(){return twttr.t1_actions_eligible},form_authenticity_token:function(){return twttr.anywhere.api.config.postAuthenticityToken},plural_rules:{r0:function(){return"other"},r1:function(a){return a===1?"one":"other"},r2:function(a){return a<=1?"one":"other"},r3:function(a){if(parseInt(a)===a){switch(a%10){case 1:if(a===11)break;return"one";case 2:case 3:case 4:if(a>=12&&a<=14)break;return"few"}return"many"}return"other"},r4:function(a){switch(a){case 0:return"zero";case 1:return"one";case 2:return"two";default:var b=a%100;return b>=11?"many":b>=3&&b<=10?"few":"other"}}},lang_to_rule:{ar:"r4",da:"r1",de:"r1",en:"r1",es:"r1",fa:"r0",fil:"r2",fr:"r2",he:"r1",hi:"r2",hu:"r0",id:"r0",it:"r1",ja:"r0",ko:"r0",msa:"r0",nl:"r1",pt:"r1",ru:"r3",sv:"r1",tr:"r0",ur:"r1","zh-cn":"r0","zh-tw":"r0"},lookup_missing_property:function(a,b){var c=a.lastIndexOf("_");if(c!==-1){var d=a.substring(c+1);switch(d){case"zero":case"one":case"two":case"few":case"many":case"other":var e=a.substring(0,c);if(e in b){function f(a){return a||a===!1||a===0}var g=this.plural_rules[this.lang_to_rule[twttr.pageLocale]||"r0"];function i(){var a;return f(this[e])&&(a=this[e]),typeof a=="function"&&(a=a.apply(this)),d===g(a)}var j=null;Object.getPrototypeOf?j=Object.getPrototypeOf(b):b.__proto__&&(j=b.__proto__);if(!j||j===Object.prototype)j=b;return j[a]=i,i.apply(b)}break;default:}}return undefined},render_page_content:!0}),function(){for(var a in twttr.decider.features())twttr.views.Base.addDeciderMethod(a);var b=twttr.abdecider.experiments();for(var c in b){var d=b[c];d&&d.bucket&&twttr.views.Base.addABTestMethods(c,d.bucket,d.bucket_names)}}(),twttr.decider.bind("keyChanged",twttr.views.Base.onDeciderKeyChange),twttr.abdecider.bind("keyChanged",twttr.views.Base.onABTestKeyChange),twttr.view("twttr.views.BaseAPI").methods({attach:function(a){var b=a.attributes||a;for(var c in b)this[c]=b[c]}}),twttr.view("twttr.views.UserLink").subclassOf(twttr.views.BaseAPI),twttr.view("twttr.views.BaseTweet",function(){twttr.views.BaseAPI.apply(this,arguments),this.user=new twttr.views.BaseUser({attributes:this.user})}).subclassOf(twttr.views.BaseAPI).mixin(twttr.mixins.userActionable).methods({impression_cookie:function(){if(!this.impression_id)return;var a=[];return JSON.stringify([this.id,this.impression_id,this.disclosure_type,this.disclosure_text,a])},full_timestamp:function(){return twttr.helpers.timeAgo(this.actual_timestamp(),!0)},short_timestamp:function(){return twttr.helpers.timeAgo(this.actual_timestamp())},explicit_timestamp:function(){return twttr.helpers.prettyTime(this.actual_timestamp())},actual_timestamp:function(){return twttr.helpers.parseDateString(this.created_at)},linkified_text:function(){if(!this.text)return"";var a=this.text;this.is_withheld()&&this.is_current_user()&&(a=this.withheld_text);if(twttr.decider.isAvailable("geo_place_entities_read")&&this.entities&&this.entities.places){this.entities.places.sort(function(a,b){return b.indices[0]-a.indices[0]});var b=a.length;twttr.each(this.entities.places,function(c){var d=c.indices[0],e=c.indices[1];if(e<=b&&e>d){var f=a.substring(d,e);twttr.txt.extractUrlsWithIndices(f).length===0&&(a=a.substring(0,d)+'<a href="/places/'+h(c.id)+'" target="_blank" '+'class="twitter-place" data-place-id="'+h(c.id)+'">'+f+"</a>"+a.substring(e)),b=d}})}return a=twttr.util.linkify(a,{nofollow:!0}),a=twttr.util.linkifyEntities(a,this),this.render_withheld()&&(a+='  <a href="'+twttr.router.withheldHelpPath()+'" target="_blank">'+_("了解更多")+"</a>"),this.query?twttr.util.queryHighlight(this.query,a):a},is_withheld:function(){return this.is_tweet_withheld()||this.is_user_withheld()},is_tweet_withheld:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="status"},is_user_withheld:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="user"},is_current_user:function(){return twttr.helpers.isCurrentUser(this.user)},is_current_user_withheld:function(){return this.is_withheld()&&this.is_current_user()},render_withheld:function(){return this.is_withheld()&&!this.is_current_user()},is_top_tweet:function(){return this.result_category==="popular"},is_sponsored:function(){return!!this.impression_id},tweet_impression_id:function(){return this.impression_id?Mustache.to_html('data-impression-id="{{id}}" ',{id:this.impression_id}):""},promoted_badge_class:function(){return"badge-"+(this.disclosure_type||"promoted")},social_context:function(){if(this.socialContext&&this.socialContext.length){this.user.socialContext=this.socialContext,this.user.screenName=this.user.screen_name;var a=this.makeSocialContextHtml(this.user,!1);return _('<span class="icon-link social-context">{{{social_context}}}</span>',{social_context:a})}return""},advertiser_name:function(){return this.was_retweeted?this.retweeting_status.user.name:this.user.name},allowed_to_retweet:function(){return!this.user["protected"]&&!twttr.helpers.isCurrentUser(this.user)},retweet_count_text:function(){var a=this.retweet_count;return a===1?_("{{retweet_count}} 次转推",{retweet_count:a}):_("{{retweet_count}} 次转推",{retweet_count:twttr.util.formatNumber(a,twttr.pageLocale)})},activity_count:function(a){var b=this.activities&&this.activities[a]&&this.activities[a]!=="0";return b?"("+this.activities[a]+")":""},favoriter_count:function(){return this.activity_count("favoriters_count")},retweeter_count:function(){return this.activity_count("retweeters_count")},has_retweet_count:function(){return this.retweet_count>0},replier_count:function(){return this.activity_count("repliers_count")},is_retweeted_by_current_user:function(){return!!this.current_user_retweet},is_my_tweet:function(){return twttr.helpers.isCurrentUser(this.user)},show_trashcan:function(){return twttr.helpers.isCurrentUser(this.user)||twttr.admin&&twttr.admin.showTrashcan()},show_not_relevant_action:function(){return twttr.decider.isAvailable("phoenix_search_relevance_not_relevant_action")&&this.result_category==="relevance"},contributor:function(){return this.contributors?this.contributors[0]:null},can_view:function(){return this.user.can_view()},retweet_source_screen_name_link:function(){if(this.retweeting_status){var a=this.retweeting_status.text.match(/^RT @?([0-9A-Za-z_]*):/).pop();return Mustache.to_html("<a href='{{path}}' class='latest-status-retweeted-user'>{{screen_name}}</a>",{path:twttr.router.profilePath({screen_name:a}),screen_name:a})}},css_classes:function(){var a="";return $.each({is_top_tweet:"top-tweet",is_sponsored:"promoted-tweet",current_user_retweet:"retweeted",favorited:"favorited"},twttr.bind(this,function(b,c){if(twttr.is.fn(this[b])?this[b]():this[b])a+=c+" "})),a},permalink_path:function(){return twttr.router.permalinkPath({screen_name:this.user.screen_name,id:this.id})},embed_dialog_permalink_path:function(){return twttr.router.embedDialogPermalinkPath({screen_name:this.user.screen_name,id:this.id})},place_path:function(){return twttr.router.placePath({place_id:this.place.id})},truncated_text:function(){return twttr.helpers.truncate(this.text,50)},can_expand:function(){return twttr.decider.isExpando()},in_reply_to_path:function(){return twttr.router.permalinkPath({screen_name:this.in_reply_to_screen_name,id:this.in_reply_to_status_id})},in_reply_to_name:function(){var a=this.in_reply_to_screen_name,b=this.entities&&this.entities.user_mentions;if(b)for(var c=0,d=b.length;c<d;c++)if(b[c].screen_name===a)return b[c].name;return"@"+a}}),twttr.view("twttr.views.BaseUser",function(){twttr.views.BaseAPI.apply(this,arguments)}).subclassOf(twttr.views.BaseAPI).mixin(twttr.mixins.i18nTweet).methods({defaultAvatarRegEx:/default_profile_\d/,defaultAvatar:function(a){return this.profile_image_url.match(this.defaultAvatarRegEx)&&this.is_current_user()?a?twttr.assets.path("/images/default_profile_add_photo.png"):twttr.router.settingsProfilePath():!1},raw_profile_image_url:function(){return this.defaultAvatar(!1)||twttr.helpers.transformProfileImageUrl(this.profile_image_url)},bigger_profile_image_url:function(){return this.defaultAvatar(!1)||twttr.helpers.transformProfileImageUrl(this.profile_image_url,"bigger")},mini_profile_image_url:function(){return this.defaultAvatar(!1)||twttr.helpers.transformProfileImageUrl(this.profile_image_url,"mini")},reasonably_small_profile_image_url:function(){return this.defaultAvatar(!0)||twttr.helpers.transformProfileImageUrl(this.profile_image_url,"reasonably_small")},right_image_size:function(){return twttr.helpers.transformProfileImageUrl(this.profile_image_url,"bigger")},account_profile_image_path:function(){return"/account/profile_image/"+this.screen_name},description_is_rtl:function(){if(!this.description)return!1;var a=this.getMachedRtlChars(this.description);return a&&this.shouldBeRTL(this.description,a)},linkified_description:function(){var a=this.description;this.is_withheld()&&this.is_current_user()&&(a=this.withheld_description);if(!a)return"";var b=twttr.util.linkifyEntities(twttr.util.linkify(a,{nofollow:!0}),this);return this.query?twttr.util.queryHighlight(this.query,b):b},display_url_or_url:function(){return this.url?twttr.txt.htmlEscape(this.display_url||this.url):""},is_withheld:function(){return twttr.decider.isAvailable("phoenix_pctd")&&!!this.withheld_scope&&this.withheld_scope=="user"},is_current_user_withheld:function(){return this.is_withheld()&&this.is_current_user()},is_current_user:function(){return twttr.helpers.isCurrentUser(this.id)},can_view:function(){return twttr.helpers.canViewUser(this)},is_sponsored:function(){return!!this.promoted_content},promoted_badge_class:function(){return"badge-"+(this.promoted_content.disclosure_type||"promoted")},translation_tool_path:function(){return twttr.decider.isAvailable("i18n_new_translation_center")?"http://translate.twttr.com":this.translate_path()},account_impression_id:function(){var a=this.promoted_content;return a?Mustache.to_html("data-impression-id='{{id}}' ",{id:a.impression_id}):""},feedback_token:function(){return this.feedback?Mustache.to_html("data-feedback-token='{{feedback}}' ",{feedback:this.feedback}):""},mini_profile_image_url:function(){return twttr.helpers.transformProfileImageUrl(this.profile_image_url,"mini")}}),twttr.view("twttr.views.StreamTweet",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet).mixin(twttr.mixins.serverRenderableObject).methods({wakeUp:function(){this.initDomNode();var a=this.$node.children().remove();this.$node.html(twttr.views.BaseTweet.prototype.html.call(this,!0)),this.render_withheld()&&this.$node.addClass("withheld-item");var b=$('<div style="display:none;" class="js-old-content" />').append(a);this.$node.append(b);var c=b[0];using(">actionQueueEmpty",function(){c.parentNode.removeChild(c)})},initDomNode:function(){if(this.$node)return;var a=this;this.$node=this.$domNode(function(){return twttr.views.BaseTweet.prototype.html.apply(a,arguments)})},html:function(a){return a&&(this.$node=null),this.initDomNode(),this.preRendered?this.$node.html():twttr.views.Base.prototype.html.apply(this,arguments)},domNodeSelector:function(){var a=this.id;return this.impression_id&&(a+="-promoted"),"#stream-item-tweet-"+a}}),twttr.view("twttr.views.TweetActions",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet),twttr.view("twttr.views.TweetDogear",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet),twttr.view("twttr.views.DetailsPane").methods({closable:!0,back_label:function(){return this._backLabel},popable:function(){return this._viewstack&&this._viewstack.size()>1},hide:function(){this.$dom.addClass("inactive").removeClass("active"),this.$dom.find("div.tweet-media").trigger("hideMedia"),this.$dom=this.$dom.detach()},show:function(){$(this.selector)[this.operation](this.$dom),this.$dom.find("div.tweet-media").trigger("showMedia"),this.$dom.addClass("active").removeClass("inactive")}}),twttr.view("twttr.views.MessageDrawer").statics({isOpen:!1,close:function(){twttr.views.MessageDrawer.isOpen=!1,$("#message-drawer .message").remove()}}),twttr.view("twttr.views.UserCss",function(){twttr.views.BaseAPI.apply(this,arguments);var a=["profile_background_color","profile_text_color","profile_link_color","profile_sidebar_fill_color"];for(var b=0;b<a.length;b++)this[a[b]]=twttr.helpers.sanitizeCssColor(this[a[b]])}).subclassOf(twttr.views.BaseAPI).methods({rgba_sidebar_color:function(){if(!this.profile_sidebar_fill_color)return;return twttr.helpers.hexToRGBA(this.profile_sidebar_fill_color,"0.9")},rgba_tweet_background_color:function(){if(!this.profile_link_color)return;return twttr.helpers.hexToRGBA(this.profile_link_color,"0.1")},rgba_tweet_border_color:function(){if(!this.profile_link_color)return;return twttr.helpers.hexToRGBA(this.profile_link_color,"0.15")},rgba_newtweets_background_color:function(){if(!this.profile_link_color)return;return twttr.helpers.hexToRGBA(this.profile_link_color,"0.2")},rgba_newtweets_border_color:function(){if(!this.profile_link_color)return;return twttr.helpers.hexToRGBA(this.profile_link_color,"0.25")},rgba_text_color:function(){if(!this.profile_text_color)return;return twttr.helpers.hexToRGBA(this.profile_text_color,"0.6")},profile_pretty_link_color:function(){if(!this.profile_link_color)return;return twttr.helpers.blendHexColor(this.profile_link_color,"FFF",.6)},profile_pretty_link_sidebar_color:function(){if(!this.profile_link_color||!this.profile_sidebar_fill_color)return;return twttr.helpers.blendHexColor(this.profile_link_color,this.profile_sidebar_fill_color,.6)}}),twttr.view("twttr.views.UserCssP1",function(){twttr.views.UserCss.apply(this,arguments)}).subclassOf(twttr.views.UserCss),twttr.view("twttr.views.UserCssT1",function(a){twttr.inputUser=a,twttr.views.UserCss.apply(this,arguments)}).subclassOf(twttr.views.UserCss).methods({style_namespace:function(){return this.screen_name?this.screen_name:"twttr"},has_hovers_in_css:function(){return!!twttr.hasHoversInCss},colon_hover:function(){return twttr.hasHoversInCss?":hover":""}}),twttr.view("twttr.views.BgImgCss",function(){twttr.views.BaseAPI.apply(this,arguments)}).subclassOf(twttr.views.BaseAPI),twttr.view("twttr.views.BaseStats",function(a){twttr.views.BaseUser.apply(this,arguments),a.status&&(this.status=new twttr.views.BaseTweet(a.status),this.status.user=this)}).subclassOf(twttr.views.BaseUser).methods({statuses_count_commaized:function(){return phx.util.formatNumber(this.statuses_count,twttr.pageLocale)},following_nobody:function(a){return this.friends_count===0},friends_count_commaized:function(){return this.screen_name==="toptweets"?_("所有人!"):phx.util.formatNumber(this.friends_count,twttr.pageLocale)},followers_count_commaized:function(){return phx.util.formatNumber(this.followers_count,twttr.pageLocale)},favorites_count_commaized:function(){return this.favourites_count&&parseInt(this.favourites_count,10)>0?phx.util.formatNumber(this.favourites_count,twttr.pageLocale):0},listed_count_commaized:function(){return this.listed_count&&parseInt(this.listed_count,10)>0?phx.util.formatNumber(this.listed_count,twttr.pageLocale):0},can_view:function(){return twttr.helpers.canViewUser(this)},source_impression_id:function(){var a=this.impression_id;return a?Mustache.to_html('data-impression-id="{{id}}" ',{id:a}):""},translator_profile_path:function(){return twttr.decider.isAvailable("i18n_new_translation_center")?this.translation_tool_path()+"/user/"+this.screen_name:this.translation_tool_path()}}),twttr.view("twttr.views.MessageNotification").statics({isOpen:!1,close:function(){twttr.views.MessageNotification.isOpen=!1,$("#message-notification .notification").remove()}}),twttr.view("twttr.views.StreamActivity").statics({maxItems:2,sentences:{favorites:[_("被 {{{screen_name_0}}} 收藏"),_("被 {{{screen_name_0}}} 和 {{{screen_name_1}}} 收藏\n      ")],retweets:[_("被 {{{screen_name_0}}} 转推"),_("被 {{{screen_name_0}}} 和 {{{screen_name_1}}} 转推")]}}).methods({sentence:function(){var a=this.constructor.sentences[this.item_type],b=this.items.slice(0,this.constructor.maxItems);return!b.length||!a?"":Mustache.to_html(a[b.length-1],twttr.inject(b,{},function(a,b,c){return a["screen_name_"+b]=(new twttr.views.UserLink(c.attributes)).html(),a}))}}),exports()})});provide("multiGlobals/core_views_t1",function(a){using("util").as(function(b){twttr.view("twttr.views.StreamTweeter",function(){twttr.views.BaseTweet.apply(this,arguments)}).subclassOf(twttr.views.BaseTweet),a()})});provide("router_t1",function(a){using("util").as(function(b){function c(a){function b(b){var d=twttr.app.switchToPage(a);d&&c&&d.send(c,Array.prototype.slice.apply(arguments))}var c;return b.action=function(a){return this.actionName=c=a,b},b.pageName=a,b}function d(a,b,c){m("hashbang"+twttr.util.capitalize(a),"/#!"+b,function(){twttr.themes.loadLoadingTheme(),twttr.Router.performRedirect(c||b)})}function e(a,b){d(a,b),m(a,b,$.noop)}function f(a,b){var c=(twttr.isLocalhost?"":"https://"+location.hostname)+b;d(a,b,c),n(a,c)}function g(a,b,c,d,e){var f=i(d)?e:b;twttr.router.swiftRoutes[a]={decider:d,path:e},m(a,f,c)}function i(a){var b=twttr.util.params(window.location.search);return twttr.is.def(b.render_on_server)?b["render_on_server"]=="1"||b["render_on_server"]=="true":twttr.decider.isAvailable(a)}function j(a){return twttr.loggedIn?a.loggedIn:a.loggedOut||k()}function k(){return twttr.ScribeBuffer&&twttr.ScribeBuffer.instance.send(),c("Login").action("loginRequired")}function l(){var a=twttr.router.shouldRedirectToCanonicalUrl(twttr.router.getCurrentRoute());if(a){window.location.replace(a);return}}twttr.router=new twttr.Router;var m=twttr.bind(twttr.router,twttr.router.route),n=twttr.bind(twttr.router,twttr.router.staticRoute),o=twttr.bind(twttr.router,twttr.router.redirectRoute);twttr.router.bind("routeAdded",function(a,c,d){twttr.views.Base.method(b.util.underscore(c),function(){return d(this)})}),e("about","/about"),e("jobs","/jobs"),e("tos","/tos"),e("privacy","/privacy"),e("deactivated","/account/deactivated"),e("deactivate","/account/deactivate"),e("suspendedHelp","/account/suspended_help"),e("suspended","/suspended"),e("settings","/settings/account"),e("design","/settings/design"),e("settingsProfile","/settings/profile"),e("devices","/devices"),e("invitationEmailPreview","/invitations/email_preview"),e("campaigns","/account/campaigns"),e("resources","/about/resources"),e("translate","/translate"),e("whatsNew","/newtwitter"),e("changeLocale","/sessions/change_locale"),e("resendPassword","/account/resend_password"),e("mobileComplete","/account/complete"),e("turnPhxOff","/account/use_phx?setting=false&format=html"),o("terms","/#!/terms","tos"),o("admin","/#!/admin","home"),f("sessions","/sessions?phx=1"),f("signup","/signup"),m("login","/#!/login",c("login").action("index")),m("sessionsNew","/#!/sessions/new",c("login").action("index")),m("loginRedirect","/#!/login/redirect/:redirect_after_login",c("login").action("index")),m("loginError","/#!/login/:error",c("login").action("error")),m("logout","/#!/logout",c("logout").action("index")),e("logout_action","/logout"),n("support","//support.twitter.com"),n("blog",twttr.localize({ja:"http://blog.jp.twitter.com",es:"http://blog.es.twitter.com",fr:"http://blog.fr.twitter.com",de:"http://blog.de.twitter.com",pt:"http://blog.pt.twitter.com",ko:"http://blog.kr.twitter.com",it:"http://blog.it.twitter.com",ru:"http://blog.ru.twitter.com"},"http://blog.twitter.com")),n("status",twttr.localize({ja:"http://status.twitter.jp"},"http://status.twitter.com")),n("developers","//dev.twitter.com"),n("businesses","//business.twitter.com/index_"+twttr.pageLocale+".html"),n("advertisers","//business.twitter.com/"+twttr.pageLocale+"/advertise/start"),n("partnerships","http://media.twitter.com"),n("helpPromotedTweets","//support.twitter.com/articles/142101"),n("helpPromotedAccounts","//support.twitter.com/articles/282154"),n("helpPromotedTrends","//support.twitter.com/articles/282142"),n("spamLearnMore","//support.twitter.com/articles/64986-how-to-report-spam-on-twitter"),n("malwareLearnMore","//support.twitter.com/articles/90491-my-website-is-being-flagged-as-malware-or-spam"),n("suspendedLearnMore","//support.twitter.com/articles/15790-my-account-is-suspended"),n("dailyLimitLearnMore","//support.twitter.com/articles/15364-about-twitter-limits-update-api-dm-and-following"),n("savedSearchesHelp","//support.twitter.com/articles/96646-how-to-save-searches"),n("listsHelp","//support.twitter.com/articles/76460-how-to-use-twitter-lists"),n("emailHelp","//support.twitter.com/articles/82050-i-m-having-trouble-confirming-my-email"),n("changeEmail","//twitter.com/settings/account?change_email=true"),n("mobile","//mobile.twitter.com"),n("mobileHelp","//support.twitter.com/groups/34-mobile"),n("mobileHelpFaq","//support.twitter.com/groups/34-mobile/topics/123-getting-started/articles/14014-twitter-phone-faqs"),n("shortCodeHelp","//support.twitter.com/articles/14226-how-to-find-your-twitter-short-code"),n("smsHelp","//support.twitter.com/articles/14020-about-twitter-sms-commands"),n("pushHelp","//support.twitter.com/articles/20169887"),n("helpDiscovery","//support.twitter.com/articles/14022"),n("analytics","//analytics.twitter.com/"),n("turkeySupport","https://support.twitter.com/articles/20156423"),n("flagTurkeySupport","https://support.twitter.com/articles/20069937"),n("twirefoxSupport","https://support.twitter.com/articles/20167003-about-firefox-with-twitter"),n("tweetIntent","https://twitter.com/share"),n("withheldHelp","https://support.twitter.com/articles/20169222"),n("followLimitReachedLearnMore","https://support.twitter.com/articles/66885"),n("blockedFromFollowingLearnMore","https://support.twitter.com/articles/117063"),n("listNameErrorLearnMore","https://support.twitter.com/articles/20169276"),n("cookiePersonalizationLearnMore","https://support.twitter.com/articles/20169421"),n("embedDocumentation","//dev.twitter.com/docs/embedded-tweets"),n("directMessageLearnMore","http://support.twitter.com/groups/31-twitter-basics/topics/109-tweets-messages/articles/14606-what-is-a-direct-message-dm"),m("home","/#!/",j({loggedIn:c("home").action("home"),loggedOut:c("front").action("index")})),m("homeIndex","/#!/",j({loggedIn:c("home").action("home"),loggedOut:c("front").action("index")})),m("savedSearches","/#!/saved-search",j({loggedIn:c("home").action("savedSearches")})),m("listsFollowingYou","/#!/lists/memberships",j({loggedIn:c("home").action("memberships")})),m("listsYouFollow","/#!/lists/subscriptions",j({loggedIn:c("home").action("subscriptions")})),m("messages","/#!/messages",j({loggedIn:c("home").action("messages")})),m("messageCreate","/#!/messages/create/:screen_name",j({loggedIn:c("home").action("messages")})),m("inbox","/#!/inbox",j({loggedIn:c("home").action("messages")})),m("sent","/#!/sent",j({loggedIn:c("home").action("messages")})),m("createDm","/#!/direct_messages/create/:screen_name",j({loggedIn:c("home").action("messages")})),o("retweetsByOthers","/#!/retweets_by_others","connect"),o("retweetsOfMine","/#!/retweeted_of_mine","connect"),m("rateLimit","/#!/twttr/rate_limit",c("rateLimit").action("tooMuch")),g("discover","/#!/i/discover",j({loggedIn:c("discover").action("discover")}),"swift_discover","/i/discover"),m("networkActivity","/#!/activity",j({loggedIn:c("discover").action("networkActivity")})),m("whoToFollow","/#!/who_to_follow",j({loggedIn:c("discover").action("suggestions")})),m("whoToFollowSuggestions","/#!/who_to_follow/suggestions",j({loggedIn:c("discover").action("suggestions")})),m("whoToFollowSuggestionsSearch","/#!/who_to_follow/suggestions/search/:query",j({loggedIn:c("discover").action("suggestions_search")})),m("whoToFollowSuggestionsSearchForm","/#!/who_to_follow/suggestions/search/",j({loggedIn:c("discover").action("suggestions_search")})),m("whoToFollowImport","/#!/who_to_follow/import",j({loggedIn:c("discover").action("find_friends")})),m("whoToFollowImportMatches","/#!/who_to_follow/matches",j({loggedIn:c("discover").action("matches")})),m("whoToFollowImportSearch","/#!/who_to_follow/import/search/:query",j({loggedIn:c("discover").action("find_friends_search")})),m("whoToFollowImportSearchForm","/#!/who_to_follow/import/search/",j({loggedIn:c("discover").action("find_friends_search")})),m("whoToFollowInterests","/#!/who_to_follow/interests",j({loggedIn:c("discover").action("interests")})),m("whoToFollowInterestsSearch","/#!/who_to_follow/interests/search/:query",j({loggedIn:c("discover").action("interests_search")})),m("whoToFollowInterestsSearchForm","/#!/who_to_follow/interests/search",j({loggedIn:c("discover").action("interests_search")})),m("whoToFollowInterestsCategory","/#!/who_to_follow/interests/:category",j({loggedIn:c("discover").action("category")})),m("governmentSearchByZip","/#!/who_to_follow/government_by_zip/:zipCode",j({loggedIn:c("discover").action("government_by_zip")})),m("personalizationPreview","/#!/who_to_follow/web_personalized",c("WebPersonalizationPreview").action("preview")),m("searchHome","/#!/search-home",c("searchHome").action("index")),m("searchAdvanced","/#!/search-advanced",c("searchHome").action("advanced")),m("searchRealtime","/#!/search/realtime/:query",c("search").action("realtime")),m("searchTimeline","/#!/search/timeline/:query",c("search").action("timeline")),m("formSearchResults","/#!/search",c("search").action("search")),m("searchResults","/#!/search/:query",c("search").action("search")),m("userSearch","/#!/search/users/:query",c("search").action("people")),m("savedSearch","/#!/saved-search/:query",c("search").action("search")),m("searchFacetsGrid","/#!/search/:query/grid/:mode",c("facetsMediaGallery").action("grid")),m("searchFacetsSlideshow","/#!/search/:query/slideshow/:mode",c("facetsMediaGallery").action("slideshow")),m("searchFacetsGridDefault","/#!/search/:query/grid",c("facetsMediaGallery").action("grid")),m("searchFacetsSlideshowDefault","/#!/search/:query/slideshow",c("facetsMediaGallery").action("slideshow")),m("place","/#!/places/:place_id",c("PlaceT1").action("tweets")),m("trends","/#!/trends",c("trends").action("trends")),g("connect","/#!/i/connect",j({loggedIn:c("Connect").action("connect")}),"swift_interactions","/i/connect"),g("mentions","/#!/mentions",j({loggedIn:c("Connect").action("mentions")}),"swift_mentions","/mentions"),g("replies","/#!/replies",j({loggedIn:c("Connect").action("mentions")}),"swift_mentions","/replies"),g("permalink","/#!/:screen_name/status/:id",c("permalink").action("permalink"),"swift_permalink","/:screen_name/status/:id"),g("permalinkOld","/#!/:screen_name/statuses/:id",c("permalink").action("permalink"),"swift_permalink","/:screen_name/statuses/:id"),g("photoPermalink","/#!/:screen_name/status/:id/photo/:photo_index",c("permalink").action("permalink"),"swift_permalink","/:screen_name/status/:id/photo/:photo_index"),g("bigPhotoPermalink","/#!/:screen_name/status/:id/photo/:photo_index/large",c("bigPhotoPermalink").action("permalink"),"swift_permalink","/:screen_name/status/:id/photo/:photo_index"),m("embedDialogPermalink","/#!/:screen_name/status/:id/embed",c("permalink").action("permalinkWithEmbedDialog")),m("welcome","/#!/welcome",j({loggedIn:c("welcome").action("welcome")})),m("welcomeSearch","/#!/welcome/search/:query",j({loggedIn:c("welcome").action("search")})),m("welcomeSearchForm","/#!/welcome/search",j({loggedIn:c("welcome").action("search")})),m("welcomeIntro","/#!/welcome/intro",j({loggedIn:c("welcome").action("intro")})),m("welcomeInterests","/#!/welcome/interests",j({loggedIn:c("welcome").action("interests")})),m("welcomeInterestsCategory","/#!/welcome/interests/:category",j({loggedIn:c("welcome").action("category")})),m("welcomeImport","/#!/welcome/import",j({loggedIn:c("welcome").action("import")})),m("welcomeImportMatches","/#!/welcome/matches",j({loggedIn:c("welcome").action("matches")})),m("welcomeRecommendations","/#!/welcome/recommendations",j({loggedIn:c("welcome").action("recommendations")})),m("welcomeResurrect","/#!/welcome/return",j({loggedIn:c("welcome").action("resurrect")})),m("welcomeProfile","/#!/welcome/profile",j({loggedIn:c("welcome").action("profile")})),g("mobileGallery","/#!/download",c("mobile_gallery").action("gallery"),"swift_mobile_download_gallery","/download"),g("firefoxWelcome","/#!/download/firefox/welcome",c("mobile_gallery").action("firefoxWelcome"),"swift_mobile_download_gallery","/download/firefox/welcome"),g("firefoxDownload","/#!/download/firefox",c("mobile_gallery").action("firefoxDownload"),"swift_mobile_download_gallery","/download/firefox"),g("mobileApp","/#!/download/:app",c("mobile_gallery").action("app"),"swift_mobile_download_gallery","/download/:app"),m("followers","/#!/followers",j({loggedIn:c("profile").action("followers")})),m("following","/#!/following",j({loggedIn:c("profile").action("following")})),m("favorites","/#!/favorites",j({loggedIn:c("profile").action("favorites")})),m("friends","/#!/friends",j({loggedIn:c("profile").action("following")})),m("lists","/#!/lists",j({loggedIn:c("profile").action("lists")})),m("followersYouFollow","/#!/:screen_name/followers_you_follow",c("profile").action("followersYouFollow")),m("profile","/#!/:screen_name",c("profile").action("profile")),m("profileWithReplies","/#!/:screen_name/with_replies",c("profile").action("with_replies")),m("userFavorites","/#!/:screen_name/favorites",c("profile").action("favorites")),m("userFollowers","/#!/:screen_name/followers",c("profile").action("followers")),m("userMediaGrid","/#!/:screen_name/media/grid",c("userMediaGallery").action("grid")),m("userMediaSlideshow","/#!/:screen_name/media/slideshow",c("userMediaGallery").action("slideshow")),m("userFollowing","/#!/:screen_name/following",c("profile").action("following")),m("userLists","/#!/:screen_name/userlists",c("profile").action("lists")),m("memberships","/#!/:screen_name/lists/memberships",c("profile").action("memberships")),m("subscriptions","/#!/:screen_name/lists",c("profile").action("allLists")),m("followerRequests","/#!/:screen_name/follower_requests",c("profile").action("followerRequests")),m("similarTo","/#!/similar_to/:screen_name",c("profile").action("similarTo")),m("userList","/#!/:screen_name/:list_slug",c("list").action("list")),m("listMembers","/#!/:screen_name/:list_slug/members",c("list").action("members")),m("listSubscribers","/#!/:screen_name/:list_slug/subscribers",c("list").action("followers")),twttr.router.bind("routeFollowed",l),l(),a()})});provide("audit",function(a){using().as(function(b){twttr.klass("twttr.AuditTrail",function(){this.array=[]}).methods({MAX_LENGTH:20,add:function(a){this.array.unshift(a),this.array.length>this.MAX_LENGTH&&(this.array=this.array.slice(0,this.MAX_LENGTH))},trail:function(){return this.array},currentPage:function(){return this.page(0)},currentAction:function(){return this.action(0)},currentPath:function(){return this.path(0)},page:function(a){var b=this._routes();return b[a]&&b[a].page},action:function(a){var b=this._routes();return b[a]&&b[a].action},path:function(a){var b=this._routes();return b[a]&&b[a].path},_routes:function(){return twttr.filter(this.array,function(a,b){return a.type==="route"})}}),twttr.audit=new twttr.AuditTrail,twttr.router.bind("routeFollowed",function(a,b,c){var d=b.fn.pageName;twttr.audit.add({action:b.fn.actionName,page:d,path:c,type:"route"});var e=$("#doc").removeClass();d&&e.addClass("route-"+d.replace(/_/g,"-"))}),a(twttr.audit)})});provide("multiGlobals/ClickTrail",function(a){using("util").as(function(b){twttr.klass("twttr.ClickTrail",function(){this.array=[]}).methods({MAX_LENGTH:5,add:function(a){this.array.unshift(a),this.array.length>this.MAX_LENGTH&&(this.array=this.array.slice(0,this.MAX_LENGTH))},lastClick:function(){if(this.array.length)return this.array[0].eventName},trail:function(){return this.array}}),twttr.clicks=new twttr.ClickTrail,twttr.app.waitForSignal("init",function(){$("body").mousedown(function(a){var c=$(a.target),d=c.closest("[data-element-term]"),e=c.closest("[data-component-term]"),f=c.closest("[data-section-term]"),g=twttr.Scribbler.getElementEventNameTerms(c),i=twttr.audit.currentPage(),j=c.closest("[href]").attr("href");g.section||(g.section=b.util.underscore(twttr.audit.currentAction())),g.component&&g.section&&i&&(g.client="web",g.page=b.util.underscore(i),g.action="navigate",twttr.clicks.add({eventName:twttr.Scribbler.clientAppEventNameGenerator(g),eventTerms:g,path:j,target:c}))}),twttr.router.bind("routeFollowed",function(a,b,c){var d=twttr.clicks.trail()[0];d&&d.path==c&&trackClient(d.eventTerms,{url:c})})}),a(twttr.clicks)})});provide("run/defaultViews",function(a){using().as(function(b){using(">payload",function(){twttr.payload.conditionalTemplates&&($.each(twttr.payload.conditionalTemplates,function(a,b){twttr.templates[a]=b}),twttr.views.makeDefaultViews(twttr.templates))}),twttr.views.makeDefaultViews(twttr.templates),a()})});provide("TrendLocations",function(a){using("_","constants").as(function(b,_){twttr.klass("twttr.TrendLocations",function(a){this.getLocation(a)}).statics({LOGGED_OUT_TREND_LOCATION_COOKIE:"trend_location",install:function(a){twttr.trendLocations?twttr.trendLocations.getLocation(a):twttr.trendLocations=new twttr.TrendLocations(a)}}).methods({getLocation:function(a){var b=this;twttr.API.Trend.locations({lang:twttr.pageLocale,success:function(c){b.all=c;if(twttr.currentUser)twttr.currentUser.trendLocation().first(function(c){c?b.current=c:b.current=b.worldwide(),a(b.current)});else{var d=parseInt($.cookie(b.constructor.LOGGED_OUT_TREND_LOCATION_COOKIE),10);b.current=b.locationForWoeid(d)||b.worldwide(),a(b.current)}}})},allLocations:function(){return this.all.array},ancestorsOf:function(a){if(!a.parentid)return[];var b=this.locationForWoeid(a.parentid);return[b].concat(this.ancestorsOf(b))},withAncestorsOf:function(a){return[a].concat(this.ancestorsOf(a))},currentAncestors:function(){return this.ancestorsOf(this.current)},withCurrentAncestors:function(){return this.withAncestorsOf(this.current)},withFilterAncestors:function(){return this.withAncestorsOf(this.currentFilter())},childrenOf:function(a){return twttr.filter(this.allLocations(),function(b){return b.parentid===a.woeid})},currentChildren:function(){return this.childrenOf(this.currentFilter())},locationForWoeid:function(a){return twttr.filter(this.allLocations(),function(b){return b.woeid==a})[0]},locationsForWoeids:function(a){var b=this;return twttr.map(a,function(a){return b.locationForWoeid(a)})},worldwide:function(){return this.locationForWoeid(1)},currentFilter:function(){var a=this.current;return a.placeType.code===b.constants.placeTypes.city||this.childrenOf(a).length===0?this._currentFilterWoeid=a.parentid:this._currentFilterWoeid=a.woeid,this.locationForWoeid(this._currentFilterWoeid)},setCurrent:function(a,b){this.current=this.locationForWoeid(a),twttr.currentUser?twttr.currentUser.setTrendLocation(a):(twttr.API.CurrentUser.trigger("changedLocation_success"),$.cookie(this.constructor.LOGGED_OUT_TREND_LOCATION_COOKIE,a)),scribble("switch-trend-location",{woeid:a,input:"click",origin:b})}}),a(twttr.TrendLocations)})});provide("mixins/sideNavigationT1",function(a){using().as(function(b){var c=twttr.klass.mixin(function(){this.methods({selectCurrentSideNav:function(){this.selectSideNav(twttr.router.getCurrentRoute().name)},selectSideNav:function(a){var b=this.$find("li.js-sidenav-link[data-name='"+a+"']");this.$find("li.js-sidenav-link").removeClass("active"),b.length&&b.addClass("active")},setSideNavBadge:function(a,b){var c=$(document).find("li.js-sidenav-link a[href='"+a+"']");c.find('[class="unread"]').remove(),b&&c.append('<i class="unread"><i>')}})});a(c)})});provide("components/PagePromise",function(a){using("mixins/serverRenderableObject").as(function(b,c){twttr.klass("twttr.PagePromise",function(a){this._queue=[],this._unavailableQueue=[],this._isUnavailable=!1,this._name=a,this.pageNodeId="page-node-"+twttr.util.underscore(a),this.$node=this.$domNode("<div/>")}).mixin(c).methods({domNodeSelector:function(){return"#"+this.pageNodeId},build:function(){var a=this,b=twttr.components.pages[this._name];b?a._build(a._name):using(twttr.bundleMore,function(){a._build(a._name)})},send:function(a,b,c,d){typeof b=="function"&&(error=c,c=b,b=[]);var e={name:a,args:b,cb:c,missing:d};this._instance?this._execute(e):this._enqueue(e)},getInstanceProperty:function(a){if(this._instance&&this._instance[a])return this._instance[a]},bind:function(){this.send("bind",Array.prototype.slice.apply(arguments))},one:function(){this.send("one",Array.prototype.slice.apply(arguments))},trigger:function(){this.send("trigger",Array.prototype.slice.apply(arguments))},$find:function(){return this.$node.find.apply(this.$node,arguments||[])},_build:function(a){var b=twttr.components.pages[a];b?(this._instance=new b(this.$node,this.preRendered),b.isAvailable()?this._flush():this._unavailable()):this._unavailable()},whenUnavailable:function(a){this._isUnavailable?a():this._unavailableQueue.push(a)},_unavailable:function(){this._isUnavailable=!0;for(var a=0;a<this._unavailableQueue.length;a++)this._unavailableQueue[a].call(null);this._unavailableQueue=[]},_enqueue:function(a){this._queue.push(a)},_execute:function(a){var b=this._instance[a.name];if(b){var c=b.apply(this._instance,a.args||[]);a.cb&&a.cb.call(null,c)}else a.missing&&a.missing.apply(null)},_flush:function(){for(var a=0;a<this._queue.length;a++)this._execute(this._queue[a]);this._queue=[]}}),a()})});provide("components/Page",function(a){using(twttr.isT1?"mixins/sideNavigationT1":"mixins/sideNavigationP1","util","constants","mixins/serverRenderableObject").as(function(b,c){twttr.klass("twttr.components.Page",function(a,b){var c=this._namespace.match(/\.([^.]+)$/)[1];this.pageNameUnderscore=twttr.util.underscore(c),this.$node=a||this.$domNode("<div/>"),this.preRendered=!!b,b||signal(">wokeUp"),this._isOpen=!1,this.initComponentEvents()}).statics({view:function(a){return this.prototype._View=a,this},containerCssClass:function(a){return this._containerCssClass=a,this},deciderKey:function(a){return this._deciderKey=a,this},isAvailable:function(){return!this._deciderKey||twttr.decider.isAvailable(this._deciderKey)}}).mixin(twttr.mixins.componentEvents).methods(twttr.EventProvider).mixin(b.mixins.serverRenderableObject).methods({_isActive:function(){return twttr.app.currentPageName().toLowerCase()===this.constructor._name.toLowerCase()},$find:function(){return this.$node.find.apply(this.$node,arguments)},keyevent:function(a,c){if(twttr.helpers.isModifier(a))return;var d;a.keyCode===b.constants.keyCodes.esc?d="esc":a.keyCode===b.constants.keyCodes.enter?d="return":a.which===b.constants.which.period?d="period":a.keyCode===b.constants.keyCodes.leftArrow?d="left":a.keyCode===b.constants.keyCodes.rightArrow?d="right":a.keyCode===b.constants.keyCodes.upArrow?d="up":a.keyCode===b.constants.keyCodes.downArrow?d="down":d=String.fromCharCode(a.which).toLowerCase();if(this["_"+c]&&this["_"+c][d]&&(a.which<111||a.which>118)&&!twttr.shortcuts.currentKey)return this["_"+c][d].call(this,a)},render:function(a){this.beforeRender();var b=$.extend(this.viewData(),a);return this.preRendered||(this.$node.empty(),twttr.development&&!this._View&&console.log("Missing view for page "+this.constructor.name),this.$node.html((new this._View(b)).html())),this.afterRender(),this.trigger("rendered",[this]),this},onkeydown:function(a){this.keyevent(a,"keydown")},onkeypress:function(a){this.keyevent(a,"keypress")},onkeyup:function(a){this.keyevent(a,"keyup")},addContainerComponent:function(a,b,c){c==null?a.append(b.$node):twttr.is.number(c)?a.children(":nth-child("+c+")").before(b.$node):a[c](b.$node),b.bind("notRendered",twttr.bind(this,function(a){this.componentNotRendered(b,a)})),b.trigger("addedToPage",[b])},addTopContentComponent:function(a,b){this.$topContent||(this.$topContent=this.$find("div.js-content-top")),this.addContainerComponent(this.$topContent,a,b)},addDashboardComponent:function(a,b){this.$dashboard||(this.$dashboard=this.$find(".dashboard")),a&&this.addContainerComponent(this.$dashboard,a,b)},addDashboardComponents:function(a){var b=this;twttr.each(a,function(a){b.addDashboardComponent(a)})},componentNotRendered:function(a,b){},updatePageTitle:function(a){twttr.isPreflight&&(a="PREFLIGHT :: "+a),this._pageTitle=a,this._isActive()&&(document.title=a)},hasNewItems:function(a){a?($("#global-actions .active").addClass("new"),document.title="("+a+") "+this._pageTitle):($("#global-actions .active").removeClass("new"),document.title=this._pageTitle)},shouldAutoRender:function(){return!this.noAutoRender},addImpressionData:function(a){}}),twttr.klass.page=function(a,b){return twttr.klass(a,b).subclassOf(twttr.components.Page)},$.each(["beforeRender","afterRender","onFirstSwitch","viewData","onSwitchAway","onSwitchTo"],function(a,b){var c=b.charAt(0).toUpperCase()+b.slice(1),d="_"+b;twttr.components.Page["add"+c]=function(a){var b=[],c=this.prototype[d];if(c)for(var e=0;e<c.length;e++)b.push(c[e]);return b.push(a),this.prototype[d]=b,this},twttr.components.Page.prototype[b]=function(){var a=this,b={};return $.each(this[d]||[],function(c,d){twttr.aug(b,d.call(a))}),b}}),twttr.components.Page.addOnSwitchTo(function(){this.constructor._containerCssClass&&$("#page-container").addClass(this.constructor._containerCssClass)}).addOnSwitchAway(function(){this.constructor._containerCssClass&&$("#page-container").removeClass(this.constructor._containerCssClass),$("div.tipsy").remove()}).addBeforeRender(function(){$("div.tipsy").remove()}).addAfterRender(function(){this.$topContent=this.$find("div.js-content-top"),$("div.tipsy").remove()}).addBeforeRender(function(){twttr.isRendering=twttr.is.def(twttr.isRendering)?twttr.isRendering+1:1}).addAfterRender(function(){twttr.isRendering=twttr.is.def(twttr.isRendering)?twttr.isRendering-1:0}).mixin(twttr.mixins.listActionable,c).click({"[data-modal='list-new']":function(a,b){(new twttr.widget.ListDialog({})).open(),trackElement(b,"click")}}),a(twttr.components.Page)})});provide("components/pages/mixins/homeT1",function(a){using("util","mixins/t1/emptyTimelineRecommendations").as(function(b,c,d){var e=twttr.klass.mixin("twttr.components.pages.mixins.homeT1",function(){this.view(twttr.views.Page),this.methods({insertTweetbox:twttr.util.noopInT1,insertPromptbirdPrompt:function(){var a=this;using([twttr.bundleMore,"promptbird"]).as(function(a){var b=a.promptbird.getPrompt();if(!b)return;var c=a.promptbird.renderComponentFromPrompt(b);if(!c)return;var d="#js-promptbird-"+b.prompt.format.replace(/_/g,"-")+"-hook";$(d).html(c.$node)})},selectDashboardComponents:function(){return this.trendsComponent=new twttr.components.Trends,[new twttr.components.PromptbirdDashboardPlaceholder,new twttr.components.t1.dashboard.MiniHomeProfile(!0),twttr.at("twttr.currentUser.protected")&&new twttr.components.FollowerRequestLink,new twttr.components.JapaneseAd,new twttr.components.UserRecommendations,this.trendsComponent,new twttr.components.Footer]},getTweetBoxOptions:function(){return{condensedContent:_("撰写新推文..."),autocompleteSuggestionLimit:twttr.isT1?5:10}},home:function(a,b){var c=this,e=twttr.util.params().badLinkRecipient;e&&!this.warnedOfBadLink&&(this.warnedOfBadLink=!0,twttr.API.User.find(+e,function(a){twttr.showError(_("抱歉，你必须以 @{{screenName}} 登录才能使用该链接!",a))})),this.selectCurrentSideNav(),this.insertEmptyTimeline({reloadStream:!0,onDestroyCb:function(){c.trigger("emptyTimelineModuleDestroyed")}}),this.waitForSignal("emptyTimelineModuleLogicCompleted",function(){var a=c.$find('.component[data-component-term="user_recommendations"]'),b=function(){a.length===1&&(d.showing?a.hide():a.show())};b(),c.bind("emptyTimelineModuleDestroyed",function(){b()})}),this.loadPage(_("Twitter / 主页"),"home","Home"),this.insertPromptbirdPrompt(),this._maybeShowReplyDialog(b)},networkActivity:function(a){this.selectCurrentSideNav(),this.loadPage(_("Twitter / 动态"),"activity","ActivityByNetworkStream")},memberships:function(a){var b=this;this.selectSideNav("lists"),this.loadPage(_("Twitter / 关注了你的列表"),"listFollowingYou","Memberships",{screenName:twttr.currentUser.screenName})},subscriptions:function(a){var b=this;this.selectSideNav("lists"),this.loadPage(_("Twitter / 你关注的列表"),"listYouFollow","AllSubscriptions",{screenName:twttr.currentUser.screenName})},messages:function(a){var b=this;using([twttr.bundleMore,"components/t1/DirectMessageDialog"],function(c,d){b.home(a),a.screen_name?(new d(twttr.widget.DirectMessageDialog.views.conversation,a.screen_name)).open():(new d).open()})},savedSearches:function(a){this.selectCurrentSideNav(),this.loadPage(_("Twitter / 已保存的搜索"),"savedSearches","SavedSearches")}})});a(e)})});provide("components/pages/Home",function(a){using("_",twttr.isT1?"components/pages/mixins/homeT1":"components/pages/mixins/homeP1",twttr.isT1?"mixins/t1/emptyTimelineRecommendations":"mixins/emptyTimelineRecommendations","util","constants").as(function(b,_,c,d){var e=twttr.klass("twttr.components.pages.Home").subclassOf(twttr.components.Page).mixin(twttr.mixins.streamablePage,twttr.mixins.welcomeScribing,d).view(twttr.views.HomePage).containerCssClass("home-container").addOnSwitchTo(function(){var a=this;using([twttr.bundleMore,"TweetBox"],function(){a._hasRendered&&a.insertTweetbox(),twttr.TweetBox.bind("tweetSuccess",function(b,c){var d=a.streamManager.getCurrent().trigger("didTweet",[c])})});var b=twttr.currentUser.states;if(b&&b.pending_email&&!$.cookie("abtest_email_verification_18")){var c=twttr.abdecider.choose("email_verification-18",!0);c&&c!="control"&&using([twttr.bundleMore,"dialogs"],function(){twttr.dialogs.verifyEmail(c).open()})}this.scrollTop&&twttr.$win.scrollTop(this.scrollTop),$(".promptbird").show(),this.maybeScribeWelcomeSkip()}).addOnSwitchAway(function(){using([twttr.bundleMore,"TweetBox"],function(){twttr.TweetBox.unbind("tweetSuccess")}),$(".promptbird").hide()}).addViewData(function(){return{current_user_screen_name:twttr.currentUser.screenName}}).methods({loadPage:function(a,b,c,d){function e(){f.streamManager.switchTo(twttr.streams[c],d||{})}var f=this;this.updatePageTitle(a),twttr.themes.loadCurrentUserStyle(),twttr.streams[c]?e():(this.streamManager.switchOut(),using(twttr.bundleMore,function(){e()})),b&&(this.focusStreamTab(b),b=="home"&&twttr.currentUser.friendsCount==0&&twttr.abdecider.choose("show_wtf_recs_in_timeline_105",true)=="show_wtf"&&this.$find(".stream-tab.stream-tab-home.active a").text("Who To Follow")),this.unfocusStreamItem(),twttr.components.JapaneseAd&&twttr.components.JapaneseAd.refreshAds(),twttr.isT1||trackClient({action:"impression"})},shouldShowSubtabs:function(){return window.location.search.match(/subtabs\=1/)},componentNotRendered:function(a,b){a._namespace=="twttr.components.UserRecommendations"&&this.$dashboard.find("div.trends-inner").addClass("wide-trends")},onFirstSwitch:function(){using([twttr.bundleMore,"photo/turkey"],function(){twttr.decider.isAvailable("turkey")&&twttr.turkey.showFirstTimeTurkey()})},getTweetbox:function(){return this.tweetBox},_maybeShowReplyDialog:function(a){a&&a.in_reply_to_status_id&&a.screen_name&&(defaultContent=a.status||"",using([twttr.bundleMore,"dialogs"],function(){twttr.dialogs.reply({tweetId:a.in_reply_to_status_id,screenName:a.screen_name,dataFields:{defaultContent:defaultContent,multiple:defaultContent.split(/@/).length>2}}).open()}),$.browser.msie||window.location.replace(twttr.router.homePath()))},insertPromptbirdPrompt:function(){var a=this;using([twttr.bundleMore,"promptbird"]).as(function(b){var c=twttr.promptbird.getPrompt();if(!c)return;var d=twttr.promptbird.renderComponentFromPrompt(c);if(!d)return;switch(c.prompt.format){case"dashboard_narrow":a.addDashboardComponent(d,1);break;case"below_black_bar":a._isActive()&&twttr.app.addComponentToAppBody(d)}})},scrollEnd:function(a){this.scrollTop=a,a>100&&twttr.components.pages.Home.scribeScroll&&(trackClient({action:"scroll"}),twttr.components.pages.Home.scribeScroll=!1)}}).addAfterRender(function(){var a=this;this._hasRendered=!0,using([twttr.bundleMore,"TweetBox"],function(){a.insertTweetbox()}),using(twttr.bundleMore,function(){a.preRendered&&a.$find("div.dashboard, section.dashboard").empty(),a.addDashboardComponents(a.selectDashboardComponents()),a.signal("dashboardComponentsAdded")}),this.waitForSignal("dashboardComponentsAdded",function(){a.insertPromptbirdPrompt()})}).click({".done-right":function(a,b){twttr.currentUser.friendsCount>0?(twttr.abdecider.track("show_wtf_recs_in_timeline_105","User clicked done button and is following accounts"),window.location="/"):(twttr.abdecider.track("show_wtf_recs_in_timeline_105","User clicked done button and is not following any accounts"),this.$find(".stream-tab.stream-tab-home.active a").text("Timeline"),this.$find(".stream-title").css("border-bottom","none"),this.loadPage(_("Twitter / 主页"),"home","Home"))}});e.mixin(c),a(e)})});provide("themes",function(a){using().as(function(b){twttr.themes={loadUserStyleFor:function(a){twttr.helpers.isCurrentUser(a)&&(a=twttr.currentUser);if(a&&!this._hasBrokenDefaults(a)){this._setTheme("user-style-"+a.screenName);if($("style#user-style-"+a.screenName).length===0){$("head style.js-user-style").remove();var b=twttr.isT1?twttr.views.UserCssT1:twttr.views.UserCssP1;(new b(a)).render("head","append")}$("style#user-style-"+a.screenName+"-bg-img").length===0&&($("head style.js-user-style-bg-img").remove(),(new twttr.views.BgImgCss(a)).render("head","append"))}else this.loadDefaultTheme()},loadCurrentUserStyle:function(){this.loadUserStyleFor(twttr.currentUser)},loadDefaultTheme:function(){twttr.isT1?this._setTheme("default-theme"):this._setTheme("user-style-twttr")},loadFrontPageTheme:function(){this._setTheme("front-page")},loadLoadingTheme:function(){this._setTheme("loading-body")},clear:function(){this._setTheme(!1)},_setTheme:function(a){var b=$("body");this._clearExistingTheme(),a&&b.addClass(a)},_brokenTheme:{profileBackgroundColor:"9ae4e8",profileBackgroundImageUrl:/\/images\/themes\/theme1\/bg.png$/i,profileBackgroundTile:!1,profileLinkColor:"0000ff",profileSidebarBorderColor:"87bc44",profileSidebarFillColor:"e0ff92",profileTextColor:"000000",profileUseBackgroundImage:!0},_hasBrokenDefaults:function(a){for(var b in this._brokenTheme){var c=this._brokenTheme[b],d=a[b],e=!1;twttr.is.regex(c)?e=!!d.match(c):e=c===d;if(!e)return!1}return!0},_clearExistingTheme:function(){var a=$("body");$("style[id^=user-style]").each(function(){a.removeClass(this.id)}),a.removeClass("loading-body front-page default-theme"),twttr.isT1||a.removeClass("static-page user-style-twttr")}},twttr.isT1||twttr.aug(twttr.themes,{loadStaticPageTheme:function(){this._setTheme("static-page")}}),a(twttr.themes)})});provide("Profiler",function(a){using("util").as(function(b){var c=0,d=b.util.params().profiling,e=twttr.klass("twttr.Profiler",function(a){if(!e.isEnabled()){this.waypoint=$.noop,this.waitFor=$.noop,this.done=$.noop,this.addBeforeScribbleFilter=$.noop,this.doneAfterCallback=function(a){return a};return}this.id=++c,this.description=a,this.pendingProfilers=0,this.subProfilers=[],this.startTime=new Date,this.endTime=null,this.isDone=!1,this.isComplete=!1,this.runawayProfilerTimeout=setTimeout(twttr.bind(this,this._giveUp),e.timeoutAfter),this.timedOut=!1,this.timedOutSubProfilers=[],this.beforeScribbleFilters=[],this.profilerType=e.types.GENERIC,d&&console.log("%s started",this.description)}).methods(twttr.EventProvider).statics({isEnabled:function(){return!!twttr.payload.profiling||!!d},logPreviousEvent:function(a,b,c){var d=new e(a);d.addBeforeScribbleFilter(function(a){return a.start_time_ms=b,a.end_time_ms=c,a.duration_ms=c-b,a}),d.done()},logDataSet:function(a,b,c){var d=new e(a);d.startTime=b,$.each(c,function(a,b){d.waypoint(b.name,b.timestamp)}),d.done()},timeoutAfter:15e3,types:{GENERIC:0,FIRST_PAGE_LOAD:1}}).methods({addBeforeScribbleFilter:function(a){this.beforeScribbleFilters.push(a)},doneAfterCallback:function(a){var b=this,c=function(a){return function(){twttr.is.fn(a)||console.warn("Invalid call to doneAfterCallback");var c=a.apply(this,arguments);return b.done(),c}};return twttr.is.fn(a)?c(a):(a.cancel=a.cancel||$.noop,a.cancel=c(a.cancel),a.complete=a.complete||$.noop,a.complete=c(a.complete),a)},waitFor:function(){this.isDone&&console.warn(".waitFor called on a profiler that's already complete",this);var a=this;$(arguments).each(function(b,c){if(!c||!(c instanceof e)){if(!twttr.is.def(c.profiler)){console.error("Non-profiler passed in, and it doesn't have a .profiler property");return}c=c.profiler}if(c.isComplete)return;d&&console.log("%s waiting for %o",a.description,c),a.pendingProfilers++,a.subProfilers.push(c),c.bind("complete",function(b,c,e){d&&(e?console.log("%s noticed that %o timed out",a.description,c):console.log("%s noticed that %o finished",a.description,c)),a.pendingProfilers--,e&&a.timedOutSubProfilers.push(c),a.pendingProfilers===0&&a.isDone&&a._complete()})})},done:function(){if(this.isDone)return;d&&console.log("%s is done",this.description),this.isDone=!0,clearTimeout(this.runawayProfilerTimeout),this.runawayProfilerTimeout=null,this.pendingProfilers===0&&!this.isComplete&&this._complete()},_complete:function(){d&&console.log("%s is complete",this.description),this.isComplete=!0,this.endTime=new Date,this.waypoint("complete"),this.trigger("complete",[this,this.timedOut])},_giveUp:function(){console.warn("Runaway profiler detected!",this),this.timedOut=!0,this.done()},waypoint:function(a,c){c=c||new Date;var e={profiler_type:this.profilerType,product:"webclient",start_time_ms:twttr.appStartTime,impression_id:twttr.session&&twttr.session.impressionId?twttr.session.impressionId.toString():null,id:this.id,description:this.description};this.isComplete?(e.end_time_ms=this.endTime.getTime(),e.duration_ms=this.endTime-this.startTime):(e.waypoint_time_ms=c.getTime(),e.duration_ms=e.waypoint_time_ms-this.startTime,e.waypoint_key=a),this.timedOut&&(e.timed_out=!0);var f=this;$.each(["subProfilers","timedOutSubProfilers"],function(a,c){f[c].length>0&&(e[b.util.underscore(c)]=twttr.map(f[c],function(a){return a.description}))}),$.each(this.beforeScribbleFilters,function(a,b){e=b.call(f,e)}),scribble("profiler_waypoint",e,"perftown"),d&&(this.isComplete?console.log("%s: complete after %d ms; data %o",this.description,e.duration_ms,e):console.log("%s: %s waypoint after %d ms; data %o",this.description,a,e.waypoint_time_ms-this.startTime,e))}});e.verboseProfiling=d,a(e)})});provide("RouteTimer",function(a){using("util").as(function(b){twttr.provide("twttr.RouteTimer",{previousRoute:null,previousPath:null,trackedRoute:null,trackedPath:null,trackedStream:null,trackAjax:!1,prestreamAjaxCount:0,poststreamAjax:{},routeTiming:{},timeoutId:0,routeStart:function(a,b){var c=this;this.routeTiming.next_time=(new Date).getTime(),this._scribeResultsAndReset(),this.previousRoute=this.trackedRoute||a,this.previousPath=this.trackedPath||b,this.trackedRoute=a,this.trackedPath=b,this.trackedStream=null,this.routeTiming.start_time=(new Date).getTime(),this.timeoutId=window.setTimeout(function(){c._scribeResultsAndReset()},2e4)},streamSwitch:function(a){var b=this,c=twttr.router.getCurrentRoute(),d=twttr.Router.getCurrentPath();if(!this.routeTiming.start_time||!this._routesEqual(c,this.trackedRoute)||d!==this.trackedPath||this._routesEqual(this.previousRoute,this.trackedRoute)&&this.previousPath===this.trackedPath){this._reset();return}this.routeTiming.stream_switch_time=(new Date).getTime(),this.trackedStream=a},streamAfterSwitch:function(a,b){this.trackedStream===a&&this.routeTiming.stream_switch_time?(this.routeTiming.stream_complete_time=(new Date).getTime(),this.routeTiming.cached=b,this._startAjaxTracking()):this._reset()},onAjaxComplete:function(a,b){if(!this.trackAjax||this.prestreamAjaxCount==0)return;if(b&&b.url in this.poststreamAjax)for(i=0;i<this.poststreamAjax[b.url].length;i++)if(b===this.poststreamAjax[b.url][i]){this.poststreamAjax[b.url].splice(i,1);return}this.prestreamAjaxCount--;if(this.prestreamAjaxCount==0||$.active==0)this.trackAjax=!1,this.routeTiming.ajax_complete_time=(new Date).getTime(),this._scribeResultsAndReset()},onAjaxSend:function(a,b){this.trackAjax&&b&&b.url&&(this.poststreamAjax[b.url]||(this.poststreamAjax[b.url]=[]),this.poststreamAjax[b.url].push(b))},_scribeResultsAndReset:function(){var a=this;if(this.routeTiming){var c=!0;$.each(["start_time","stream_switch_time","stream_complete_time","cached"],function(b,d){d in a.routeTiming||(c=!1)}),c&&(b.util.params().routetimer&&twttr.showMessage("switch: "+(this.routeTiming.stream_switch_time-this.routeTiming.start_time)+"<br>stream: "+(this.routeTiming.stream_complete_time-this.routeTiming.start_time)+"<br>ajax: "+(this.routeTiming.ajax_complete_time-this.routeTiming.start_time)+"<br>cached: "+this.routeTiming.cached,!0),scribble("route_time",$.extend({source_page:this.previousRoute.fn.pageName,source_action:this.previousRoute.fn.actionName,source_path:this.previousPath,dest_page:this.trackedRoute.fn.pageName,dest_action:this.trackedRoute.fn.actionName,dest_path:this.trackedPath},this.routeTiming),"route_timing"))}this._reset()},_startAjaxTracking:function(){var a=this;this.routeTiming.ajax_count=this.prestreamAjaxCount=$.active,this.prestreamAjaxCount==0?(this.routeTiming.ajax_complete_time=(new Date).getTime(),this._scribeResultsAndReset()):this.trackAjax=!0},_routesEqual:function(a,b){return a.name===b.name&&a.path===b.path},_reset:function(){this.routeTiming={},this.trackAjax=!1,this.prestreamAjaxCount=0,this.poststreamAjax={},this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=0}}),twttr.loggedIn&&(twttr.decider.isAvailable("route_timing")||b.util.params().routetimer)&&(twttr.router.bind("routeFollowed",function(a,b,c){twttr.RouteTimer.routeStart(b,c)}),$(document).ajaxComplete(function(a,b,c){twttr.RouteTimer.onAjaxComplete(b,c)}),$(document).ajaxSend(function(a,b,c){twttr.RouteTimer.onAjaxSend(b,c)})),a(twttr.RouteTimer)})});provide("bundle/t1-hogan-core",function(a){using(["$lib/jquery-1.7.1.js","libwrap/jquery","$lib/json2.js","libwrap/json","$lib/hogan.js","libwrap/hogan","run/base","_","/account/templates_t1_core.js","EventProvider","bluejs/init","bluejs/config/endpoints","bluejs/util/request_helpers","bluejs/util/local_storage_cache","bluejs/util/object_cache","bluejs/util/request_cache","bluejs/util/helpers","bluejs/util/model","bluejs/util/remote_request","bluejs/util/base_collection","bluejs/mixins/status_actions","bluejs/mixins/phoenix/user","bluejs/mixins/phoenix/current_user","bluejs/mixins/phoenix/status","bluejs/mixins/phoenix/rate_user_recommendation","bluejs/models/base","bluejs/models/user","bluejs/models/direct_message","bluejs/models/saved_search","bluejs/models/list","bluejs/models/location","bluejs/models/trend","bluejs/models/status","bluejs/models/promptbird","bluejs/models/search_result","bluejs/models/place","bluejs/models/user_recommendation","bluejs/models/suggestion_category","bluejs/models/related_tweets","bluejs/models/related_result","bluejs/util/promoted_content","bluejs/models/address_book","bluejs/models/promo","bluejs/models/urls","bluejs/models/blob","bluejs/models/device","bluejs/models/download","bluejs/models/search","bluejs/models/conversation","bluejs/models/activity","bluejs/models/topic_story","bluejs/models/news_article","bluejs/models/news_story","bluejs/models/user_story","bluejs/models/tweet_story","bluejs/models/story","bluejs/models/search_story","bluejs/models/stories","bluejs/models/discovery","bluejs/models/sports_story","bluejs/models/soccer_events","bluejs/models/us_political_rep","bluejs/models/social_proof","bluejs/models/referenced_by","extendAPI","bluejs/api","$lib/jquery.color.js","$lib/modernizr-1.5.js","$lib/jquery.hashchange.js","$lib/jquery.cookie.js","$lib/jquery.tipsy.js","$lib/jquery.cssanimation.js","IFrame","util","constants","cache","singletons/namespaced_store","singletons/promoted_account_store","singletons/promoted_tweet_store","decider","multiGlobals/scribble","abdecider","app","singletons/external_url_store","singletons/Router","streams/Stream","scribbles","multiGlobals/client_app_tracking","mixins/streamablePageDetailsPane","mixins/streamablePageDropdownEdition","mixins/itemActionableScribing","mixins/streamablePage","mixins/userActionableT1","mixins/userActionable","mixins/profilePopupActionable","mixins/listActionable","mixins/tweetActionable","mixins/pendingActions","mixins/i18nTweet","mixins/i18nTweetBox","mixins/promotedTweetStream","mixins/componentEvents","mixins/protectedUserActionable","mixins/serverRenderableObject","mixins/welcomeScribing","mixins/t1/emptyTimelineRecommendations","lib/natcompare","$lib/twitter-text-1.4.16.js","setup","search","helpers","errors","viewHelpers","components/Base","idleDetector","interface","run/topbarDropdown","tco","streams/TweetStream","streams/Home","streams/StreamManager","view","urlResolver","multiGlobals/core_views","multiGlobals/core_views_t1","router_t1","audit","multiGlobals/ClickTrail","run/defaultViews","TrendLocations","mixins/sideNavigationT1","components/PagePromise","components/Page","components/pages/mixins/homeT1","components/pages/Home","themes","Profiler","RouteTimer"],function(){a()})});